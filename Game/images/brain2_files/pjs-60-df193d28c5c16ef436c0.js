webpackJsonp([60,31,156],{"/8mn":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("W/Cr"),c=n("9bGG"),u=n("gEaE"),d=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.isHovering,o=n.hoverHandlers,a=o.onMouseOver,i=o.onMouseLeave;return s.a.createElement(u.b,{display:"inlineBlock",marginRight:2,tabIndex:0,onFocus:a,onBlur:i,onMouseOver:a,onMouseLeave:i,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:500}}},s.a.createElement("div",{style:{display:"inline-block"},ref:function e(n){t.claimedWebsiteMark=n}},s.a.createElement(u.m,{accessibilityLabel:r?"":l.a._("Claimed website","Claimed website icon"),color:"darkGray",icon:"globe-checked",inline:!0,size:16})),r&&s.a.createElement(u.M,{anchor:this.claimedWebsiteMark,idealDirection:"left",onDismiss:function e(){},size:"sm"},s.a.createElement(u.I,{color:"white",overflow:"normal",size:"xs"},l.a._("This website has been claimed","Tooltip for claimed website."))))},t}(i.Component);t.a=Object(c.a)(d)},"/F+I":function(e,t,n){"use strict";var r={PROFILE_COVER_SOURCE:"PROFILE_COVER_SOURCE"};t.a=r},"309r":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("LWri"),c=n("ZtCB"),u=n.n(c),d=n("sOF4"),p=n("i0Ug"),m=n("MQ2h"),f=n.n(m),h=n("Rmuw"),b=n("KDcb"),g=n("S+Qs"),y=n("aKzT"),w=n("mHth"),E=function e(t){return t&&t.display_data&&t.display_data.refresh_homefeed_background},v=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.inRenux=function(){var e=a.props.experience;return e&&500278===e.experience_id},a.handleDismiss=function(){var e=a.props,t=e.dispatch,n=e.experience,r=e.experienceClient,o=e.viewer,i=e.dismissCallback;r.dismissExperience(11,500278),E(n)&&t(Object(g.a)("UserHomefeedResource",Object(b.d)({experience:n,inNux:!0,staticFeed:!1,viewerIsPartner:o.isPartner}))),i&&i()},a.handleComplete=function(){var e=a.props,t=e.dispatch,n=e.experience,r=e.experienceClient,o=e.viewer,i=e.completeCallback;r.completeExperience(11,500278),t(Object(g.a)("UserHomefeedResource",Object(b.d)({experience:n,inNux:!0,staticFeed:!1,viewerIsPartner:o.isPartner}))),i&&i()},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.experience,r=t.experienceClient;if(this.inRenux()&&(r.viewExperience(11,500278),E(n))){var o=n&&n.display_data&&n.display_data.redo_homefeed_background;u.a.create("OrientationRefreshHomefeedResource",{redo_homefeed:o}).callUpdate()}},t.prototype.render=function e(){var t=this.props,n=t.experience,r=t.isSimpleRenux;if(r||this.inRenux()){var o=r?y.t:n.display_data;return s.a.createElement(l.a,Object.assign({},Object(h.a)(d.a,!0)(o),{handleComplete:this.handleComplete,handleDismiss:this.handleDismiss},this.props))}return null},t}(i.Component);t.a=Object(m.compose)(w.a,p.a)(v)},"32ZW":function(e,t,n){"use strict";function r(e,t){return e.some(function(e){return e.id===t.id})}function o(e){if(e>=0){for(var t=[[1e9,"B"],[1e6,"M"],[1e3,"K"]],n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;if(e>=a[0])return""+Math.round(e/a[0])+a[1]}return""+e}return""}function a(e){var t=e.startsWith("http")?e:"http://"+e;try{return new window.URL(t).hostname}catch(e){var n=document.createElement("a");return n.href=t,n.hostname}}t.a=r,t.b=o},"3hjj":function(e,t,n){"use strict";function r(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function o(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function a(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function i(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}t.c=r,t.b=o,t.a=a,t.d=i},"4MUs":function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=3,i=500,s=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return function e(o){var a=o.target;n>0&&(setTimeout(function(){a.src=t+"?"+Date.now()+n},r),n-=1,r*=2)}},l=n("LQXo"),c=n("gEaE"),u="#efefef",d=5,p=function e(t){var n=t.square||!1,r=t.imgHeight||void 0,a=t.pin,i=a.images["474x"];return o.a.createElement(c.b,{shape:"rounded",overflow:"hidden",display:"flex",direction:"column",justifyContent:"center",width:l.b,height:n?l.b:r},o.a.createElement(c.o,{alt:a.description,color:a.dominant_color||"#efefef",naturalWidth:i.width,naturalHeight:i.height,onError:s(i.url,5),src:i.url,fit:r?"cover":"none"}))},m=t.a=p},"6P5Y":function(e,t,n){var r=n("McbO"),o=n("qJu0"),a=n("3DTL"),i=o(function(e,t,n){return r(e,a(t)||0,n)});e.exports=i},"8IRs":function(e,t){},"9FEF":function(e,t,n){"use strict";function r(){if(h){var e;(e=console).log.apply(e,arguments)}}function o(e){return e.split("/").filter(Boolean)}function a(e){return e.startsWith(":")}function i(e,t){r("checking tokens",e,t);var n=a(e);return n?n===a(t)?0:-1:e===t?0:1}function s(e,t){r("comparing",e,t);var n=0,o=0;if(0===e.length||0===t.length)return r("zero length, bailed"),1;if(e.length!==t.length)return 1;for(;1!==n;){if(n=i(e[o],t[o]),r("those tokens are",n),0!==n)return n;if(o+=1,e.length<=o||t.length<=o)return 0}return-1}function l(e){if(!e)return[];var t=[],n=!1,a=0,i=(e||[]).filter(Boolean).map(function(e){return e.path}).filter(function(e){return m()(e,"for flow"),n&&(a+=1),!!f.test(e)||("*"===e?(n=!0,!1):"/_/_/*"!==e&&(t.push('Path "'+e+'" cannot be understood by validateChildRouteOrder'),!1))});if(a)return t.push("There are "+a+' routes defined after "*" that will never be invoked.'),t;var l=i.reduce(function(e,t){return m()(t,"for flow"),e[t]=o(t),e},{});return r("looking at",i),i.forEach(function(e,n){m()(e,"for flow");for(var o=[],a=[],c=0;c<n;c+=1){var u=i[c]||"";r("prev",u);var d=s(l[u]||[],l[e]||[]);r("isValid?",d),-1===d?o.push(u):0===d&&a.push(u)}a.length&&t.push('Path "'+String(e)+'" appears to be a clone of "'+a.join(", ")+'"'),o.length&&t.push('Path "'+String(e)+'" should be defined before "'+o.join(", ")+'"')}),t}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=n("Qsew"),m=n.n(p),f=/^[\/\:\-\_a-zA-Z0-9]*$/,h=!1;n.d(t,"b",function(){return b}),n.d(t,"a",function(){return y});var b=function(){function e(t){var n=t.path,r=t.onEnter,o=t.props,a=void 0===o?{}:o,i=t.onChange,s=t.onLeave,l=t.indexRoute,c=t.childRoutes,u=t.legacy_server_context,p=t.deeplinks,m=t.getComponent,f=t.component,h=t.authBundleLoader,b=t.authResources,y=t.bundle,w=t.chunkFilename;d(this,e),g.call(this),this.path=n,this.enterHooks=r?[r]:[],this.onChange=i,this.leaveHooks=s?[s]:[],this.props=a,this.indexRoute=l,this.childRoutes=c,this.legacy_server_context=u,this.deeplinks=p,this.getComponent=m,this.component=f,this.authBundleLoader=h,this.authResources=b,this.bundle=y,this.chunkFilename=w}return e.prototype.wrapReplace=function e(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"string"==typeof e?e=encodeURI(e):e.pathname=encodeURI(e.pathname),t.apply(void 0,[e].concat(r))}},e.prototype.addEnterHook=function e(t){this.enterHooks.push(t)},e.prototype.addLeaveHook=function e(t){this.leaveHooks.push(t)},e}(),g=function e(){var t=this;this.onEnter=function(e,n,r){var o=!1,a=t.wrapReplace(n);t.enterHooks.forEach(function(n){3===n.length?(o=!0,n.call(t,e,a,r)):n.call(t,e,a)}),o||r()},this.onLeave=function(e){t.leaveHooks.forEach(function(n){return n.call(t,e)})}},y=function(e){function t(n,r,o){return d(this,t),c(this,e.call(this,{path:n,onEnter:r,legacy_server_context:o}))}return u(t,e),t}(b)},"9omg":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("DUIN"),c=n("wUWH"),u=n("W/Cr"),d=n("ZtCB"),p=n.n(d),m=n("JyNp"),f=n("i0Ug"),h=n("MQ2h"),b=n.n(h),g=n("s6Db"),y=n("3hjj"),w=n("Kqaz"),E=n("gEaE"),v=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={selectedSortOption:void 0},a.handleClickSortBoard=function(e){var t=e.value;a.completeBoardSortExperience&&a.completeBoardSortExperience();var n=a.props,r=n.contextLog,o=n.dispatch;a.setState({selectedSortOption:t});var i={most_recent_board_sort_order:t};r(101,{component:13149,element:a.logElementType(t)}),p.a.create("UserMetadataResource",i).callUpdate(),o(Object(y.b)(t))},i=n,o(a,i)}return a(t,e),t.prototype.logElementType=function e(t){switch(t){case"alphabetical":return 10430;case"last_pinned_to":return 10431;case"newest":return 10432;case"oldest":return 10433;case"custom":return 10434;default:return""}},t.prototype.render=function e(){var t=this,n=this.props,r=n.isOwnProfile,o=n.hasCustomOrder,a=n.metadata,i=n.updatedBoardOrder,l=this.anchor;if(!a||!a.data)return null;var d=[{label:u.a._("Last saved to","board sort order option"),value:"last_pinned_to"},{label:u.a._("A to Z","alphabetical board sort order option"),value:"alphabetical"},{label:u.a._("Newest","board sort order option"),value:"newest"},{label:u.a._("Oldest","board sort order option"),value:"oldest"},{label:u.a._("Drag and drop","board sort order option for custom reordering"),value:"custom"}],p={canSortOwnBoards:!0,hasCustomOrder:o,isOwnProfile:!0,mostRecentBoardSortOrder:a.data.most_recent_board_sort_order,updatedBoardOrder:i},m=Object(g.getBoardOrder)(Object.assign({},p));return s.a.createElement(E.b,{display:"flex",alignItems:"center"},s.a.createElement(E.b,{display:"visuallyHidden"},s.a.createElement(E.p,{htmlFor:"boardSort"},u.a._("Sort boards","text label for select list that lets users sort their boards"))),s.a.createElement("div",{ref:function e(n){t.anchor=n}},s.a.createElement(E.b,{flex:"shrink"},s.a.createElement(E.D,{id:"boardSort",onChange:this.handleClickSortBoard,options:d,value:m}))),r&&s.a.createElement(c.a,{placementId:19,experienceIds:[500734]},function(e){var n=e.complete,r=e.dismiss;return t.completeBoardSortExperience=n,s.a.createElement(E.b,{dangerouslySetInlineStyle:{__style:{zIndex:"100"}}},s.a.createElement(E.M,{anchor:l,idealDirection:"down",onDismiss:r},s.a.createElement(E.I,{bold:!0,color:"white",size:"md"},u.a._("New! Sort your boards so everything’s easier to find","Label to introduce the Sort Board feature"))))}))},t}(i.Component);t.a=Object(h.compose)(w.a,f.a,Object(l.connect)(function(e){return{updatedBoardOrder:e.ui.views&&e.ui.views.updatedBoardOrder}}),Object(m.c)({name:"UserMetadataResource",key:"metadata",options:function e(t){return{user:{id:t.viewer.username}}}}))(v)},A2Zo:function(e,t,n){e.exports=function(){return new Promise(function(e){n.e(55).then(function(t){e(n("/XoM"))}.bind(null,n)).catch(n.oe)})}},B1W6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n("d6ZO"),s=n.n(i),l=n("W/Cr"),c=n("IaRT"),u=n.n(c),d=n("gEaE"),p=n("u+dI"),m=n.n(p),f=function e(t){switch(t.toUpperCase()){case"ID-ID":return"ID";case"MS-MY":return"MS";case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FR":return"FR";case"IT":return"IT";case"HU-HU":return"HU";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"SK-SK":return"SK";case"FI-FI":return"FI";case"SV-SE":return"SV";case"TL-PH":return"TL";case"VI-VN":return"VT";case"TR":return"TR";case"EL-GR":return"GR";case"RU-RU":return"RU";case"UK-UA":return"UA";case"HI-IN":return"HI";case"TH-TH":return"TH";case"KO-KR":return"KR";case"JA":return"JP";case"en-GB":return"ENUK";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"ENUS"}},h=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={LoadedComponent:null},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this,r=f(this.context.locale);n("IRWC")("./"+r).then(function(e){var n=e.default;t.setState({LoadedComponent:n})})},t.prototype.componentDidUpdate=function e(t,n){!n.LoadedComponent&&this.state.LoadedComponent&&this.props.onCtaDidLoad()},t.prototype.render=function e(){var t=this.props,n=t.width,r=t.height,o=this.state.LoadedComponent;return o?s.a.createElement(o,{height:r,title:l.a._("Open Pinterest and tap the camera icon for ideas","accessibility label for Pincode call-to-action text"),width:n}):s.a.createElement(d.E,{accessibilityLabel:l.a._("Loading Pincode Call to Action","accessibility label for loading the Pincode call-to-action image"),show:!0})},t}(i.Component);h.contextTypes={locale:u.a.string},t.default=h},BsaQ:function(e,t,n){"use strict";function r(e){function t(){r(Object(m.b)(a.pathname))}var n=e.children,r=e.dispatch,a=e.location,i=e.locationToErrorMap,s=e.routes,l=e.router,u=e.params,d=s[2].path||h.a.DECIDER;return o.createElement(c,{username:u.username,tab:d,renderError:i[a.pathname],unsetError:t,router:l,showPulsar:a.query.showPulsar},n)}Object.defineProperty(t,"__esModule",{value:!0});var o=n("d6ZO"),a=n.n(o),i=n("DUIN"),s=n("vP1o"),l=n("JyNp"),c=Object(l.c)({name:"UserResource",key:"user",options:function e(t){return{username:t.username,field_set_key:"profile"}}})(s.a),u=n("Xafg"),d=n("MQ2h"),p=n.n(d),m=n("DGvV"),f=n("dCTv"),h=n("dI1q"),b=t.default=Object(d.compose)(f.b,Object(u.a)({name:"ProfilePage",resourceDependencies:function e(t,n){return[{name:"PinResource",options:{field_set_key:"detailed",username:n.id}},{name:"UserResource",options:{username:n.id,field_set_key:"profile"}}]}}),Object(i.connect)(function(e){return{locationToErrorMap:e.ui.mainComponent.locationToErrorMap}}))(r)},CAF8:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("DUIN"),c=n("W/Cr"),u=n("ZtCB"),d=n.n(u),p=n("JyNp"),m=n("i0Ug"),f=n("Kqaz"),h=n("MQ2h"),b=n.n(h),g=n("gEaE"),y=n("3hjj"),w=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.icons={regular:{path:"M13.00,20.00 L13.00,13.00 L20.00,13.00 L20.00,20.00 L13.00,20.00 Z M4.00,11.00 L4.00,4.00 L11.00,4.00 L11.00,11.00 L4.00,11.00 Z M13.00,11.00 L13.00,4.00 L20.00,4.00 L20.00,11.00 L13.00,11.00 Z M4.00,20.00 L4.00,13.00 L11.00,13.00 L11.00,20.00 L4.00,20.00 Z",label:c.a._("Regular","Label for selecting the regular pin density view")},dense:{path:"M16.00,20.00 L20.00,20.00 L20.00,16.00 L16.00,16.00 L16.00,20.00 Z M10.00,8.00 L10.00,4.00 L14.00,4.00 L14.00,8.00 L10.00,8.00 Z M4.00,8.00 L4.00,4.00 L8.00,4.00 L8.00,8.00 L4.00,8.00 Z M16.00,8.00 L16.00,4.00 L20.00,4.00 L20.00,8.00 L16.00,8.00 Z M4.00,14.00 L4.00,10.00 L8.00,10.00 L8.00,14.00 L4.00,14.00 Z M10.00,14.00 L10.00,10.00 L14.00,10.00 L14.00,14.00 L10.00,14.00 Z M16.00,14.00 L16.00,10.00 L20.00,10.00 L20.00,14.00 L16.00,14.00 Z M4.00,20.00 L4.00,16.00 L8.00,16.00 L8.00,20.00 L4.00,20.00 Z M10.00,20.00 L10.00,16.00 L14.00,16.00 L14.00,20.00 L10.00,20.00 Z",label:c.a._("Dense","Label for selecting the dense pin density view")}},a.handleItemChange=function(e){var t=e.activeIndex,n=a.props,r=n.dispatch,o=n.contextLog,i=n.viewType,s=n.component,l=n.pinView,c=0===t?"regular":"dense";o(101,{view:i,component:s,element:a.getElementType(c),viewParameter:4===i?3106:3069}),"board"===l?(d.a.create("UserMetadataResource",{profile_pin_rep_view_type:c}).callUpdate(),r(Object(y.a)(c))):r(Object(y.d)(c))},i=n,o(a,i)}return a(t,e),t.prototype.componentDidUpdate=function e(){var t=this.props,n=t.dispatch,r=t.metadata,o=t.updatedBoardPinDensity;if(r&&r.data&&""===o){var a=r.data.profile_pin_rep_view_type;n(a?Object(y.a)(a):Object(y.a)("regular"))}},t.prototype.getElementType=function e(t){switch(this.props.viewType){case 164:return"regular"===t?10618:10619;case 5:return"regular"===t?10607:10608;case 4:return"regular"===t?10605:10606;default:return null}},t.prototype.render=function e(){var t=this,n=this.props,r=n.metadata,o=n.updatedBoardPinDensity;if(!r||!r.data)return null;var a="dense"===o?1:0;return i.createElement("div",{className:"OwnBoardSelector"},i.createElement(g.C,{items:Object.keys(this.icons).map(function(e,n){var r=t.icons[e],o=r.label,s=r.path;return i.createElement(g.m,{accessibilityLabel:o,dangerouslySetSvgPath:{__path:s},color:a===n?"darkGray":"gray",size:24})}),onChange:this.handleItemChange,selectedItemIndex:a}))},t}(i.Component);t.a=Object(h.compose)(Object(l.connect)(function(e,t){return{updatedBoardPinDensity:e.ui.views&&e.ui.views[t.pinView+"PinView"]}}),f.a,m.a,Object(p.c)({name:"UserMetadataResource",key:"metadata",options:function e(t){return{user:{id:t.viewer.username}}}}))(w)},CoQw:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("lJyW"),o=n.n(r),a=function e(t,n){if(n){var r=t;return/.*?:\/\//.test(t)||(r="http://"+r),(r=o()(r)).host}return t=t.replace(/.*?:\/\//g,""),t=t.replace(/\/$/,"")},i=function e(t){var n=new RegExp("(?:.+?://)?(?:www[d]*.)?([^/:#?]*)","i").exec(t);return(n&&n[1]||"").toLowerCase().replace(/\.$/,"")}},CrRE:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("QaZX"),a=n("A2Zo"),i=n.n(a),s=n("mIxQ"),l=n.n(s),c=n("FJZF"),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this,s=arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r(this,e),this.onUploaderSubmit=function(e,t){a.submitCallback&&a.submitCallback(e,t)},this.onUploaderComplete=function(e,t,n){!n.success&&a.errorCallback?a.errorCallback(n,t):n.success&&a.successCallback&&a.successCallback(e,t,n)},this.onUploaderError=function(e,t,n){a.errorCallback&&a.errorCallback({error:n},t)},this.onUploaderProgress=function(e,t,n,r){var o=Math.round(n/r*100);a.progressCallback&&a.progressCallback(n,r,o,t)},this.enableUploader=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"unknown",c=arguments[5];t&&(a.progressCallback=t),n&&(a.successCallback=n),r&&(a.errorCallback=r),c&&(a.submitCallback=c),i()().then(function(t){var n=t.default;a.uploader=new n.FineUploaderBasic({debug:l.a.DEBUG,button:e,dropZoneElements:[e],inputTitle:a.inputTitle,multiple:a.allowMultipleFiles,text:{defaultResponseError:"An unknown upload error occurred."},request:{endpoint:a.getUploadUrl(),inputName:"img",forceMultipart:!0,customHeaders:{"X-CSRFToken":o.a.getCSRFToken(),"X-UPLOAD-SOURCE":s},params:a.params},callbacks:{onUpload:a.onUploaderSubmit,onComplete:a.onUploaderComplete,onProgress:a.onUploaderProgress,onError:a.onUploaderError},validation:{acceptFiles:a.acceptFiles||""}}),e&&Object.assign(e.style,a.styleOverrides)})},this.styleOverrides={overflow:"visible"},this.params=t||{},this.inputTitle=s||"file input",this.allowMultipleFiles=n,this.acceptFiles=c.join(",")}return e.prototype.getUploadUrl=function e(){return c.a.absolutify("/upload-image/")},e}();t.a=u},DGvV:function(e,t,n){"use strict";function r(e){return{type:"SET_MAIN_COMPONENT",payload:{name:e}}}function o(e){return{type:"SET_INIT_MAIN_COMPONENT",payload:{name:e}}}function a(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}function s(e){return{type:"SET_UPWT_ACTION_NAME",payload:{name:e}}}t.a=a,t.b=i},DJud:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("/e0Y"),c=n("W/Cr"),u=n("R6a3"),d=n("ZtCB"),p=n.n(d),m=n("gEaE"),f=n("FrUj"),h=function e(t,n){var r=[],o=[],a={};return t.forEach(function(e){var t=e(n);Object.keys(t).includes("score")&&(a={score:t.score}),t.suggestions&&(o=o.concat(t.suggestions)),r=r.concat(t.errors)}),Object.assign({errors:r,suggestions:o.filter(function(e){return e})},a)},b=function e(t){var n=t.children,r=t.htmlFor,o=t.label,a=t.divide;return i.createElement(m.b,null,i.createElement(m.b,{display:"flex",padding:4},i.createElement(m.b,{alignItems:"center",marginRight:3,xs:{column:4}},i.createElement(m.p,{htmlFor:r},i.createElement(m.I,{bold:!0},o))),n),a?i.createElement(m.i,null):null)},g=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=a=o(this,e.call.apply(e,[this].concat(u))),a.state={buttonLoading:!1,modalLoading:!1,oldPassword:void 0,newPassword:void 0,repeatPassword:void 0,oldPasswordErrors:[],newPasswordErrors:[],repeatPasswordErrors:[]},a.handleSubmit=function(e){e.event.preventDefault();var t=a.state,n=t.oldPassword,r=t.oldPasswordErrors,o=t.newPassword,i=t.newPasswordErrors,s=t.repeatPassword,l=t.repeatPasswordErrors,c=a.props.hasPassword;if(a.handleButtonLoading(!0),a.handleBlankFields(),r.length||i.length||l.length||c&&void 0===n||void 0===o||void 0===s)a.handleButtonLoading(!1);else{var u={new_password:o,new_password_confirm:s,old_password:n};p.a.create("UserPasswordResource",u).callUpdate({showError:!1}).then(function(){a.props.onHide(),a.props.onSuccess&&a.props.onSuccess()},function(e){var t,n=((e.extra_data||{}).objects||{}).field||"old";a.setState((t={},t[n+"PasswordErrors"]=[e.message],t)),a.handleButtonLoading(!1)})}},a.handleForgotPassword=function(){l.a.trackEvent("forgot_password","click"),a.handleModalLoading(!0),p.a.create("UserResetPasswordResource",{username_or_email:a.props.username}).callCreate({showError:!1}).then(function(){l.a.trackEvent("forgot_password","success"),a.props.onPasswordForgotModal(),a.handleModalLoading(!1)},function(){l.a.trackEvent("forgot_password","error")})},a.handleBlankFields=function(){var e={};void 0===a.state.oldPassword&&(e.oldPasswordErrors=[c.a._("Required")]),void 0===a.state.newPassword&&(e.newPasswordErrors=[c.a._("Required")]),void 0===a.state.repeatPassword&&(e.repeatPasswordErrors=[c.a._("Required")]),a.setState(e)},a.updateAndValidate=function(e,t){var n,r={oldPassword:a.state.oldPassword,newPassword:a.state.newPassword,repeatPassword:a.state.repeatPassword};r[e]=t;var o=[],i=[],s=[];void 0!==r.oldPassword&&(o=Object(f.q)()(r.oldPassword).errors),void 0!==r.newPassword&&(i=a.validateNewPassword(r.newPassword).errors),void 0!==r.repeatPassword&&void 0!==r.newPassword&&(s=a.validateRepeatPassword(r.newPassword,r.repeatPassword).errors),a.setState((n={},n[e]=t,n.oldPasswordErrors=o,n.newPasswordErrors=i,n.repeatPasswordErrors=s,n))},i=n,o(a,i)}return a(t,e),t.prototype.handleButtonLoading=function e(t){this.setState({buttonLoading:t})},t.prototype.handleModalLoading=function e(t){this.setState({modalLoading:t})},t.prototype.validateNewPassword=function e(t){var n=[Object(f.q)(),Object(f.b)({message:c.a.commonStrings.asciiPasswordError}),Object(f.n)({username:this.props.username,samePasswordStr:c.a._("Oops! Your password shouldn’t match your username.")})];return h(n,t)},t.prototype.validateRepeatPassword=function e(t,n){var r=[Object(f.q)(),Object(f.f)({targetValue:t,message:c.a._("Passwords don’t match")})];return h(r,n)},t.prototype.render=function e(){var t=this,n=this.state,r=n.oldPasswordErrors,o=n.newPasswordErrors,a=n.repeatPasswordErrors,s=this.props.hasPassword,l=s?c.a._("Change your password"):c.a._("Set your password"),d=s?c.a._("Change Password"):c.a._("Save"),p=(!s||this.state.oldPassword)&&this.state.newPassword&&this.state.repeatPassword&&0===r.length&&0===o.length&&0===a.length,f=i.createElement(m.b,{alignItems:"center",justifyContent:"end",marginLeft:-1,marginRight:-1,display:"flex"},i.createElement(m.b,{paddingX:1},i.createElement(m.c,{inline:!0,onClick:this.props.onHide,text:c.a._("Cancel"),size:"md"})),i.createElement(m.b,{paddingX:1},i.createElement(m.c,{color:"red",disabled:!p||this.state.buttonLoading,inline:!0,type:"submit",onClick:this.handleSubmit,text:d,size:"md"})));return i.createElement(u.a,{accessibilityCloseLabel:c.a._("Close"),accessibilityModalLabel:l,onDismiss:this.props.onHide,heading:l,footer:f,size:"md"},s?i.createElement(m.b,null,i.createElement(m.b,{display:"flex",padding:4},i.createElement(m.b,{marginRight:3,xs:{column:4}},i.createElement(m.p,{htmlFor:"changePasswordOld"},i.createElement(m.I,{bold:!0},c.a._("Old password")))),i.createElement(m.b,{flex:"grow"},i.createElement(m.K,{errorMessage:r[0],id:"changePasswordOld",idealErrorDirection:"down",name:"old",onChange:function e(n){var r=n.value;return t.updateAndValidate("oldPassword",r)},type:"password",value:this.state.oldPassword}),i.createElement(m.b,{marginTop:1,overflow:"hidden"},i.createElement(m.c,{inline:!0,onClick:this.handleForgotPassword,text:c.a._("Forgot it?"),size:"md"})))),i.createElement(m.i,null)):null,i.createElement(b,{divide:!0,htmlFor:"changePasswordNew",label:c.a._("New password")},i.createElement(m.b,{flex:"grow"},i.createElement(m.K,{errorMessage:o[0],id:"changePasswordNew",idealErrorDirection:"down",name:"new",onChange:function e(n){var r=n.value;return t.updateAndValidate("newPassword",r)},type:"password",value:this.state.newPassword}))),i.createElement(b,{htmlFor:"changePasswordNewConfirm",label:c.a._("Type it again")},i.createElement(m.b,{flex:"grow"},i.createElement(m.K,{errorMessage:a[0],id:"changePasswordNewConfirm",idealErrorDirection:"up",name:"new_confirm",onChange:function e(n){var r=n.value;return t.updateAndValidate("repeatPassword",r)},type:"password",value:this.state.repeatPassword}))))},t}(i.Component);t.a=g},FHbT:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("WjSu"),c=n("W/Cr"),u=n("CrRE"),d=n("ZtCB"),p=n.n(d),m=n("FJZF"),f=n("dCTv"),h=n("ok+N"),b={addTastemaker:"addTastemaker",addTastemakerConfirmation:"addTastemakerConfirmation",blockConfirmation:"blockConfirmation",blockWarning:"blockWarning",editProfile:"editProfile",reportBug:"reportBug",reportBugSuccess:"reportBugSuccess",reportBugFailure:"reportBugFailure",sendProfile:"sendProfile",signupLogin:"signupLogin",unblock:"unblock"},g=b,y=n("gEaE"),w=function e(t){return Boolean(t.trim())},E=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.handleSelectListChange=function(e){var t=e.value;a.setState({bugtype:t})},a.handleSubmit=function(e){e.preventDefault(),e.stopPropagation(),a.setState({isSubmitting:!0});var t=window.navigator.userAgent,n=m.a.getCurrentUrl(),r=a.props.experiments.getActiveExperimentInfo(),o=void 0;switch(a.state.bugtype){case"FEATURE_ERROR":o="Functionality";break;case"IRRELEVANT_RESULT":o="Relevance";break;case"DESIGN_ERROR":o="Visual";break;case"COPY_ERROR":o="Linguistic";break;default:o="Functionality"}var i={activatedExperiments:r,bugtype:a.state.bugtype,description:a.state.description,environment:t,platform:3===l.a.instance.site_type?"sterling":"web",title:a.state.title,url:n,userImpact:o,username:a.props.username,advertiserId:a.props.advertiserId,image_url:a.state.imageUrl,filename:a.state.uploadComplete};a.state.imageUrl&&(i.image_url=a.state.imageUrl,i.filename=a.state.uploadComplete),p.a.create("ReportErrorResource",i).callCreate().then(function(e){e.resource_response.data.errorMessages?a.setState({confirmModal:b.reportBugFailure,isSubmitting:!1}):a.setState({confirmModal:b.reportBugSuccess,isSubmitting:!1})}).catch(function(){a.setState({isSubmitting:!1,confirmModal:b.reportBugFailure})})},a.handleClearFailure=function(){a.setState({confirmModal:!1})},a.handleUploadFailure=function(){a.setState({uploadComplete:c.a._("Upload failed!"),uploadPercent:null})},a.handleUploadSuccess=function(e,t,n){a.setState({imageUrl:n.image_url,uploadComplete:t,uploadPercent:null})},a.handleTitleChange=function(e){var t=e.value;a.setState({title:t})},a.handleDescriptionChange=function(e){var t=e.value;a.setState({description:t})},a.uploadProgress=function(e,t,n){a.setState({uploadPercent:n,uploadComplete:!1})},a.state={bugtype:"FEATURE_ERROR",confirmModal:!1,description:"",imageUrl:null,isSubmitting:!1,title:"",uploadComplete:!1,uploadPercent:null},a}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.handleUploadSuccess,n=this.handleUploadFailure,r=this.uploadProgress;(new u.a).enableUploader(this.button,r,t,n)},t.prototype.render=function e(){var t=this,n=this.props.onClearModal,r=this.handleClearFailure,o=this.handleSubmit,a=this.state,s=a.bugtype,l=a.confirmModal,u=a.description,d=a.isSubmitting,p=a.uploadComplete,m=a.uploadPercent,f=a.title,h=[{value:"FEATURE_ERROR",label:c.a._("Something is broken")},{value:"IRRELEVANT_RESULTS",label:c.a._("Irrelevant search, Pin, or ad")},{value:"DESIGN_ERROR",label:c.a._("Design is wrong")},{value:"COPY_ERROR",label:c.a._("Translation or copy is wrong")}],g=null;p?g=p:m&&(g=m+"%");var E=w(f)&&w(u);return i.createElement("form",{method:"post",onSubmit:o},i.createElement(y.b,{color:"white",paddingX:4,paddingY:5,width:500},i.createElement(y.I,{align:"center",size:"xl",bold:!0},c.a._("Report a Bug")),i.createElement(y.b,{paddingY:3},i.createElement(y.i,null)),i.createElement(y.b,{display:"flex",direction:"column"},i.createElement(y.b,{paddingX:2,paddingY:2,display:"flex",direction:"column",alignItems:"stretch"},i.createElement(y.p,{htmlFor:"bugTitle"},i.createElement(y.I,null,c.a._("Description (Required)"))),i.createElement(y.b,{paddingY:1},i.createElement(y.K,{id:"bugTitle",name:"title",onChange:this.handleTitleChange,type:"text",value:this.state.title}))),i.createElement(y.b,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},i.createElement(y.b,null,i.createElement(y.p,{htmlFor:"description"},i.createElement(y.I,null,c.a._("Steps to Reproduce (Required)")))),i.createElement(y.b,{paddingY:1},i.createElement(y.J,{id:"description",name:"description",onChange:this.handleDescriptionChange,value:this.state.description}))),i.createElement(y.b,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},i.createElement(y.b,null,i.createElement(y.p,{htmlFor:"bugtype"},i.createElement(y.I,null,c.a._("Type","type as in variety or kind")))),i.createElement(y.b,{paddingY:1},i.createElement(y.D,{id:"bugtype",name:"bugtype",onChange:this.handleSelectListChange,options:h,value:s}))),i.createElement(y.b,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},i.createElement(y.b,{paddingY:1},i.createElement(y.I,null,c.a._("Attach a Screenshot"))),i.createElement(y.b,{alignItems:"center",direction:"row",display:"flex",marginstart:-1,marginend:-1},i.createElement("div",{ref:function e(n){t.button=n},style:{overflow:"visible",float:"left"}},i.createElement(y.c,{text:c.a._("Choose file"),size:"sm",type:"button",color:"gray"})),i.createElement(y.b,{flex:"grow",paddingX:2},i.createElement(y.I,{size:"sm",align:"left"},g||c.a._("None")))))),i.createElement(y.b,{paddingY:3},i.createElement(y.i,null)),i.createElement(y.b,null,i.createElement(y.b,{display:"flex",justifyContent:"end",direction:"row",paddingY:2},i.createElement(y.b,{paddingX:2},i.createElement(y.c,{disabled:!E,text:c.a._("Report"),type:"submit",color:"red"})),l&&i.createElement(y.w,{accessibilityCloseLabel:c.a._("Close","hide the view"),accessibilityModalLabel:c.a._("View Bug Report Submission Status"),heading:l===b.reportBugSuccess?c.a._("Bug Reported!"):c.a._("Oops!"),onDismiss:l===b.reportBugFailure?r:n},i.createElement(y.b,{paddingX:4,paddingY:4},i.createElement(y.I,null,l===b.reportBugSuccess?c.a._("Sorry about that. We’ve been notified and will work on a fix! High-five for reporting. "):c.a._("Something went wrong and we were unable to report your bug. We’re looking into it!"))))),d&&i.createElement(y.b,{display:"flex",justifyContent:"end",direction:"row",paddingY:2,paddingX:2},i.createElement(y.I,null,c.a._("Submitting..."))))))},t}(i.Component),v=t.a=Object(f.b)(E)},"GY/T":function(e,t){},HZVI:function(e,t){},IRWC:function(e,t,n){function r(e){var t=o[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./":["B1W6"],"./CZ":["zgA+",198],"./CZ.js":["zgA+",198],"./DA":["9Eu6",197],"./DA.js":["9Eu6",197],"./DE":["1OWR",196],"./DE.js":["1OWR",196],"./ENUK":["q6BY",195],"./ENUK.js":["q6BY",195],"./ENUS":["C3YW",194],"./ENUS.js":["C3YW",194],"./ESAR":["Esx1",193],"./ESAR.js":["Esx1",193],"./ESES":["5TSt",192],"./ESES.js":["5TSt",192],"./ESMX":["RCqx",191],"./ESMX.js":["RCqx",191],"./FI":["Kpj8",190],"./FI.js":["Kpj8",190],"./FR":["DC2F",189],"./FR.js":["DC2F",189],"./GR":["cJmM",188],"./GR.js":["cJmM",188],"./HI":["BK6Q",187],"./HI.js":["BK6Q",187],"./HU":["Zm94",186],"./HU.js":["Zm94",186],"./ID":["0G5E",185],"./ID.js":["0G5E",185],"./IT":["LoWm",184],"./IT.js":["LoWm",184],"./JP":["bHAe",183],"./JP.js":["bHAe",183],"./KR":["F3jr",182],"./KR.js":["F3jr",182],"./MS":["Zvhh",181],"./MS.js":["Zvhh",181],"./NL":["bqby",180],"./NL.js":["bqby",180],"./NO":["QJEi",179],"./NO.js":["QJEi",179],"./PL":["69I4",178],"./PL.js":["69I4",178],"./PTBR":["1bsb",177],"./PTBR.js":["1bsb",177],"./PTPT":["BAlS",176],"./PTPT.js":["BAlS",176],"./RO":["4HgD",175],"./RO.js":["4HgD",175],"./RU":["Ei0y",174],"./RU.js":["Ei0y",174],"./SK":["gggG",173],"./SK.js":["gggG",173],"./SV":["enDa",172],"./SV.js":["enDa",172],"./TH":["7qrK",171],"./TH.js":["7qrK",171],"./TL":["o4ly",170],"./TL.js":["o4ly",170],"./TR":["dO8M",169],"./TR.js":["dO8M",169],"./UA":["FYTd",168],"./UA.js":["FYTd",168],"./VT":["9mJy",167],"./VT.js":["9mJy",167],"./ZHCN":["CJlW",166],"./ZHCN.js":["CJlW",166],"./ZHTW":["nZUG",165],"./ZHTW.js":["nZUG",165],"./index":["B1W6"],"./index.js":["B1W6"]};r.keys=function e(){return Object.keys(o)},r.id="IRWC",e.exports=r},JGru:function(e,t,n){"use strict";var r=n("BAXv"),o=n("WjSu"),a={getBrowser:function e(){var t=o.a.instance.browser_name||"";switch(!0){case t.includes("Chrome"):return r.a.BrowserType.CHROME;case t.includes("Safari"):return r.a.BrowserType.SAFARI;case t.includes("Firefox"):return r.a.BrowserType.FIREFOX;case t.includes("Opera"):return r.a.BrowserType.OPERA;case t.includes("IE"):return r.a.BrowserType.IE;default:return r.a.BrowserType.OTHER}},isSafari:function e(){return this.getBrowser()===r.a.BrowserType.SAFARI}};t.a=a},K1Hn:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.connectType,n=e.onConfirm,r=e.onHide,o=y.a._("Erase existing password?");return b.a.createElement(j.a,{accessibilityCloseLabel:y.a._("Close"),accessibilityModalLabel:o,onDismiss:r,heading:o,footer:b.a.createElement(S.b,{marginLeft:-1,marginRight:-1},b.a.createElement(S.b,{padding:1},b.a.createElement(S.c,{size:"lg",text:y.a._("Cancel","Button text for canceling connect and erase password"),onClick:r})),b.a.createElement(S.b,{padding:1},b.a.createElement(S.c,{size:"lg",color:"red",text:y.a._("Okay","Button text for accepting connect and erase password"),onClick:n}))),role:"alertdialog"},b.a.createElement(S.b,{padding:4},b.a.createElement(S.I,null,"google"===t?y.a._("Please confirm that you’ll log in with Google—rather than your previous Pinterest password—in the future"):y.a._("Please confirm that you’ll log in with Facebook—rather than your previous Pinterest password—in the future"))))}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){return ne}var h=n("d6ZO"),b=n.n(h),g=n("BAXv"),y=n("W/Cr"),w=n("tmfO"),E=n("IaRT"),v=n.n(E),_=n("WBZ1"),C=n.n(_),x=n("85jk"),S=n("gEaE"),O=10,T=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={isVisible:!0},a.onScroll=C()(function(){var e=a.getScrollPos();e>O?a.setState({isVisible:!1}):0===e&&a.setState({isVisible:!0})}),a.handleGotItClick=function(){Object(x.a)("auth_eu_cookie_banner_dismissed"),a.props.onGotItClick&&a.props.onGotItClick()},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){window.addEventListener("scroll",this.onScroll),this.onScroll()},t.prototype.componentWillUnmount=function e(){window.removeEventListener("scroll",this.onScroll)},t.prototype.getScrollPos=function e(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0},t.prototype.hide=function e(){this.state.isVisible&&this.setState({isVisible:!1})},t.prototype.show=function e(){this.state.isVisible||this.setState({isVisible:!0})},t.prototype.handleLearnMoreClick=function e(){Object(x.a)("auth_eu_cookie_banner_learnmore")},t.prototype.handlePrivacyClick=function e(){Object(x.a)("auth_eu_cookie_banner_privacy")},t.prototype.render=function e(){var t={__style:{animation:this.state.isVisible?"fadeIn .5s":"fadeOutAndHide .5s forwards",backgroundColor:"#1c232c",opacity:.8,zIndex:1e3}};return b.a.createElement("div",{className:"EuCookieBar"},b.a.createElement(S.b,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:t,height:36,justifyContent:"between",position:"fixed",xs:{column:12,display:"flex"}},b.a.createElement(S.b,{deprecatedPadding:{x:2}},b.a.createElement(w.b,{onClick:this.handlePrivacyClick,style:{color:"white"},to:g.a.GEN.templateConst.settings.ABOUT_PRIVACY_URL},y.a._("Privacy","Accessible label for the Privacy link in the EU cookie bar"))),b.a.createElement(S.b,{display:"flex",alignItems:"center"},b.a.createElement(S.b,{deprecatedPadding:{x:1}},b.a.createElement(S.I,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},y.a._("Pinterest is using cookies to help give you the best experience we can.","Accessible label for the cookie text description in the EU cookie bar"))),b.a.createElement(S.b,{deprecatedPadding:{x:1}},b.a.createElement(w.b,{onClick:this.handleLearnMoreClick,style:{color:"white"},to:g.a.GEN.templateConst.settings.ABOUT_COOKIE_URL},y.a._("Learn More","Accessible label for the Learn More link in the EU cookie bar"))),b.a.createElement(S.b,{deprecatedPadding:{x:1}},b.a.createElement("button",{className:"Button borderless cookieButton",onClick:this.handleGotItClick},y.a._("Got it!","Accessible label for the Got it! button in the EU cookie bar"))))))},t}(h.PureComponent),I=n("wUWH"),P=function e(t){var n=t.placementId;return h.createElement(I.a,{experienceIds:[14e3],placementId:n},function(e){var t=e.complete;return h.createElement(T,{onGotItClick:t})})},k=n("S1T6"),j=n("R6a3"),R=i,B=function e(t){var n=t.connectType,r=t.onConfirm;return b.a.createElement(j.a,{accessibilityCloseLabel:y.a._("Close","Button text for closing account connect confirmation"),accessibilityModalLabel:y.a._("Successfully connected account","Accessible label for success message after account connect"),onDismiss:r,heading:y.a._("Success!","Title for success message after account connect"),footer:b.a.createElement(S.b,{marginLeft:-1,marginRight:-1},b.a.createElement(S.b,{padding:1},b.a.createElement(S.c,{size:"lg",color:"red",text:y.a._("Got it","Button text for accepting account connect confirmation"),onClick:r}))),role:"alertdialog"},b.a.createElement(S.b,{padding:4},b.a.createElement(S.I,null,"google"===n?y.a._("You can now log into Pinterest with your Google account.","Inform users they should log in with Google after compromised account flow"):y.a._("You can now log into Pinterest with your Facebook account.","Inform users they should log in with Facebook after compromised account flow"))),b.a.createElement(S.b,{paddingBottom:4,paddingX:4},b.a.createElement(S.I,null,y.a._("That means your old password will no longer work.","Inform users they cannot login with a password after using social connect in compromised account flow"))))},N=n("lip+"),L=function e(t){var n=t.onClick,r=t.text;return h.createElement(S.b,{marginStart:2},h.createElement(S.c,{color:"transparent",inline:!0,onClick:n,text:r}))},M=n("6oz1"),U=function e(t){var n=t.onChangePassword,r=t.onDismiss,o=t.onFacebookConnect,a=t.onGoogleConnect;return h.createElement("div",{className:"gridCentered"},h.createElement(S.b,{marginTop:6,marginEnd:3,marginStart:3,overflow:"hidden",shape:"rounded"},h.createElement(S.b,{color:"darkGray",paddingY:4,paddingX:4},h.createElement(S.b,{display:"flex",alignItems:"start",justifyContent:"between"},h.createElement(S.b,{flex:"grow"},h.createElement(S.I,{color:"white",bold:!0},y.a._("Based on our automatic security checks, it looks like your Pinterest password is the same as one that was stolen from another site.","Notify user their account credentials are compromised")),h.createElement(S.b,{marginTop:3},h.createElement(M.b,{name:"web_compromised_account_banner_v2"},h.createElement(M.c,{groupStartsWith:["employees","enabled_password_fb_google"]},h.createElement(S.I,{color:"white",bold:!0},y.a._("We recommend you change your password or connect your Google or Facebook account.","Suggest a user change their password or connect to Google / Facebook"))),h.createElement(M.a,null,h.createElement(S.I,{color:"white",bold:!0},y.a._("We recommend you change your password.","Suggest a user change their password")))))),h.createElement(S.b,{marginTop:-2,marginEnd:-2},h.createElement(S.n,{accessibilityLabel:y.a._("Close","accessibility close label"),onClick:r,icon:"cancel"}))),h.createElement(S.b,{xs:{display:"flexColumn"},sm:{display:"flex"},marginTop:4},h.createElement(S.c,{inline:!0,onClick:n,text:y.a._("Change Password","Shows a form for the user to change their password")}),h.createElement(M.b,{name:"web_compromised_account_banner_v2"},h.createElement(M.c,{group:["enabled_password_fb_google"]},h.createElement(h.Fragment,null,h.createElement(L,{onClick:a,text:y.a._("Connect with Google")}),h.createElement(L,{onClick:o,text:y.a._("Connect with Facebook")}))))))))},D=n("dLDq"),H=n("LxoH"),F=n("DJud"),A=n("cD7N"),W=function(e){function t(){var n,r,o;s(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=r=l(this,e.call.apply(e,[this].concat(i))),r.state={activeModal:null},r.socialManager=A.a.instance(),r.activateModal=function(e){return function(){return r.setState({activeModal:e})}},r.handleConnect=function(e){return function(){r.activateModal(null)(),r.socialManager.handleConnect(e,!0,{success:r.activateModal("google"===e?"connectedGoogle":"connectedFacebook")})}},r.handlePasswordChangeSuccessConfirm=function(){r.activateModal(null)(),r.props.onComplete()},o=n,l(r,o)}return c(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.onComplete,o=n.onDismiss,a=this.state.activeModal,i=void 0;return"confirmGoogleConnect"===a||"connectedGoogle"===a?i="google":"confirmFacebookConnect"!==a&&"connectedFacebook"!==a||(i="facebook"),h.createElement(h.Fragment,null,h.createElement(U,{onChangePassword:this.activateModal("changePassword"),onDismiss:o,onFacebookConnect:this.activateModal("confirmFacebookConnect"),onGoogleConnect:this.activateModal("confirmGoogleConnect")}),"changePassword"===a&&h.createElement(N.a,null,function(e){return h.createElement(F.a,{hasPassword:!!e.isAuth&&e.hasPassword,onHide:t.activateModal(null),onPasswordForgotModal:t.activateModal("forgotPassword"),onSuccess:t.activateModal("changedPasswordSuccess"),username:e.isAuth?e.username:""})}),"changedPasswordSuccess"===a&&h.createElement(D.a,{onHide:this.handlePasswordChangeSuccessConfirm}),"forgotPassword"===a&&h.createElement(H.a,{onHide:this.activateModal(null)}),("confirmGoogleConnect"===a||"confirmFacebookConnect"===a)&&i&&h.createElement(R,{connectType:i,onConfirm:this.handleConnect(i),onHide:this.activateModal(null)}),("connectedGoogle"===a||"connectedFacebook"===a)&&i&&h.createElement(B,{connectType:i,onConfirm:r}))},t}(h.Component),z=function e(t){var n=t.placementId;return h.createElement(I.a,{experienceIds:[500818],placementId:n},function(e){var t=e.complete,n=e.dismiss;return h.createElement(W,{onComplete:t,onDismiss:n})})},G=n("YZ7u"),X=n("LWri"),V=n("sOF4"),Y=n("Rmuw"),Z=function e(t){var n=t.placementId,r=u(t,["placementId"]);return h.createElement(I.a,{placementId:n,type:9},function(e){var t=e.complete,n=e.dismiss,o=e.display_data;return h.createElement(X.a,Object.assign({},Object(Y.a)(V.a,!0)(o),{handleComplete:t,handleDismiss:n},r))})},q=n("haoC"),K=n("SX1z"),Q=n.n(K),J=n("ZtCB"),$=n.n(J),ee=n("suNN"),te={FIRST:"first",END:"end"},ne=function(e){function t(n){d(this,t);var r=p(this,e.call(this,n));return r.onCheck=function(e){var t=e.checked;return r.setState({checked:t})},r.onTextChange=function(e){var t=e.value;return r.setState({newEmail:t})},r.closeModal=function(){var e=r.props.handleComplete;setTimeout(e,5e3)},r.updateEmailAddress=function(){var e=r.props.currentEmail,t=r.state,n=t.checked,o=t.newEmail;e&&o&&e.trim()!==o?$.a.create("UserSettingsResource",{email:o,email_bounced:!1}).callUpdate({showError:!1}).then(function(){return r.updateNotifSetting(n)},function(e){return r.setState({errorMessage:e.message})}):r.updateNotifSetting(n)},r.updateNotifSetting=function(e){r.setState({currentStep:te.END});var t=void 0;t=!0===e?{section:"settings_email",option:"ALL",value:!0}:{section:"settings_email",option:"ONLY_REQUIRED",value:!0},$.a.create("EmailSettingsResource",t).callUpdate(),r.closeModal()},r.state={currentStep:te.FIRST,newEmail:n.currentEmail,checked:!0},r}return m(t,e),t.prototype.getModalText=function e(t){return t===te.FIRST?y.a._("We're having some trouble reaching you. Is this still your email?","prompt to update email"):y.a._("Thanks! Your email preferences have been saved.","after updating email address")},t.prototype.renderStep=function e(t){var n=this.state,r=n.checked,o=n.errorMessage,a=n.newEmail;return t===te.FIRST?b.a.createElement(S.b,{maxWidth:310},b.a.createElement(S.b,{alignItems:"center",display:"flex",marginBottom:6},b.a.createElement(S.e,{checked:r,id:"notif",onChange:this.onCheck,size:"sm"}),b.a.createElement(S.p,{htmlFor:"notif"},b.a.createElement(S.b,{paddingX:2},b.a.createElement(S.I,{size:"sm"},y.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt"))))),b.a.createElement(S.K,{id:"email",type:"email",onChange:this.onTextChange,value:a,idealErrorDirection:"up",errorMessage:o}),b.a.createElement(S.b,{paddingY:1},b.a.createElement(S.c,{color:"red",text:y.a._("Done","done updating email address"),onClick:this.updateEmailAddress}))):b.a.createElement(S.I,{overflow:"normal",size:"lg"},Object(ee.b)(y.a._("You can always change them later from your {{settingsLink}}.","link to change email settings"),{settingsLink:b.a.createElement(w.b,{key:"settingsLink",to:"/settings/"},y.a._("Settings","link to edit account settings"))}))},t.prototype.render=function e(){var t=this.props.handleDismiss,n=this.state.currentStep;return b.a.createElement(S.b,{color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},b.a.createElement(S.b,{display:"flex",alignItems:"center"},b.a.createElement(S.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},b.a.createElement(S.b,{width:292,height:479,marginBottom:-6},b.a.createElement(S.o,{alt:y.a._("preview of mobile app","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:Q.a}))),b.a.createElement(S.b,{position:"relative"},b.a.createElement(S.b,{display:"flex",alignItems:"center",width:330,height:540},b.a.createElement(S.b,{paddingX:3},b.a.createElement(S.b,{paddingY:6},b.a.createElement(S.I,{bold:!0,overflow:"normal",size:"xl"},this.getModalText(n))),this.renderStep(n))),n===te.FIRST&&b.a.createElement(S.b,{padding:6,position:"absolute",bottom:!0,right:!0},b.a.createElement(S.N,{onTouch:t,fullWidth:!1},b.a.createElement(S.I,{bold:!0},y.a._("Skip for now","Skip prompt to change email address")))))))},t}(h.Component),re=n("LQgx"),oe=function e(t){var n=t.placementId;return h.createElement(I.a,{experienceIds:[500331],placementId:n},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data,a=f(t);return h.createElement(re.a,{noButton:!0,onHide:r},h.createElement(a,Object.assign({},Object(Y.a)(V.a)(o),{handleComplete:n,handleDismiss:r})))})},ae=n("ZWUK"),ie=n("XHWU");n.d(t,"a",function(){return P}),n.d(t,"b",function(){return k.a}),n.d(t,"c",function(){return z}),n.d(t,"d",function(){return G.default}),n.d(t,"f",function(){return Z}),n.d(t,!1,function(){}),n.d(t,"e",function(){return oe}),n.d(t,!1,function(){return ae.a}),n.d(t,"g",function(){return ie.a})},LWri:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t){return Object.assign({},Ct,{height:e+"px",borderRadius:t})}function j(e,t,n){return Object.assign({},xt,{backgroundColor:e,width:t+"%",borderRadius:n})}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function L(e){var t=e.incrementNuxStep;return Se.a.createElement(Ue.b,{dangerouslySetInlineStyle:{__style:{marginTop:12,textAlign:"center"}}},Se.a.createElement("button",{className:"NuxExtensionUpsell__optionalSkip underline",onClick:t,style:{color:"#999"}},Ie.a._("Skip")))}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(e){var t=e.height,n=e.id,r=e.name,o=e.onChange,a=e.placeholder,i=e.type,s=e.width;return Se.a.createElement("input",{autoComplete:"off",id:n,name:r,onChange:o,placeholder:a,style:{border:"1px solid #b5b5b5",borderRadius:"8px",boxSizing:"border-box",color:"#555",display:"block",fontSize:"21px",fontWeight:"bold",height:t,padding:"0 30px",width:s},type:i})}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ee(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function be(e){return function t(n,r){return Se.a.createElement(e,Object.assign({},n,{steps:n.steps||Un}))}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ee(e){return function(t){function n(){var e,r,o;ge(this,n);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return e=r=ye(this,t.call.apply(t,[this].concat(i))),r.state={skipExtStep:!1},o=e,ye(r,o)}return we(n,t),n.prototype.componentDidMount=function e(){var t=this,n=this.props.steps;Nt.a.extensionReady(Me.n).then(function(e){n.some(function(e){return"NuxExtensionUpsell"===e.moduleName})&&e&&t.setState({skipExtStep:!0})})},n.prototype.render=function t(){var n=this.props.steps;return this.state.skipExtStep&&(n=n.filter(function(e){return"NuxExtensionUpsell"!==e.moduleName})),Se.a.createElement(e,Object.assign({},this.props,{steps:n}))},n}(xe.PureComponent)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xe=n("d6ZO"),Se=n.n(xe),Oe=n("5tOk"),Te=n("DUIN"),Ie=n("W/Cr"),Pe=n("ZtCB"),ke=n.n(Pe),je=n("MQ2h"),Re=n.n(je),Be=n("E7T4"),Ne=n("Kqaz"),Le=n("dCTv"),Me=n("aKzT"),Ue=n("gEaE"),De="adv_intent",He="budget",Fe="contact_info",Ae="Yes",We="No",ze="Not sure",Ge="",Xe=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={agencyOption:Ge,budgetOption:Ge,businessName:"",country:"",currentSection:De,email:"",firstName:"",intentOption:Ge,lastName:"",phone:"",showMoreSections:!1,website:""},a.onNextButtonClick=function(){var e=a.props,t=e.dispatch,n=e.incrementNuxStep,r=a.state,o=r.currentSection,i=r.intentOption,s=r.budgetOption,l=r.showMoreSections;a.logNextSkipButtonClick(!0);var c=void 0,u=void 0;switch(o){case De:c=i!==Ae||!l||s===We,u=Fe,i===Ae&&t(Object(Be.b)({updateUserData:{intent_to_advertise:!0}})).then(function(){c&&n()});break;case Fe:c=!0,a.reportToPropel();break;default:c=!0}l&&(c?n():a.setState({currentSection:u}))},a.onSkipButtonClick=function(){var e=a.props.incrementNuxStep;a.logNextSkipButtonClick(!1),a.state.currentSection===Fe&&a.reportToPropel(),e()},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){this.props.contextLog(13,{view:24,viewParameter:3216}),this.retrieveUserSettings()},t.prototype.onResponseSelected=function e(t,n){switch(t){case De:this.setState({intentOption:n});break;case"budget":this.setState({budgetOption:n});break;case Fe:this.setState({agencyOption:n})}},t.prototype.retrieveUserSettings=function e(){var t=this;ke.a.create("UserSettingsResource",{}).callGet().then(function(e){var n=e.resource_response.data;if(n){var r=t.props.experiments;t.setState({businessName:(n.partner||{}).business_name,country:n.country,email:n.email,website:n.website_url,showMoreSections:["US","CA"].includes(n.country)&&(r.activate("smb_web_nux_adv_intent_propel")||"").startsWith("enabled")})}})},t.prototype.reportToPropel=function e(){var t=this.state,n={lead_email:t.email,lead_first_name:t.firstName,lead_last_name:t.lastName,lead_website:t.website,lead_phone:t.phone,lead_source_detail:"self_serve",lead_source_type:"business_create",country:t.country,lead_company:t.businessName,lead_learn_more:t.budgetOption,lead_works_with_agency:t.agencyOption===Ae?"Y":"N"};ke.a.create("PropelFormResource",n).callCreate()},t.prototype.logNextSkipButtonClick=function e(t){var n=this.props.contextLog,r=this.state,o=r.currentSection,a=r.intentOption,i=r.budgetOption,s=r.agencyOption;n(101,{component:17,element:t?96:1150,view:24,viewParameter:3216,adv_intent_option:a,budget_option:i,agency_option:s,current_section:o})},t.prototype.isNextDisabled=function e(){var t=this.state,n=t.agencyOption,r=t.currentSection,o=t.intentOption,a=t.budgetOption,i=t.firstName,s=t.lastName,l=t.phone,c=t.showMoreSections;switch(r){case De:return o===Ge||o===Ae&&c&&a===Ge;case Fe:return""===i||""===s||""===l||n===Ge;default:return!0}},t.prototype.renderQuestionForm=function e(t,n,r,o,a,i,s){var l=this;return Se.a.createElement(Ue.b,null,Se.a.createElement("h2",{style:Me.j},r),Se.a.createElement("h3",{style:Me.k},o),Se.a.createElement(Ue.b,{display:"flex",direction:"column",justifyContent:"between",marginTop:7},a&&Se.a.createElement(Ue.b,{alignItems:"center",display:"flex",direction:"row"},Se.a.createElement(Ue.z,{checked:n===Ae,id:t.concat("Yes"),name:"intent",onChange:function e(){return l.onResponseSelected(t,Ae)},value:"yes"}),Se.a.createElement(Ue.b,{flex:"grow"},Se.a.createElement(Ue.p,{htmlFor:t.concat("Yes")},Se.a.createElement(Ue.b,{paddingX:2},Se.a.createElement(Ue.I,null,a))))),i&&Se.a.createElement(Ue.b,{alignItems:"center",paddingY:2,display:"flex",direction:"row"},Se.a.createElement(Ue.z,{checked:n===We,id:t.concat("No"),name:"intent",onChange:function e(){return l.onResponseSelected(t,We)},value:"no"}),Se.a.createElement(Ue.b,{flex:"grow"},Se.a.createElement(Ue.p,{htmlFor:t.concat("No")},Se.a.createElement(Ue.b,{paddingX:2},Se.a.createElement(Ue.I,null,i))))),s&&Se.a.createElement(Ue.b,{alignItems:"center",display:"flex",direction:"row"},Se.a.createElement(Ue.z,{checked:"Not sure"===n,id:t.concat("NotSure"),name:"advertise",onChange:function e(){return l.onResponseSelected(t,"Not sure")},value:"not_sure"}),Se.a.createElement(Ue.b,{flex:"grow"},Se.a.createElement(Ue.p,{htmlFor:t.concat("NotSure")},Se.a.createElement(Ue.b,{paddingX:2},Se.a.createElement(Ue.I,null,s)))))))},t.prototype.renderIntentSection=function e(){return this.renderQuestionForm(De,this.state.intentOption,Ie.a._("Would you ever be interested in running ads on Pinterest?","Header in business NUX intent to advertise step."),null,Ie.a._("Yes, I'm interested in advertising","Option to advertise in intent to advertise step in business NUX"),Ie.a._("No, I'm not planning to advertise","Option to not advertise in intent to advertise step in business NUX"),null)},t.prototype.renderBudgetSection=function e(){return this.renderQuestionForm("budget",this.state.budgetOption,Ie.a._("Great! Do you know your monthly budget?","Header for whats your budget question in business NUX intent to advertise step."),Ie.a._("If it's over $1000.00 then you're eligible to join our program run by our ad experts. Interested in learning more?","Sub header for whats your budget question in business NUX intent to advertise step."),Ie.a._("Yes, I'm interested in learning more","Option to learn more about ad program in intent to advertise step in business NUX"),Ie.a._("No, I'm not interested in this program","Option to not learn more about ad program in intent to advertise step in business NUX"),Ie.a._("Not sure, I'm interested in advertising, but don't have $1000.00 monthly budget","Option to nlearn more about ad program but not enough monthly budget in intent to advertise step in business NUX"))},t.prototype.renderContactSection=function e(){var t=this;return Se.a.createElement(Ue.b,null,Se.a.createElement("h2",{style:Me.j},Ie.a._("We'd like to be in touch!","Header for contact details question in business NUX intent to advertise step.")),Se.a.createElement("h3",{style:Me.k},Ie.a._("If you leave us your contact info, someone from Pinterest will reach out.","Sub header for contact details question in business NUX intent to advertise step.")),Se.a.createElement(Ue.b,{display:"flex",direction:"row",justifyContent:"between",marginTop:7},Se.a.createElement(Ue.b,{display:"flex",flex:"grow",justifyContent:"between",direction:"column"},Se.a.createElement(Ue.b,{marginBottom:3},Se.a.createElement(Ue.I,{bold:!0},Ie.a._("First name","First name field in contact details question in business NUX intent to advertise step"))),Se.a.createElement(Ue.K,{id:"firstName",onChange:function e(n){var r=n.value;t.setState({firstName:r})},placeholder:"John",value:this.state.firstName,type:"text"})),Se.a.createElement(Ue.b,{display:"flex",flex:"grow",justifyContent:"between",direction:"column",marginLeft:4,marginRight:4},Se.a.createElement(Ue.b,{marginBottom:3},Se.a.createElement(Ue.I,{bold:!0},Ie.a._("Last name","Last name field in contact details question in business NUX intent to advertise step"))),Se.a.createElement(Ue.K,{id:"lastName",onChange:function e(n){var r=n.value;t.setState({lastName:r})},placeholder:"Johnson",value:this.state.lastName,type:"text"})),Se.a.createElement(Ue.b,{display:"flex",flex:"grow",justifyContent:"between",direction:"column"},Se.a.createElement(Ue.b,{marginBottom:3},Se.a.createElement(Ue.I,{bold:!0},Ie.a._("Phone","Phone field in contact details question in business NUX intent to advertise step"))),Se.a.createElement(Ue.K,{id:"phone",onChange:function e(n){var r=n.value;t.setState({phone:r})},placeholder:"415 356 9522",value:this.state.phone,type:"text"}))))},t.prototype.renderAgencySection=function e(){return this.renderQuestionForm(Fe,this.state.agencyOption,null,Ie.a._("Are you representing an advertising agency or do you work with one? Letting us know helps get you the right info up front.","Sub header for do you work with agency question in business NUX intent to advertise step."),Ie.a._("Yes, I work with at an agency or with one","Option for working with advertising agency in intent to advertise step in business NUX"),Ie.a._("No, I don't with an agency","Option for not working with advertising agency in intent to advertise step in business NUX"),null)},t.prototype.render=function e(){var t=this.state,n=t.currentSection,r=t.intentOption,o=t.showMoreSections;return Se.a.createElement(Ue.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between",padding:8,marginLeft:-1,marginRight:-1},n===De&&this.renderIntentSection(),n===De&&r===Ae&&o&&this.renderBudgetSection(),n===Fe&&this.renderContactSection(),n===Fe&&this.renderAgencySection(),Se.a.createElement(Ue.b,{marginBottom:-3},Se.a.createElement(Ue.b,{marginTop:4},Se.a.createElement(Ue.c,{size:"lg",color:"red",text:Ie.a._("Next","go to next step"),onClick:this.onNextButtonClick,disabled:this.isNextDisabled(),type:"submit"})),Se.a.createElement(Ue.b,{marginTop:2},Se.a.createElement(Ue.c,{size:"lg",text:Ie.a._("Skip","Skip step button in advertise to intent step in business NUX"),onClick:this.onSkipButtonClick}))))},t}(xe.PureComponent),Ve=Object(je.compose)(Object(Te.connect)(),Ne.a,Le.b)(Xe),Ye=n("IaRT"),Ze=n.n(Ye),qe=n("mnfW"),Ke={get SAVES(){return Ie.a._("Saves","Button label for number of repins (plural)")},get SAVE(){return Ie.a._("Save","Button label for number of repins (singular)")}},Qe=function e(t){return 1===t?Ke.SAVE:Ke.SAVES},Je=function e(t,n){return Object(qe.c)(t,n,{shortform:!0,shortform_maximum_fraction_digits:1})},$e=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return l(t,e),t.prototype.render=function e(){var t=this.props.numSaves;return Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.b,{marginTop:1},Se.a.createElement(Ue.l,{size:"sm"},Je(this.context.locale,t))),Se.a.createElement(Ue.b,{display:"flex",marginTop:1},Se.a.createElement(Ue.b,{marginEnd:1},Se.a.createElement(Ue.m,{icon:"angled-pin",accessibilityLabel:Ke.SAVES,color:"gray"})),Se.a.createElement(Ue.I,{size:"sm"},Qe(t))))},t}(xe.PureComponent);$e.contextTypes={locale:Ze.a.string.isRequired};var et=$e,tt=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return d(t,e),t.prototype.render=function e(){var t=this.props.numSaves,n=Je(this.context.locale,t)+" "+Qe(t);return Se.a.createElement(Ue.b,{display:"flex",marginTop:2},Se.a.createElement(Ue.b,{marginEnd:1},Se.a.createElement(Ue.m,{icon:"angled-pin",accessibilityLabel:Ke.SAVES,color:"gray"})),Se.a.createElement(Ue.I,{size:"sm"},n))},t}(xe.PureComponent);tt.contextTypes={locale:Ze.a.string.isRequired};var nt=tt,rt=function(e){function t(){return p(this,t),m(this,e.apply(this,arguments))}return f(t,e),t.prototype.render=function e(){var t=this.props,n=t.numSaves;return{none:null,get sm(){return Se.a.createElement(nt,{numSaves:n})},get lg(){return Se.a.createElement(et,{numSaves:n})}}[t.savesDisplaySize]},t}(xe.PureComponent),ot=n("4MUs"),at=function(e){function t(){return h(this,t),b(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function e(){var t=this.props,n=t.pin,r=t.savesDisplaySize,o=void 0===r?"lg":r;return Se.a.createElement(Ue.b,{display:"flex",direction:"column"},Se.a.createElement(Ue.b,{display:"flex"},Se.a.createElement(ot.a,{pin:n})),Se.a.createElement(rt,{numSaves:n.repin_count+1,savesDisplaySize:o}))},t}(xe.PureComponent),it=function(e){return{type:"SAVED_PINS_VIA_NUX",payload:{pinIdsSavedViaNux:e}}},st=10,lt=function e(t){return function(e){return Se.a.createElement(at,{key:e.id,pin:e,savesDisplaySize:t})}},ct=function(e){function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=w(this,e.call.apply(e,[this].concat(i))),r.handleAddPinsToProfile=function(){var e=r.props,t=e.partnerWebsiteHostname,n=e.pins,o=e.incrementNuxStep,a=e.contextLog,i=e.dispatchSavedPinsViaNux,s=n.map(function(e){return e.id});ke.a.create("BoardResource",{name:t,return_existing:!0}).callCreate({showError:!1}).then(function(e){var t=e.resource_response.data.id;ke.a.create("BulkEditResource",{board_id:t,pin_ids:s}).callCreate().then(function(e){var t=e.resource_response.data.map(function(e){return e.id});i(t),o()})}),a(101,{component:17,element:96,view:24,viewParameter:3195,pin_ids:s})},r.handleSkip=function(){var e=r.props,t=e.contextLog,n=e.pins.map(function(e){return e.id});r.props.incrementNuxStep(),t(101,{component:17,element:1150,view:24,viewParameter:3195,pin_ids:n})},o=n,w(r,o)}return E(t,e),t.prototype.componentDidMount=function e(){(0,this.props.contextLog)(13,{view:24,viewParameter:3195})},t.getSavesDisplaySize=function e(t){return Math.max.apply(Math,t.map(function(e){return e.repin_count+1}))>=10?"lg":"sm"},t.prototype.render=function e(){var n=this.props,r=n.personalizationCopy,o=r.headerPrimaryText,a=r.headerSecondaryText,i=r.buttonPrimaryText,s=r.buttonSecondaryText,l=n.pins,c=t.getSavesDisplaySize(l),u=lt(c),d=l.map(u);return Se.a.createElement(Ue.b,{height:"100%",display:"flex",direction:"column",justifyContent:"between",paddingX:7,paddingY:8},Se.a.createElement(Ue.b,{marginBottom:2},Se.a.createElement("h2",{style:Object.assign({},Me.j,{maxWidth:"none"})},o),Se.a.createElement("h3",{style:Object.assign({},Me.k,{maxWidth:"none"})},a)),Se.a.createElement(Ue.b,{display:"flex",justifyContent:"between",flex:"grow",paddingY:4},d),Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.c,{size:"lg",text:i,accessibilityLabel:i,color:"red",onClick:this.handleAddPinsToProfile}),Se.a.createElement(Ue.b,{marginTop:2},Se.a.createElement(Ue.c,{size:"lg",text:s,accessibilityLabel:s,onClick:this.handleSkip}))))},t}(xe.PureComponent),ut=function e(t){return{dispatchSavedPinsViaNux:function e(n){return t(it(n))}}},dt=Object(je.compose)(Object(Te.connect)(null,ut),Ne.a)(ct),pt=n("FrUj"),mt=function(e){function t(){var n,r,o;v(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=_(this,e.call.apply(e,[this].concat(i))),r.state={clickedSubmit:!1,website_url:"",errors:[]},r.onNextButtonClick=function(){var e=r.props,t=e.dispatch,n=e.contextLog,o=e.incrementNuxStep,a=r.state.website_url;r.setState({clickedSubmit:!0});var i=a&&""!==a,s=r.validateWebsite(a);n(101,{component:17,element:96,view:24,viewParameter:10677,website_filled:i,successful_frontend_validation:s}),i?s&&t(Object(Be.b)({updateUserData:{website_url:a}})).then(function(){o({partnerWebsiteUrl:a})}):o()},r.onSkipButtonClick=function(){var e=r.props,t=e.contextLog,n=e.incrementNuxStep;t(101,{component:17,element:1150,view:24,viewParameter:10677,website_filled:r.state.website_url&&""!==r.state.website_url}),n()},r.validateWebsite=function(e){if(""===e)return r.setState({errors:[]}),!0;var t=Object(pt.t)([Object(pt.s)({message:Ie.a._("Add a valid URL","Prompt user to input valid URL on error")})],e);return t.length>0?(r.setState({errors:t}),!1):(r.setState({errors:[]}),!0)},r.handleWebsiteChange=function(e){var t=e.value;r.setState({website_url:t}),r.state.clickedSubmit&&r.validateWebsite(t)},o=n,_(r,o)}return C(t,e),t.prototype.componentDidMount=function e(){this.props.contextLog(13,{view:24,viewParameter:10677}),this.retrieveUserWebsite()},t.prototype.retrieveUserWebsite=function e(){var t=this;ke.a.create("UserSettingsResource",{}).callGet().then(function(e){var n=e.resource_response.data;n&&n.website_url&&t.setState({website_url:n.website_url})})},t.renderValueProp=function e(t,n,r){return Se.a.createElement(Ue.b,{color:n,display:"flex",height:0,width:"33%",shape:"rounded",padding:4,marginStart:r?6:0,marginEnd:r?6:0,dangerouslySetInlineStyle:{__style:{paddingBottom:"28%"}}},Se.a.createElement(Ue.l,{color:"white",overflow:"normal",size:"xs"},t))},t.prototype.render=function e(){var n=this.props.personalizationCopy,r=n.headerText,o=n.valuePropText1,a=n.valuePropText2,i=n.valuePropText3,s=n.websiteFormText,l=n.skipText,c=this.state.errors;return Se.a.createElement(Ue.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between",padding:8,marginLeft:-1,marginRight:-1},Se.a.createElement(Ue.b,null,Se.a.createElement("h2",{style:Me.j},r),Se.a.createElement(Ue.b,{display:"flex",direction:"row",justifyContent:"between",marginTop:10},t.renderValueProp(o,"blue",!1),t.renderValueProp(a,"pine",!0),t.renderValueProp(i,"orange",!1))),Se.a.createElement(Ue.b,{marginBottom:-3},Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.p,{htmlFor:"website"},Se.a.createElement(Ue.I,null,s)),Se.a.createElement(Ue.K,{id:"website",onChange:this.handleWebsiteChange,placeholder:s,value:this.state.website_url,type:"url",errorMessage:c.length>0?c[0]:"",idealErrorDirection:"up"})),Se.a.createElement(Ue.b,{marginTop:4},Se.a.createElement(Ue.c,{size:"lg",color:"red",text:Ie.a._("Next","go to next step"),onClick:this.onNextButtonClick,disabled:""===this.state.website_url,type:"submit"})),Se.a.createElement(Ue.b,{marginTop:2},Se.a.createElement(Ue.c,{size:"lg",text:l,onClick:this.onSkipButtonClick}))))},t}(xe.PureComponent),ft=Object(je.compose)(Object(Te.connect)(),Ne.a)(mt),ht=n("32ZW"),bt=n("Aw5z"),gt=n("63eB"),yt=3,wt=10,Et=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"],vt=function(e){function t(){return x(this,t),S(this,e.apply(this,arguments))}return O(t,e),t.prototype.buildGrid=function e(){for(var t=[],n=0,r=0;r<10;r+=1){t.push([]);for(var o=0;o<3;o+=1){var a=Et[n];t[r].push(Se.a.createElement("div",{key:r+o,className:"NuxEducationLoaderGrid__column"+o},Se.a.createElement(Ue.b,{color:a,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(n+=1)>=Et.length&&(n=0)}}return t},t.prototype.render=function e(){var t=this.buildGrid();return Se.a.createElement("div",{className:"NuxEducationLoaderGrid"},t)},t}(xe.PureComponent),_t=function(e){function t(){return T(this,t),I(this,e.apply(this,arguments))}return P(t,e),t.prototype.getAttributes=function e(){var t={};if(this.props.unauthPin){var n=this.props.unauthPin,r=n.domain,o=n.imageMediumUrl,a=n.imageMediumSizePixels,i=a.width,s=a.height;t.domain=r,t.imageHeight=s,t.imageWidth=i,t.imageUrl=o}else{var l=this.props.selectedInterest,c=l.label,u=l.images["400x"],d=u.url,p=u.height,m=u.width;t.domain=c.trim().toLowerCase().replace(/\s/g,"").concat(".com"),t.imageHeight=p,t.imageWidth=m,t.imageUrl=d}return t},t.prototype.render=function e(){var t=this.getAttributes(),n=t.domain,r=t.imageUrl,o=t.imageHeight,a=t.imageWidth;return Se.a.createElement("div",{className:"NuxEducationLoaderPin"},Se.a.createElement(Ue.b,{position:"relative"},Se.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},Se.a.createElement(Ue.t,{shape:"rounded",height:310,width:210},Se.a.createElement(Ue.o,{alt:Ie.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:o,naturalWidth:a,src:r})),Se.a.createElement(Ue.b,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},Se.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},Se.a.createElement(Ue.c,{accessibilityLabel:Ie.a._("Save button"),color:"red",text:Ie.a._("Save","save button for nux loading step"),size:"md"}))),Se.a.createElement(Ue.b,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},Se.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},Se.a.createElement(Ue.b,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.m,{icon:"arrow-up-right",accessibilityLabel:Ie.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),Se.a.createElement(Ue.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},Se.a.createElement(Ue.I,{bold:!0,size:"sm",truncate:!0},n))))))))},t}(xe.PureComponent),Ct={backgroundColor:"#efefef"},xt={transition:"width .4s ease-out"},St=function e(t){var n=t.color,r=t.height,o=t.progress,a=t.outerBorderRadius,i=t.innerBorderRadius;return Se.a.createElement(Ue.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:k(r,a)}},Se.a.createElement(Ue.b,{height:"inherit",dangerouslySetInlineStyle:{__style:j(n,o,i)}}))};St.defaultProps={color:"#333",height:8,progress:0,outerBorderRadius:"10px",innerBorderRadius:"inherit"};var Ot=St,Tt=n("i0Ug"),It=300,Pt=5100,kt=1e3,jt=function(e){function t(){var n,r,o;R(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=B(this,e.call.apply(e,[this].concat(i))),r.state={progressPercent:0},o=n,B(r,o)}return N(t,e),t.prototype.componentDidMount=function e(){var t=this,n=this.props,r=n.contextLog,o=n.experiments;r(13,{view:24,viewParameter:261}),o.v2ActivateExperiment("web_nux_education_loader"),this.intervalId=setInterval(function(){return t.setState(function(e){return{progressPercent:Math.min(e.progressPercent+100/17,100)}})},300)},t.prototype.componentDidUpdate=function e(t,n){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.props.incrementNuxStep,1e3))},t.prototype.componentWillUnmount=function e(){clearInterval(this.intervalId)},t.prototype.render=function e(){var t=this.props,n=t.selectedInterests,r=t.showProgressBar,o=t.unauthPin,a=this.state.progressPercent;return Se.a.createElement("div",{className:"NuxEducationLoader"},Se.a.createElement(Ue.b,{display:"flex",direction:"row",justifyContent:"center",alignItems:"center",overflow:"hidden"},Se.a.createElement(Ue.b,{position:"relative",marginLeft:10,marginRight:4},Se.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},Se.a.createElement(Ue.l,{size:"sm"},Ie.a._("All set!","Title for nux loading step")),Se.a.createElement(Ue.b,{marginTop:4},Ie.a._("We're filling your home feed with lots of ideas based on what you just picked.","Details for nux loading step"))),Se.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},Ie.a._("Pins are links to ideas saved around the web.","Pin education on NUX loading step"),Se.a.createElement(Ue.b,{marginTop:5},Ie.a._("Check out the Pins in your feed now!","Pin education on NUX loading step")))),Se.a.createElement(Ue.b,{marginRight:5,marginLeft:5,width:344},Se.a.createElement(vt,null)),Se.a.createElement(Ue.b,null,Se.a.createElement(_t,{unauthPin:o,selectedInterest:n[0]}))),r?null:Se.a.createElement(Ue.b,{position:"absolute",top:!0,width:"100%"},Se.a.createElement(Ot,{height:8,color:"#bd081c",progress:a})))},t}(xe.PureComponent),Rt=Object(je.compose)(Ne.a,Tt.a)(jt),Bt=n("JGru"),Nt=n("bbMF"),Lt=n("GGB8"),Mt=n.n(Lt),Ut=L,Dt=function(e){function t(){var n,r,o;M(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=U(this,e.call.apply(e,[this].concat(i))),r.onInstallButtonClicked=function(){var e=r.props,t=e.contextLog,n=e.experiments,o=e.incrementNuxStep,a=Bt.a.isSafari()&&"safari_add_browser_ext_step"===n.v2GetGroup("parent_browser_type_detection_fix")&&"enabled"===n.v2GetGroup("safari_add_browser_ext_step");Nt.a.handleExtensionInstall(o,null,a,a),t(101,{component:17,element:280,view:52,viewParameter:2512})},o=n,U(r,o)}return D(t,e),t.prototype.componentDidMount=function e(){this.props.contextLog(13,{view:24,viewParameter:260})},t.prototype.renderHeader=function e(){var t=this.props,n=t.headingText,r=t.personalizationCopy,o=r.headerText,a=r.subHeaderText,i=t.subheadingText;return Se.a.createElement(Ue.b,{direction:"column",display:"flex",marginTop:8,marginLeft:8,marginRight:8},Se.a.createElement(Ue.b,{marginBottom:6},Se.a.createElement("h2",{style:Me.j},o||n||Ie.a._("Get the Pinterest browser button")),Se.a.createElement("h3",{style:Me.k},a||i||Ie.a._("Save creative ideas from around the web."))))},t.prototype.render=function e(){var t=this.props.incrementNuxStep,n=this.context.country,r=Mt()("Module NuxModalInstallExtension NuxModalStepBase"),o=Ie.a._("Get it now","Get the Pinterest browser extension");return Se.a.createElement("div",{className:r},Se.a.createElement(Ue.b,{direction:"column",display:"flex"},this.renderHeader(),Se.a.createElement("div",{className:Mt()("extensionUpsellWrapper")},Se.a.createElement("div",null,Se.a.createElement("div",{className:"extensionUpsellArrowImage"}),Se.a.createElement("div",{className:"extensionUpsellEmptySpace"}),Se.a.createElement("div",{className:Mt()("extensionUpsellWebsiteImage",n)}),Se.a.createElement("div",{className:Mt()("extensionUpsellPinImage",n)}),Se.a.createElement("div",{className:Mt()("extensionUpsellWebsiteImage2",n)}),Se.a.createElement("div",{className:"extensionUpsellPinitButtonImage"}))),Se.a.createElement(Ue.b,{position:"absolute",bottom:!0,color:"white",shape:"rounded",width:"100%"},Se.a.createElement(Ue.i,null),Se.a.createElement(Ue.b,{alignItems:"center",display:"flex",flex:"grow",direction:"column",height:"100%",justifyContent:"center",margin:4},Se.a.createElement(Ue.b,{position:"static",width:"100%"},Se.a.createElement(Ue.c,{accessibilityLabel:Ie.a._("Get the Pinterest browser extension","Accesibility label for the Pinterest browser extension"),color:"red",onClick:this.onInstallButtonClicked,text:o,size:"lg"})),Se.a.createElement(Ue.b,{position:"static",marginTop:3,width:"100%"},Se.a.createElement(Ut,{incrementNuxStep:t}))))))},t}(xe.Component);Dt.contextTypes={browser_name:Ze.a.string,country:Ze.a.string,locale:Ze.a.string};var Ht=Object(je.compose)(Ne.a,Le.b)(Dt),Ft=function(e){function t(){var n,r,o;H(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=F(this,e.call.apply(e,[this].concat(i))),r.state={hover:!1},r.hoverOn=function(){return r.setState({hover:!0})},r.hoverOff=function(){return r.setState({hover:!1})},o=n,F(r,o)}return A(t,e),t.prototype.render=function e(){var t=this.props,n=t.height,r=t.onClick,o=t.selected,a=t.text,i=t.width,s=this.state.hover?"#d7d7d7":"#efefef",l=o?"#333":s,c=o?"white":"darkGray";return Se.a.createElement("button",{style:{backgroundColor:l,border:"none",borderRadius:8,direction:"column",display:"flex",height:n,justifyContent:"center",width:i},onClick:r,onMouseEnter:this.hoverOn,onMouseLeave:this.hoverOff},Se.a.createElement(Ue.I,{align:"center",bold:!0,color:c,size:"xl"},a))},t}(xe.Component),At=W,Wt=n("Hxt/"),zt=function(e){function t(n){z(this,t);var r=G(this,e.call(this,n));return r.setCustomGender=function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?r.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):r.setState({showCustomGenderDoneButton:!1})},r.getCustomGenderStyle=function(){return r.props.showNoNameError?Mt()("NuxGenderStep__genderOptionNoHover"):r.state.showCustomGenderTextfield?Mt()("NuxGenderStep__genderOptionSelected"):Mt()("NuxGenderStep__genderOptionLast")},r.state={showCustomGenderDoneButton:!1,showCustomGenderTextfield:!1,gender:"",customGender:""},r}return X(t,e),t.prototype.onSelectGender=function e(t){this.props.showNoNameError?this.setState({gender:""}):t===Me.a||this.state.showCustomGenderTextfield?this.setState({gender:"",customGender:"",showCustomGenderTextfield:!this.state.showCustomGenderTextfield,showCustomGenderDoneButton:!1}):this.setState({gender:t},this.updateGenderCompleteStep)},t.prototype.setUserStateCompletedGenderStep=function e(){ke.a.create("UserStateResource",{state:"COMPLETED_GENDER_STEP",value:1}).callCreate()},t.prototype.updateGenderCompleteStep=function e(){var t=this,n=Object(Wt.a)(this.props.name);this.state.showCustomGenderTextfield?n.custom_gender=this.state.customGender:n.gender=this.state.gender;var r=function e(){t.setUserStateCompletedGenderStep(),t.props.contextLog(101,{component:17,element:241,view:24,viewParameter:3120}),t.props.incrementNuxStep()};this.props.dispatch(Object(Be.b)({updateUserData:n})).then(r)},t.prototype.submitHandler=function e(t){t.preventDefault()},t.prototype.render=function e(){var t=this,n=this.state.showCustomGenderTextfield,r=this.props.showNoNameError,o=this.props.experiments.activate("web_nux_gender_step_ui_and_copy")||"",a=o.startsWith("enabled");if("enabled_ui"===o)return Se.a.createElement(Ue.b,{direction:"column",display:"flex",height:"100%",justifyContent:"end"},Se.a.createElement(Ue.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center"},Se.a.createElement(Ue.b,{padding:2},Se.a.createElement(Ft,{height:64,onClick:function e(){return t.onSelectGender(Me.l)},selected:!this.state.showCustomGenderTextfield&&this.state.gender.toLowerCase()===Me.l,text:Ie.a._("Male"),width:354})),Se.a.createElement(Ue.b,{padding:2},Se.a.createElement(Ft,{height:64,onClick:function e(){return t.onSelectGender(Me.h)},selected:!this.state.showCustomGenderTextfield&&this.state.gender.toLowerCase()===Me.h,text:Ie.a._("Female"),width:354})),Se.a.createElement(Ue.b,{padding:2},Se.a.createElement(Ft,{height:64,onClick:function e(){return t.onSelectGender(Me.a)},selected:this.state.showCustomGenderTextfield,text:Ie.a._("Prefer to self-describe","Custom gender label"),width:354})),this.state.showCustomGenderTextfield&&Se.a.createElement(Ue.b,{padding:2},Se.a.createElement(Ue.b,{position:"relative",height:64,width:354},Se.a.createElement(At,{height:"64px",id:"customGenderTextField",name:"customGender",onChange:this.setCustomGender,type:"text",width:"354px"}),this.state.showCustomGenderDoneButton?null:Se.a.createElement("div",{style:{pointerEvents:"none"}},Se.a.createElement(Ue.b,{alignItems:"center",bottom:!0,display:"flex",height:64,paddingX:8,position:"absolute",style:{marginTop:"auto",marginBottom:"auto",pointerEvents:"none"},top:!0,width:354},Se.a.createElement(Ue.I,{bold:!0,color:"gray",size:"xl"},Ie.a._("Enter your preferred gender","placeholder text for custom gender text field"))))))),Se.a.createElement(Ue.b,{height:112,padding:8},this.state.showCustomGenderDoneButton&&Se.a.createElement(Ue.c,{color:"red",text:Ie.a._("Next","go to next step"),onClick:function e(){return t.updateGenderCompleteStep()},size:"lg"})));var i=this.state.showCustomGenderTextfield?Se.a.createElement("div",{className:Mt()("NuxGenderStep__genderOptionText")},Se.a.createElement("input",{className:"slimInput",name:"customGender",id:"customGenderTextField",onChange:this.setCustomGender,type:"text",placeholder:a?Ie.a._("Enter your preferred gender","placeholder text for custom gender text field"):Ie.a._("Enter custom gender","placeholder text for custom gender text field")}),this.state.showCustomGenderDoneButton?Se.a.createElement(Ue.c,{color:"red",inline:!0,onClick:function e(){return t.updateGenderCompleteStep()},text:Ie.a._("Done","button text for entering a custom gender type")}):null):Se.a.createElement("div",{className:Mt()("NuxGenderStep__genderOptionTextNoHover")},a?Ie.a._("Prefer to self-describe","Custom gender label"):Ie.a._("Custom","Custom gender label"));return Se.a.createElement("div",{className:Mt()("NuxGenderStep__genderSelector")},Se.a.createElement("form",{onSubmit:this.submitHandler,"aria-label":Ie.a._("Select your gender")},Se.a.createElement("label",{className:n||r?Mt()("NuxGenderStep__genderOptionNoHover"):Mt()("NuxGenderStep__genderOption"),htmlFor:"male"},Se.a.createElement("div",null,Se.a.createElement("div",{className:Mt()("NuxGenderStep__radioButtonWrapper")},Se.a.createElement(Ue.z,{checked:!n&&this.state.gender.toLowerCase()===Me.l,id:"male",name:"genderOptions",onChange:function e(){return t.onSelectGender(Me.l)},size:"md",value:Me.l})),Se.a.createElement("span",{className:Mt()("NuxGenderStep__genderOptionTextNoHover")},Ie.a._("Male")))),Se.a.createElement("label",{className:n||r?Mt()("NuxGenderStep__genderOptionNoHover"):Mt()("NuxGenderStep__genderOption"),htmlFor:"female"},Se.a.createElement("div",null,Se.a.createElement("div",{className:Mt()("NuxGenderStep__radioButtonWrapper")},Se.a.createElement(Ue.z,{checked:!n&&this.state.gender.toLowerCase()===Me.h,id:"female",name:"genderOptions",onChange:function e(){return t.onSelectGender(Me.h)},value:Me.h})),Se.a.createElement("span",{className:Mt()("NuxGenderStep__genderOptionTextNoHover")},Ie.a._("Female")))),Se.a.createElement("label",{className:this.getCustomGenderStyle(),htmlFor:"custom"},Se.a.createElement("div",{className:Mt()("NuxGenderStep__radioButtonWrapper")},Se.a.createElement(Ue.z,{checked:n,id:"custom",name:"genderOptions",onChange:function e(){return t.onSelectGender(Me.a)},value:Me.a})),i)))},t}(xe.Component);zt.contextTypes={browser_name:Ze.a.string,country:Ze.a.string,locale:Ze.a.string};var Gt=Object(je.compose)(Object(Te.connect)(),Ne.a,Le.b)(zt),Xt=function(e){function t(){var n,r,o;V(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=Y(this,e.call.apply(e,[this].concat(i))),r.state={name:r.props.firstName,showNameInput:!1,showNoNameError:!1},r.onNameChange=function(e){var t=e.value;r.setState({name:t||"",showNoNameError:!t||0===t.trim().length})},r.toggleNameInput=function(){r.setState({showNameInput:r.state.showNoNameError||!r.state.showNameInput})},r.incrementNuxStep=function(){return r.state.showNoNameError?function(){}:r.props.incrementNuxStep},o=n,Y(r,o)}return Z(t,e),t.prototype.componentDidMount=function e(){(0,this.props.contextLog)(13,{view:24,viewParameter:3120})},t.prototype.renderGreetingWithName=function e(){var t=this,n=this.props.personalizationCopy.titleText,r=n||Ie.a._("Hi, ","Greeting followed by textfield for user to input their name."),o=Oe.c(Ie.a._("{{ greeting }}, {{ name }}","Greeting with inferred name."),{greeting:n||"Hi",name:this.state.name}),a="enabled_ui"===this.props.experiments.v2GetGroup("web_nux_gender_step_ui_and_copy");return Se.a.createElement("div",{className:Mt()("NuxGenderStep__nameHeaderContent")},Se.a.createElement(Ue.b,{marginRight:1},Se.a.createElement("h2",{style:a?Me.w:Me.x},this.state.showNameInput?r:o)),this.state.showNameInput&&Se.a.createElement("div",{className:Mt()("NuxGenderStep__nameInputWrapper"),ref:function e(n){t.greetingWithName=n}},Se.a.createElement(Ue.K,{id:"name",onChange:this.onNameChange,placeholder:Ie.a._("name"),type:"text",value:this.state.name})),Se.a.createElement(Ue.n,{accessibilityLabel:"editName",bgColor:"transparent",icon:this.state.showNameInput?"check":"edit",inline:!0,onClick:this.toggleNameInput,size:"sm"}),this.state.showNoNameError&&Se.a.createElement("div",{style:{zIndex:1}},Se.a.createElement(Ue.j,{anchor:this.greetingWithName,color:"orange",idealDirection:"right",onDismiss:function e(){},size:"sm"},Se.a.createElement(Ue.b,{padding:3},Se.a.createElement(Ue.I,{bold:!0,color:"white"},Se.a.createElement("span",null,Ie.a._("And your name is...?","Error flyout when user doesn't input name")))))))},t.prototype.render=function e(){var t=this.props,n=t.copyVersion,r=t.experiments,o=t.isRenux,a=t.firstName,i=t.personalizationCopy,s=i.headerText,l=i.subHeaderText,c=this.state,u=c.showNoNameError,d=c.name,p=o?null:this.renderGreetingWithName(),m=void 0;m=o?"landing"===n?Ie.a._("Help us to show you more relevant content!","Title on the modal asking user's gender"):Ie.a._("It’s time to refresh your feed!","Title on the modal asking user's gender"):s||Ie.a._("How would you describe yourself?","Title on the modal asking user's gender");var f=void 0;o?(f="landing"===n?Ie.a._("How would you describe yourself?","Subtitle on the modal asking user's gender"):Ie.a._("Start by picking how you describe yourself","Subtitle on the modal asking user's gender"),n||"enabled"!==r.activate("renux_gender_copy_tweak")||(f=Ie.a._("How would you describe yourself?","Subtitle on the modal asking user's gender"))):f=l||Ie.a._("This helps us show you more relevant content","Subtitle on the modal asking user's gender");var h=Se.a.createElement(Se.a.Fragment,null,Se.a.createElement("h2",{style:Me.u},m),Se.a.createElement("h3",{style:Me.v},f));return Se.a.createElement("div",{className:Mt()("NuxGenderStep")},p,o&&"enabled"===r.activate("fix_renux_gender_step_copy")?Se.a.createElement(Ue.b,{width:"480px",dangerouslySetInlineStyle:{__style:{margin:"60px 32px 16px"}}},h):Se.a.createElement("div",{className:Mt()("NuxGenderStep__headerContent")},h),Se.a.createElement(Gt,{incrementNuxStep:this.incrementNuxStep(),name:d||a,showNoNameError:u}))},t}(xe.Component),Vt=Object(je.compose)(Object(Te.connect)(function(e){return{isAuth:e.viewer.isAuth,firstName:e.viewer.firstName?e.viewer.firstName:void 0}}),Le.b,Ne.a)(Xt),Yt=n("jPJg"),Zt=n("pN+K"),qt=1500,Kt=function(e){function t(){var n,r,o;q(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=K(this,e.call.apply(e,[this].concat(i))),r.state={numberOfHomefeedReadyChecks:0},r.blendedInterests=[],r.checkHomefeedReady=function(){var e=r.props,t=e.checkDuration,n=e.maxNumberOfChecks,o=t+n*t,a=t+r.state.numberOfHomefeedReadyChecks*t;r.state.numberOfHomefeedReadyChecks<=n||a<=o?ke.a.create("OrientationContextStatusResource",{}).callGet({showError:!1},{retries:1}).then(function(e){e.resource_response.data?r.setState({numberOfHomefeedReadyChecks:n}):r.incrementHomefeedChecks()}):r.setState({numberOfHomefeedReadyChecks:n})},r.incrementHomefeedChecks=function(){var e=r.props,t=e.checkDuration,n=e.maxNumberOfChecks;r.state.numberOfHomefeedReadyChecks<=n?r.setState(function(e){return{numberOfHomefeedReadyChecks:e.numberOfHomefeedReadyChecks+1}},function(){return window.setTimeout(r.checkHomefeedReady,t)}):r.setState({numberOfHomefeedReadyChecks:n})},o=n,K(r,o)}return Q(t,e),t.prototype.componentDidMount=function e(){var t=this,n=this.props,r=n.checkDuration,o=n.contextLog,a=n.experiments;o(13,{view:24,viewParameter:261}),a.v2ActivateExperiment("web_nux_education_loader"),window.setTimeout(function(){t.setState({numberOfHomefeedReadyChecks:1},t.checkHomefeedReady)},r)},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){!this.props.interestsFromResource&&t.interestsFromResource&&(this.blendedInterests=t.interestsFromResource.map(function(e){return Object.assign(e,{image:e.images["400x"].url,label:e.name})}),this.blendedInterests=this.props.selectedInterests.concat(this.blendedInterests))},t.prototype.UNSAFE_componentWillUpdate=function e(t,n){var r=t.showProgressBar,o=t.maxNumberOfChecks,a=t.makeProgressOnLoader,i=n.numberOfHomefeedReadyChecks;r&&a(Math.min(Math.ceil(i/o*100),100))},t.prototype.componentDidUpdate=function e(t,n){this.state.numberOfHomefeedReadyChecks>=this.props.maxNumberOfChecks&&!this._incrementNuxStepTimer&&(this._incrementNuxStepTimer=window.setTimeout(this.props.incrementNuxStep,1500))},t.prototype.componentWillUnmount=function e(){clearTimeout(this._incrementNuxStepTimer)},t.prototype.renderHeader=function e(t){var n=this.props,r=n.mandateText,o=n.subMandateText,a=Ie.a._("Finding you ideas from...");0===t.length&&(a=Ie.a._("Just a second while we build your feed..."));var i={desktop:{mandateText:Ie.a._("All set!"),subMandateText:a}}.desktop;return Se.a.createElement(Ue.b,{marginBottom:6,marginTop:8,width:736},Se.a.createElement("h2",{style:Me.j},r||i.mandateText),Se.a.createElement("h3",{style:Me.k},o||i.subMandateText),Se.a.createElement(Ue.b,{height:40,marginRight:10,marginTop:10,position:"absolute",right:!0,top:!0,width:40},Se.a.createElement(Ue.E,{accessibilityLabel:Ie.a._("Loading your homefeed..."),show:!0})))},t.prototype.renderInterests=function e(t){var n=this.props.truncateLength,r=t.slice(0,n),o=t.length>n,a=r.length-1,i=r.map(function(e,t){return Se.a.createElement(Ue.b,{display:"inlineBlock",key:e.id,margin:1,width:136},Se.a.createElement(Yt.a,{interest:e,key:e.id,isOverflow:o&&t===a,notSelectable:!0}))});return Se.a.createElement(Ue.b,{width:736,position:"absolute",dangerouslySetInlineStyle:{__style:{top:"344px"}}},Se.a.createElement(Ue.b,{marginTop:6,display:"flex",justifyContent:"center"},Se.a.createElement(Ue.b,{overflow:"hidden",justifyContent:"between"},i)))},t.prototype.render=function e(){if(!this.props.selectedInterests&&this.blendedInterests.length>0)return Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.E,{accessibilityLabel:Ie.a._("New User Experience"),show:!0}));var t=this.props,n=t.maxNumberOfChecks,r=t.interestsFromResource,o=t.selectedInterests,a=t.showProgressBar,i=this.state.numberOfHomefeedReadyChecks,s=Math.min(Math.ceil(i/n*100),100),l=Array.isArray(r)&&r.length>0&&!(Array.isArray(o)&&o.length>0)?r:o;return Se.a.createElement(xe.Fragment,null,Se.a.createElement(Ue.b,{padding:8},this.renderHeader(l),this.renderInterests(l)),a?null:Se.a.createElement(Ue.b,{position:"absolute",bottom:!0,width:"100%"},Se.a.createElement(Ot,{height:8,color:"#bd081c",progress:s})))},t}(xe.Component);Kt.contextTypes={country:Ze.a.string,locale:Ze.a.string,userAgent:Ze.a.shape({browserName:Ze.a.string})},Kt.defaultProps={checkDuration:1e3,maxNumberOfChecks:3,truncateLength:5};var Qt=Object(je.compose)(Ne.a,Tt.a,Object(Zt.b)({name:"InterestFollowingResource",key:"interestsFromResource",options:function e(t){return{username:t.viewer.username,page_size:t.truncateLength}}},{allowStale:!1}))(Kt),Jt=n("behT"),$t=n("qzVV"),en=n("WSm4"),tn=function(e){function t(){var n,r,o;J(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=$(this,e.call.apply(e,[this].concat(i))),r.state={focused:!1,errorIsOpen:!1},r.handleOnChange=function(e){r.props.onChange({event:e,value:e.target.value})},r.handleBlur=function(){r.props.errorMessage&&r.setState({errorIsOpen:!1})},r.handleFocus=function(){r.props.errorMessage&&r.setState({errorIsOpen:!0})},o=n,$(r,o)}return ee(t,e),t.getDerivedStateFromProps=function e(t,n){return t.errorMessage!==n.errorMessage?{errorIsOpen:!!t.errorMessage,errorMessage:t.errorMessage}:null},t.prototype.render=function e(){var t=this,n=this.props,r=n.id,o=n.name,a=n.options,i=n.value;return xe.createElement(Ue.b,{dangerouslySetInlineStyle:{__style:{borderRadius:4}},display:"flex",position:"relative",width:"100%"},xe.createElement(Ue.b,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{paddingRight:38,paddingTop:2,pointerEvents:"none"}},display:"flex",position:"absolute",right:!0,top:!0},xe.createElement(Ue.m,{icon:"arrow-down",size:24,color:"darkGray",accessibilityLabel:""})),xe.createElement("select",{id:r,name:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleOnChange,ref:function e(n){t.select=n},value:i,style:{backgroundColor:"white",border:"1px solid #979797",borderRadius:8,cursor:"pointer",height:68,fontSize:20,letterSpacing:-1,paddingLeft:32,paddingRight:14,width:480,WebkitAppearance:"none",MozAppearance:"none"}},a.map(function(e){return xe.createElement("option",{key:e.value,value:e.value},e.label)})))},t}(xe.Component);tn.defaultProps={options:[]};var nn=tn,rn=function e(t){var n=t.id,r=t.name,o=t.onChange,a=t.items,i=t.value,s=(a.data||[]).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n}});return Se.a.createElement(nn,{id:n,name:r,onChange:o,options:s,value:i})},on=n("JyNp"),an=Object(on.c)({name:"CountriesResource",key:"items"})(rn),sn=Object(on.c)({name:"LocalesResource",key:"items"})(rn),ln=n("ieR2"),cn=function(e){function t(){var n,r,o;te(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=ne(this,e.call.apply(e,[this].concat(i))),r.state={locale:(r.context||{}).locale||Me.c,country:(r.context||{}).country||Me.b,swappingLanguage:!1},r.onNextButtonClick=function(){var e=r.props,t=e.dispatch,n=e.contextLog,o=e.incrementNuxStep,a=r.state,i=a.country,s=a.locale;t(Object(Be.b)({updateUserData:{country:i,locale:s}})).then(function(){n(101,{component:17,element:10374,view:24,viewParameter:3139}),o()})},r.updateLocale=function(e){var t=e.value;return r.setState({locale:t})},r.updateCountry=function(e){var t=e.value;return r.setState({country:t})},o=n,ne(r,o)}return re(t,e),t.prototype.componentDidMount=function e(){ln.b.localStorage.getItem("signupUserLocale")||ln.b.localStorage.getItem("signupUserCountry")||this.props.contextLog(13,{view:24,viewParameter:3139})},t.prototype.componentDidUpdate=function e(t,n){var r=this,o=this.props.dispatch,a=n.country,i=n.locale,s=this.state,l=s.country,c=s.locale,u=a!==l,d=i!==c;(u||d)&&o(Object(Be.b)({updateUserData:{country:l,locale:c}})).then(function(){if(u&&ln.b.localStorage.setItem("signupUserCountry",l),d){r.setState({swappingLanguage:!0}),ln.b.localStorage.setItem("signupUserLocale",c);var e=new gt.a;e.evt=new $t.a("",null,{forceRefresh:1}),bt.a.navigate("/",e)}})},t.prototype.newNuxUIGroup=function e(){return this.props.experiments.activate("web_nux_locale_step_copy_change")||""},t.prototype.renderLocaleSelector=function e(){var t=this.newNuxUIGroup();return"enabled_copy"===t?Se.a.createElement(Ue.b,{marginTop:4},Se.a.createElement(sn,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:this.state.locale})):"enabled_ui"===t?Se.a.createElement(Ue.b,{marginTop:8},Se.a.createElement(Ue.p,{htmlFor:"newUserLanguage"},Se.a.createElement(Ue.b,{marginBottom:1,marginLeft:1},Se.a.createElement(Ue.I,{size:"md"},Ie.a._("Language","language to set in user settings")))),Se.a.createElement(Ue.b,{paddingY:1},Se.a.createElement(sn,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:this.state.locale}))):Se.a.createElement(Ue.b,{marginTop:8},Se.a.createElement(Ue.p,{htmlFor:"newUserLanguage"},Se.a.createElement(Ue.b,{marginBottom:1,marginLeft:1},Se.a.createElement(Ue.I,{size:"md"},Ie.a._("Language","language to set in user settings")))),Se.a.createElement(Ue.b,{paddingY:1},Se.a.createElement(en.a,{id:"newUserLanguage",name:"locale",onChange:this.updateLocale,value:this.state.locale})))},t.prototype.renderCountrySelector=function e(){var t=this.newNuxUIGroup();return"enabled_copy"===t?Se.a.createElement(Ue.b,{marginTop:4},Se.a.createElement(an,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:this.state.country})):"enabled_ui"===t?Se.a.createElement(Ue.b,{marginTop:7},Se.a.createElement(Ue.p,{htmlFor:"newUserCountry"},Se.a.createElement(Ue.b,{marginBottom:1,marginLeft:1},Se.a.createElement(Ue.I,{size:"md"},Ie.a._("Country","country to set in user settings")))),Se.a.createElement(Ue.b,{paddingY:1},Se.a.createElement(an,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:this.state.country}))):Se.a.createElement(Ue.b,{marginTop:7},Se.a.createElement(Ue.p,{htmlFor:"newUserCountry"},Se.a.createElement(Ue.b,{marginBottom:1,marginLeft:1},Se.a.createElement(Ue.I,{size:"md"},Ie.a._("Country","country to set in user settings")))),Se.a.createElement(Ue.b,{paddingY:1},Se.a.createElement(Jt.a,{id:"newUserCountry",name:"country",onChange:this.updateCountry,value:this.state.country})))},t.prototype.render=function e(){var t=this.props.personalizationCopy,n=t.titleText,r=t.headerText,o=t.subHeaderText,a=this.state.swappingLanguage;if("enabled_copy"===this.newNuxUIGroup()){var i={fontSize:36,fontWeight:"bold"};return Se.a.createElement(Ue.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between"},Se.a.createElement(Ue.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",margin:8},Se.a.createElement(Ue.b,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:4},Se.a.createElement("div",{style:i},Ie.a._("Almost done!","Nux Locale Country Step title first line")),Se.a.createElement("div",{style:i},Ie.a._("Pick your language","Nux Locale Country Step title second line")),Se.a.createElement("div",{style:i},Ie.a._("and country","Nux Locale Country Step title third line"))),this.renderLocaleSelector(),this.renderCountrySelector()),Se.a.createElement(Ue.b,{margin:8},Se.a.createElement(Ue.c,{size:"lg",color:"red",text:Ie.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit",disabled:a})))}return Se.a.createElement(Ue.b,{display:"flex",direction:"column",height:"100%",justifyContent:"between",padding:8,paddingY:12,marginLeft:-1,marginRight:-1},Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.b,null,n&&Se.a.createElement(Ue.b,{marginTop:3,marginBottom:5,dangerouslySetInlineStyle:{__style:Me.x}},n),Se.a.createElement(Ue.b,{dangerouslySetInlineStyle:{__style:Me.u}},r||Ie.a._("Make sure your language and country are correct")),Se.a.createElement(Ue.b,{dangerouslySetInlineStyle:{__style:Me.v}},o||Ie.a._("We want to make sure we find the best ideas for you"))),this.renderLocaleSelector(),this.renderCountrySelector()),Se.a.createElement(Ue.b,{marginBottom:-3},Se.a.createElement(Ue.c,{size:"lg",color:"red",text:Ie.a._("Next","go to next step"),onClick:this.onNextButtonClick,type:"submit",disabled:a})))},t}(xe.PureComponent);cn.contextTypes={country:Ze.a.string,locale:Ze.a.string};var un=Object(je.compose)(Object(Te.connect)(),Ne.a)(cn),dn=n("LQgx"),pn=function e(t){var n=t.nuxStep,r=t.showCounter,o=t.steps;return r&&o.length>1?Se.a.createElement(Ue.b,null,Se.a.createElement(Ue.I,{size:"md"},Object(Oe.h)(Ie.a._("Step {{current}} of {{total}}"),{current:""+(n+1),total:""+o.length}))):null},mn=function e(t){return Se.a.createElement(dn.a,{className:Mt()(["NuxContainer",{slimWidth:t.nuxStep in t.steps&&("NuxGenderStep"===t.steps[t.nuxStep].moduleName||"NuxLocaleCountryStep"===t.steps[t.nuxStep].moduleName)},{changeWidth:t.nuxStep in t.steps&&"NuxPicker"===t.steps[t.nuxStep].moduleName}]),style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},Se.a.createElement("div",{className:Mt()("NuxContainer__NuxStepContainer")},t.children,t.showProgressBar?Se.a.createElement(Ue.b,{position:"absolute",top:!0,width:"100%"},Se.a.createElement(Ot,{progress:t.nuxProgress,outerBorderRadius:"6px 6px 0 0",innerBorderRadius:"0",color:"#bd081c"})):null,Se.a.createElement(Ue.b,{position:"absolute",marginRight:8,marginTop:8,right:!0,top:!0},Se.a.createElement(pn,t),t.displayHide&&t.onHide&&Se.a.createElement(Ue.n,{accessibilityLabel:Ie.a._("cancel"),icon:"cancel",onClick:t.onHide,size:"sm"}))))},fn=n("OIxG"),hn=n("tvce"),bn=function(e){function t(){return oe(this,t),ae(this,e.apply(this,arguments))}return ie(t,e),t.prototype.render=function e(){var t=this.props,n=t.isSkip,r=t.buttonText,o=t.isDisabled,a=t.showFooter,i=t.handleNextClick;if(!a)return null;var s=Mt()("NuxPickerFooter__footerWash","bottomSpace");return Se.a.createElement("div",{className:"NuxPickerFooter"},Se.a.createElement("div",{className:s}),Se.a.createElement("div",{className:Mt()("NuxPickerFooter__buttonWrapper"),"data-test-id":"nux-picker-btn"},Se.a.createElement(Ue.b,{marginLeft:8,marginRight:8,marginTop:7},Se.a.createElement(Ue.c,{size:"lg",color:n?"gray":"red",text:r,disabled:o,onClick:i,type:"submit"}))))},t}(xe.PureComponent),gn=function(e){function t(){return se(this,t),le(this,e.apply(this,arguments))}return ce(t,e),t.prototype.render=function e(){var t=this.props,n=t.isRenux,r=t.titleText,o=t.detailedText,a=t.hasGenderStep,i=t.numberToFollow,s=t.personalizationCopy,l=this.props,c=l.mandateText,u=l.subMandateText;n&&(a?(c=Ie.a._("Great! One more step..."),u=Ie.a._("Pick the kinds of ideas you want to find")):(c=r,u=o));var d={headerText:c||Ie.a._("What are you interested in?"),subHeaderText:u||Object(Oe.h)(Ie.a._("Pick {{ numberToFollow }} (or more!) to discover new ideas"),{numberToFollow:i})},p=s.headerText,m=s.subHeaderText;return p&&m&&(d.headerText=p,d.subHeaderText=m),Se.a.createElement(Ue.b,{direction:"column",margin:8},Se.a.createElement("h2",{style:Me.j},d.headerText),Se.a.createElement("h3",{style:Me.k},d.subHeaderText))},t}(xe.PureComponent),yn=n("hKtD"),wn=function e(t){var n=t.interests,r=t.isFetching,o=t.InterestComponentToRender,a=t.gridContainerRef,i=Me.m.DESKTOP;return Se.a.createElement("div",{style:i.STYLES},Se.a.createElement(Ue.u,{columnWidth:i.COLUMN_WIDTH,comp:o,loadItems:function e(){},gutterWidth:i.GUTTER_WIDTH,items:n,minCols:i.COLUMNS,scrollContainer:function e(){return a||window}}),Se.a.createElement(Ue.E,{accessibilityLabel:Ie.a._("Loading topics"),show:r}))},En=function e(t){var n=t.interests,r=t.handleInterestClick,o=function e(t){var o=t.itemIdx,a=t.data,i={clickHandler:r(a),interest:a,key:a.id,isSelected:a.is_followed};return n.length>0&&ln.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),Se.a.createElement(Yt.a,i)};return Se.a.createElement(wn,Object.assign({},t,{InterestComponentToRender:o}))},vn=n("VqVH"),_n=this,Cn=n.n(vn)()(function(){ln.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)}),xn=function e(t){var n=t.interests,r=t.topicDecrementingTextGroup,o=t.handleBottomScroll,a="enabled_top_right"===r,i=function e(){var t=_n.gridContainer.scrollTop===_n.gridContainer.scrollHeight-_n.gridContainer.offsetHeight;Cn(),o(t)};return Se.a.createElement("div",{onScroll:i,ref:function e(t){_n.gridContainer=t},className:Mt()("NuxPickerInterestsGrid",{fullHeight:a})},n.length>0?Se.a.createElement(En,Object.assign({},t,{gridContainerRef:_n.gridContainer})):Se.a.createElement(Ue.E,{accessibilityLabel:Ie.a._("Loading default interests"),show:!0}))},Sn=n("yS1v"),On=n("+kCg"),Tn=function(e){function t(){var n,r,o;ue(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=de(this,e.call.apply(e,[this].concat(i))),r.state={defaultInterests:[]},r.handleInterestClick=function(e){return function(){var t=r.props,n=t.selectedInterests,o=t.onSelectedInterestsChange,a=!Object(ht.a)(n,e);o([e],a),r.logInterestClick(a)}},r.logInterestClick=function(e){var t=36;(0,r.props.contextLog)(101,{component:36,element:e?1030:1151,view:24,viewParameter:172})},r.recordRenderPWT=function(){r.renderTimersPWT.pop().endTiming({upwtStopReason:1,isPageLoad:!1})},r.recordedSignupToNuxRenderPWT=!1,r.recordSignupToNuxRenderPWT=function(){var e=111,t=4,n=new On.a;n.beginTiming({eventName:111,metricCause:4,isPageLoad:!1,cookie:{name:"signupTimePWT",setter:!1,expiration:Me.s}}),n.endTiming({upwtStopReason:1,isPageLoad:!1}),r.recordedSignupToNuxRenderPWT=!0},r.componentName=Me.o,r.recordRenderLogToServer=function(){var e=r.renderTimers.pop();e.end(),yn.a.logToServer(yn.a.SERVER_LOG_TYPE.RENDER_TIME,yn.a.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:r.componentName})},r.renderTimersPWT=[],r.renderTimers=[],o=n,de(r,o)}return pe(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function e(t){var n=this.props,r=n.defaultInterestsResource,o=n.selectedInterests;if(t.defaultInterestsResource){var a=ln.b.localStorage.getItem("signupTime");if(a){var i=Date.now()-a;i<Me.s&&yn.a.logToServer(yn.a.SERVER_LOG_TYPE.SIGNUP_LOAD,yn.a.HTTP_METHOD.POST,{timing:i,component:"nux"}),ln.b.localStorage.removeItem("signupTime")}var s=!r||r.length!==t.defaultInterestsResource.length,l=this.state.defaultInterests,c=!l||0===l.length;if(s||c){var u=this.mapInterests(o,t);this.setState({defaultInterests:u})}}},t.prototype.UNSAFE_componentWillUpdate=function e(t,n){if(this.state.defaultInterests!==n.defaultInterests){var r=110,o=4,a=new On.a;a.beginTiming({eventName:110,metricCause:4,isPageLoad:!1}),this.renderTimersPWT.unshift(a),this.renderTimers.unshift((new Sn.a).start())}},t.prototype.componentDidUpdate=function e(t,n){var r=this.state.defaultInterests;r!==n.defaultInterests&&(this.renderTimersPWT.length&&(this.recordRenderPWT(),this.recordedSignupToNuxRenderPWT||this.recordSignupToNuxRenderPWT()),this.renderTimers.length&&this.recordRenderLogToServer()),r.length>0&&0===n.defaultInterests.length&&this.props.preselect&&this.preselectInterests()},t.prototype.getInterestsWithUpdatedIsFollowed=function e(){var t=this.props,n=t.selectedInterests,r=t.suggestedInterests,o=this.state.defaultInterests;return(r?r.concat(o):o).map(function(e){return e.is_followed=Object(ht.a)(n,e),e})},t.prototype.mapInterests=function e(t,n){var r=n.defaultInterestsResource.map(function(e){return Object.assign({},e,{image:e.images["400x"].url,label:e.name})});return this.props.onSelectedInterestsChange(r.filter(function(e){return e.is_followed}),!0),t.concat(r)},t.prototype.preselectInterests=function e(){var t=this.props,n=t.numberToFollow,r=t.onSelectedInterestsChange,o=this.state.defaultInterests,a=n||Me.e;r(o.slice(0,a),!0)},t.prototype.render=function e(){return Se.a.createElement(xn,Object.assign({},this.props,{interests:this.getInterestsWithUpdatedIsFollowed(),handleInterestClick:this.handleInterestClick}))},t}(xe.Component);Tn.contextTypes={country:Ze.a.string,locale:Ze.a.string,userAgent:Ze.a.shape({browserName:Ze.a.string})};var In=Object(je.compose)(Ne.a,Object(Zt.b)({name:"NuxInterestsResource",key:"defaultInterestsResource",options:function e(t){return{is_renux:t.isRenux,showFollowers:t.showTopicFollowers,logNetworkTimer:!0,loggerComponentName:Me.o}}},{allowStale:!1}))(Tn),Pn=n("suNN"),kn=n("+B8E"),jn=n("tQ0j"),Rn=n.n(jn),Bn=function e(t){return Ie.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",t,"number of interests left to pick")},Nn=function(e){function t(n,r){me(this,t);var o=fe(this,e.call(this,n,r));Ln.call(o);var a={nextButtonText:n.nextButtonText,nextButtonTextSingleTopic:n.nextButtonTextSingleTopic,completionNextButtonText:n.completionNextButtonText},i=o.getButtonState([],n.numberToFollow||Me.d,n.skipButton,a);return o.state=Object.assign({},i),o}return he(t,e),t.prototype.componentDidMount=function e(){(0,this.props.contextLog)(13,{view:24,viewParameter:172})},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){var n=this.props,r=n.numberToFollow,o=n.selectedInterests,a=n.skipButton,i=n.nextButtonText,s=n.nextButtonTextSingleTopic,l=n.completionNextButtonText;if(o.length!==t.selectedInterests.length){var c={nextButtonText:i,nextButtonTextSingleTopic:s,completionNextButtonText:l},u=this.getButtonState(t.selectedInterests,r||Me.d,a,c);this.setState(Object.assign({},this.state,u))}},t.prototype.render=function e(){var t=this.props,n=t.experiments,r=t.isRenux,o=t.numberToFollow,a=t.personalizationCopy,i=t.selectedInterests,s=this.state,l=s.isDisabled,c=s.isSkip,u=s.buttonText,d=!r&&"enabled"===n.v2ActivateExperiment("web_nux_topic_followers");return Se.a.createElement("div",{className:Mt()("NuxPicker__contentWrapper")},Se.a.createElement(Ue.b,{display:"visuallyHidden",role:"alert"},Object(Pn.b)(Ie.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected"),{selectedTopicsCount:i.length})),Se.a.createElement(gn,Object.assign({},this.props,{isDisabled:l,isSkip:c,handleNextClick:this.handleNextClick,numberToFollow:o||Me.d,personalizationCopy:a})),Se.a.createElement(In,Object.assign({},this.props,{showTopicFollowers:d,handleBottomScroll:this.handleBottomScrollThrottled})),Se.a.createElement(bn,Object.assign({},this.props,{buttonText:u,isDisabled:l,isSkip:c,handleNextClick:this.handleNextClick,showFooter:!0})))},t}(xe.Component);Nn.contextTypes={country:Ze.a.string,locale:Ze.a.string,userAgent:Ze.a.shape({browserName:Ze.a.string})},Nn.defaultProps={skipButton:!1,pickButtonTextGenerator:Bn};var Ln=function e(){var t=this
;this.getButtonState=function(e,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.props,s=i.pickButtonTextGenerator,l=i.requestContext,c=e.length,u=!1;if(a){var d=new kn.b(l,"web_nux_proceed_at_topic_bottom_version_two").getStringParam(1),p=0;"one"===d?p=n-Me.f:"two"===d&&(p=n-Me.g),u=a&&n-c<=p}var m=u?0:Math.max(0,n-c),f=o.nextButtonText,h=o.completionNextButtonText,b=s(m),g={0:{buttonText:h||Ie.a._("Done"),isDisabled:!1,isSkip:!1},more:{buttonText:Oe.h(f||b,{numberLeftToFollow:""+m}),isDisabled:!0,isSkip:!1},skip:{buttonText:Ie.a._("Skip (pick topics for me)"),isDisabled:!1,isSkip:!0}};return r?0===m?g[0]:g.skip:0===m?g[0]:g.more},this.handleBottomScroll=function(e){var n=t.props,r=n.numberToFollow,o=n.selectedInterests,a=n.skipButton,i={nextButtonText:n.nextButtonText,nextButtonTextSingleTopic:n.nextButtonTextSingleTopic,completionNextButtonText:n.completionNextButtonText},s=t.getButtonState(o,r||Me.d,a,i,e);t.setState(Object.assign({},t.state,s))},this.handleBottomScrollThrottled=Object(jn.throttle)(this.handleBottomScroll,50),this.handleNextClick=function(){var e=t.props,n=e.contextLog,r=e.customProcessFollowedInterests,o=e.isRenux,a=e.numberToFollow,i=e.selectedInterests,s=e.followedInterests,l=e.incrementNuxStep;if(r)return r(),void l();if(i.length>=a||Me.d){var c=void 0;if(o){var u={updated_interest_follows:s.reduce(function(e,t){return e[t.id]=t.is_followed,e},{})};c=Promise.resolve(ke.a.create("UpdateFollowedInterestsResource",u).callUpdate()).then(Promise.resolve(ke.a.create("OrientationRefreshHomefeedResource",{redo_homefeed:!0}).callUpdate()))}else{var d=[],p=[];i.forEach(function(e){d.push(e.id),p.push(e.log_data?e.log_data:null)});var m={interests:d.join(),log_data:JSON.stringify(p),referrer:"nux",user_behavior_data:Object(hn.a)()},f=ke.a.create("OrientationContextResource",m);c=Promise.resolve(f.callCreate())}c.then(function(){n(101,{component:17,element:96,view:24,viewParameter:172}),l()})}}},Mn=Object(je.compose)(fn.b,Ne.a)(Nn),Un=[{moduleName:"NuxPicker"},{moduleName:"NuxExtensionUpsell"},{moduleName:"NuxLoader"}],Dn=n("kzic"),Hn=function(e){function t(){var n,r,o;ve(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=_e(this,e.call.apply(e,[this].concat(i))),r.state={nuxStep:0,nuxProgress:0,selectedInterests:[],followedInterests:[],featuredWebsitePins:r.getFeaturedWebsitePinsFromSteps(),partnerWebsiteUrl:r.getPartnerWebsiteUrlFromSteps(),loading:!1},r.onComplete=function(){var e=r.props,t=e.contextLog,n=e.dispatch,o=e.handleComplete,a=e.isLandingPage,i=e.isRenux,s=e.isPartnerRenux,l=e.viewer;t(4105,{view:24}),i||s||n(Object(Be.a)(!0)),o(),a?r.handleNavigate("/"):l.isPartner&&!s&&r.handleNavigate("/me/")},r.getCompleteNuxStep=function(){return r.state.nuxStep>=r.props.steps.length-1?r.onComplete:r.incrementNuxStep},r.handleNavigate=function(e){var t=r.props.router;if(t)t.push(e);else{var n=new gt.a;bt.a.navigate(e,n)}},r.handleSelectedInterestsChange=function(e,t){var n=function n(o,a){return{selectedInterests:r.getUpdatedSelectedInterests(o.selectedInterests,e,t),followedInterests:r.getUpdatedFollowInterests(o.followedInterests,e,t)}},o=r.getUpdatedSelectedInterests(r.state.selectedInterests,e,t).length;r.makeProgressOnTopicChange(o),r.setState(n)},r.nuxSteps={NuxGenderStep:Vt,NuxLocaleCountryStep:un,BizNuxAdvertiseIntentStep:Ve,NuxPicker:Mn,NuxExtensionUpsell:Ht,BizNuxWebsiteStep:ft,BizNuxWebsitePinsStep:dt,NuxEducationLoader:Rt,NuxLoader:Qt},r.fetchFeaturedWebsitePins=function(e){r.setState({loading:!0}),ke.a.create("SampleDomainPinsResource",{url:e}).callGet().then(function(e){var t=e.resource_response.data;if(0===(t||[]).length)throw new Error("Fetching featured website pins returned zero pins");r.setState({featuredWebsitePins:t.slice(0,3),loading:!1}),r.increment()}).catch(function(){r.state.nuxStep+2<r.props.steps.length?(r.increment(2),r.setState({loading:!1})):r.onComplete()})},r.increment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r.setState(function(t){return{nuxStep:t.nuxStep+e}})},r.incrementNuxStep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.state,n=t.nuxStep,o=t.featuredWebsitePins,a=t.partnerWebsiteUrl,i=r.props.steps,s=(e||{}).partnerWebsiteUrl||a;r.setState({partnerWebsiteUrl:s}),r.makeProgressOnStepIncrement(n);var l=n+1;"BizNuxWebsitePinsStep"!==i[l].moduleName||0!==o.length?i.length>l&&i[l].options&&i[l].options.onStartApi&&i[l].options.onStartApi===Me.i?ke.a.create("OrientationContextResource",{follow_urss_topics:!0}).callCreate({showError:!1}).finally(r.increment):r.increment():s?r.fetchFeaturedWebsitePins(s):n+2<i.length?r.increment(2):r.onComplete()},r.makeProgressOnTopicChange=function(e){var t=r.props,n=t.steps,o=t.experiments,a=t.numberToFollow,i=r.state.nuxStep,s=o.v2GetGroup("web_nux_progress_bar");if(Me.q.includes(s)&&Number.isInteger(e)){var l=s===Me.p,c=100/(n.length+1),u=c*(i+1);if(e<=a)u+=c/a*e;else{if(!(l&&e<=a+3))return;u+=c+2*(e-a)}r.makeProgress(u)}},r.makeProgressOnStepIncrement=function(e){var t=r.props,n=t.steps,o=t.experiments,a=r.state.nuxProgress,i=o.v2GetGroup("web_nux_progress_bar");if(Me.q.includes(i)&&(-1===e||e>-1&&"NuxPicker"!==n[e].moduleName)){var s=(100-a)/(n.length-e);r.makeProgress(a+s)}},r.makeProgressOnLoader=function(e){var t=r.state.nuxProgress,n=100-t;e>=0?r.makeProgress(t+Math.ceil(n*e/100)):window.setTimeout(function(){r.makeProgress(100)},Me.r)},o=n,_e(r,o)}return Ce(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.contextLog,r=t.experiments;n(4104,{view:24}),r.v2ActivateExperiment("web_nux_progress_bar"),this.makeProgressOnStepIncrement(-1)},t.prototype.getPartnerWebsiteUrlFromSteps=function e(){var t=this.props.steps;return null==t?"":((t.find(function(e){return"BizNuxWebsitePinsStep"===e.moduleName})||{}).options||{}).partnerWebsiteUrl||""},t.getSnakeCasePinObject=function e(t){return{id:t.id,repin_count:t.repinCount,description:t.description,dominant_color:t.dominantColor,images:t.images}},t.prototype.getFeaturedWebsitePinsFromSteps=function e(){var n=this.props.steps;return null==n?[]:(((n.find(function(e){return"BizNuxWebsitePinsStep"===e.moduleName})||{}).options||{}).featuredWebsitePins||[]).map(t.getSnakeCasePinObject)},t.prototype.getUpdatedFollowInterests=function e(t,n,r){var o=[].concat(t);return n.forEach(function(e){var t=Object.assign({},e,{is_followed:r}),n=!1;o=o.map(function(e){return e.id===t.id?(n=!0,t):e}),n||o.push(t)}),o},t.prototype.getPersonalizationCopy=function e(t){var n=this.props,r=n.viewer,o=r.firstName,a=void 0===o?"":o,i=r.isPartner,s=n.isRenux,l=n.numberToFollow,c=n.steps;if(s)return{};switch(c[t].moduleName){case"NuxGenderStep":return{titleText:Ie.a._("Welcome","Greeting with inferred name on gender step."),headerText:Ie.a._("First, how would you describe yourself?","Header in NUX gender step."),subHeaderText:Ie.a._("Your answers to the next few questions will help us find the right ideas for you.","Subheader in NUX gender step.")};case"NuxLocaleCountryStep":return this.hasNuxStep("NuxGenderStep")?{headerText:Ie.a._("Almost done! Pick your language and location","Header in NUX locale/country step"),subHeaderText:Ie.a._("We'll make sure the ideas you see are in whatever language you pick","Subheader in NUX locale/country step")}:{titleText:Oe.c(Ie.a._("Welcome, {{ name }}!","Greeting with inferred name on country/locale step."),{name:a}),headerText:Ie.a._("First, pick your language and location","Header in NUX locale/country step"),subHeaderText:Ie.a._("We'll make sure the ideas you see are in whatever language you pick.","Subheader in NUX locale/country step")};case"BizNuxAdvertiseIntentStep":return{};case"NuxPicker":if(i)return{headerText:Ie.a._("Choose topics that would best describe your business","Header in business NUX topic picker step."),subHeaderText:"  "};var u=this.hasNuxStep("NuxExtensionUpsell")?Ie.a._("Tell us what you're interested in","Header in NUX topic picker step."):Ie.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step.");return{headerText:Oe.c(u,{numberToFollow:String(l)}),subHeaderText:Oe.c(Ie.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas.","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(l)})};case"NuxExtensionUpsell":return{headerText:Ie.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:Ie.a._("Quickly save any idea you find around the web.","Subheader in NUX browser extension upsell step")};case"BizNuxWebsiteStep":return{valuePropText1:Ie.a._("See who's already saving content from your site"),valuePropText2:Ie.a._("Get insights about what your audience wants"),valuePropText3:Ie.a._("Access features that make it easier to create Pins from your site"),headerText:Ie.a._("Add your website to get more tools for your business:"),websiteFormText:Ie.a._("Add your website"),skipText:Ie.a._("Later")};case"BizNuxWebsitePinsStep":return{headerPrimaryText:Ie.a._("People are already looking at your content!","New user experience header for advertisers"),headerSecondaryText:Ie.a._("You can add these Pins that other people created from your website","New user experience subheader for advertisers"),buttonPrimaryText:Ie.a._("Add all to profile","Save the 1 to 3 displayed pins to your profile"),buttonSecondaryText:Ie.a._("Skip","Skip the current step in the new user experience")};default:return{}}},t.prototype.getUpdatedSelectedInterests=function e(t,n,r){var o=[].concat(t);return n.forEach(function(e){var n=Object(ht.a)(o,e);r&&!n?o.push(Object.assign({},e,{is_followed:!0})):!r&&n&&(o=t.filter(function(t){return t.id!==e.id}))}),o},t.prototype.nuxStepToRender=function e(t){var n=this.state,r=n.selectedInterests,o=n.followedInterests,a=n.featuredWebsitePins,i=this.props,s=i.viewer.isPartner,l=i.isRenux,c=i.steps,u=i.inStepGamificationExp,d=i.experiments,p=c[t].moduleName,m=Me.q.includes(d.v2GetGroup("web_nux_progress_bar")),f=this.nuxSteps[p],h=this.hasNuxStep("NuxGenderStep");return Se.a.createElement(f,Object.assign({},c[t].options,{isRenux:l,selectedInterests:r,followedInterests:o,hasGenderStep:h,onSelectedInterestsChange:this.handleSelectedInterestsChange,personalizationCopy:this.getPersonalizationCopy(t),incrementNuxStep:this.getCompleteNuxStep(),showProgressBar:m,makeProgressOnLoader:this.makeProgressOnLoader,inStepGamificationExp:u,experiments:d,numberToFollow:s?1:Me.d,pins:a,partnerWebsiteHostname:Ie.a._("My Business","The business belonging to a user"),nextButtonText:s?Ie.a._("Pick at least 1 topic","Next button text on NUX topic picker when no topics are selected"):null}))},t.prototype.makeProgress=function e(t){this.setState({nuxProgress:t})},t.prototype.hasNuxStep=function e(t){return this.props.steps.some(function(e){return e.moduleName===t})},t.prototype.render=function e(){var t=this.state,n=t.nuxStep,r=t.nuxProgress,o=t.loading,a=this.props,i=a.isRenux,s=a.isPartnerRenux,l=a.handleDismiss,c=a.steps,u=a.isLandingPage,d=a.experiments;if(n<0||n>=c.length)return null;var p=Me.q.includes(d.v2GetGroup("web_nux_progress_bar")),m=o?Se.a.createElement(Ue.b,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},Se.a.createElement(Ue.E,{show:!0,accessibilityLabel:Ie.a._("Loading data","Waiting for data to be fetched")})):this.nuxStepToRender(n),f=function e(t){return["NuxLoader","NuxEducationLoader"].includes(t)};return Se.a.createElement(mn,{onHide:l,displayHide:!(!i||f(c[n].moduleName)),nuxStep:n,nuxProgress:r,showCounter:!(f(c[n].moduleName)||u||i||s||p),showProgressBar:p,steps:c.filter(function(e){return!f(e.moduleName)})},m)},t}(xe.Component);Hn.contextTypes={country:Ze.a.string,locale:Ze.a.string,userAgent:Ze.a.shape({browserName:Ze.a.string})},Hn.defaultProps={numberToFollow:Me.d};var Fn=t.a=Object(je.compose)(Tt.a,Le.b,Ee,be,Ne.a,Dn.withRouter)(Hn)},LxoH:function(e,t,n){"use strict";function r(e){var t=e.onHide,n=i.a._("Please check your email");return a.a.createElement(s.a,{accessibilityCloseLabel:i.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,size:"md",footer:a.a.createElement(l.b,{display:"flex",justifyContent:"end"},a.a.createElement(l.c,{color:"red",inline:!0,onClick:t,text:i.a._("Okay"),size:"md"}))},a.a.createElement(l.b,{padding:4},a.a.createElement(l.I,null,i.a._("We’ll send instructions for changing your password in just a minute."))))}var o=n("d6ZO"),a=n.n(o),i=n("W/Cr"),s=n("R6a3"),l=n("gEaE");t.a=r},McbO:function(e,t){function n(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}var r="Expected a function";e.exports=n},Pc8e:function(e,t,n){"use strict";function r(e,t){var n=Object(c.findDOMNode)(t);if(!(n&&n instanceof HTMLElement))return null;var r=e.getClientOffset(),o=r.x,a=r.y,i=n.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(i.left+i.right)/2,y:a-(i.top+i.bottom)/2},boundingBox:{width:i.width,height:i.height}}}function o(e){var t=e.children,n=e.connectDragSource,r=e.connectDropTarget,o=e.isDragging,i=e.isDraggingInternal,s=o||i?0:1;return n(r(a.createElement("div",{style:{opacity:s}},t)))}n.d(t,"a",function(){return m});var a=n("d6ZO"),i=n.n(a),s=n("jsUH"),l=n.n(s),c=n("RklN"),u=n.n(c),d=n("MQ2h"),p=n.n(d),m={Pin:"pin",Board:"board",Section:"section"},f={beginDrag:function e(t){var n=t.index;return(0,t.onDragBegin)(n),{index:n}},endDrag:function e(t,n){return(0,t.onDragEnd)(n.didDrop())}},h={hover:function e(t,n,o){var a=t.index;(0,t.onDragHover)(a,r(n,o))}},b=function e(t){return{connectDropTarget:t.dropTarget()}},g=function e(t,n){return{connectDragSource:t.dragSource(),isDraggingInternal:n.isDragging()}};t.b=Object(d.compose)(Object(s.DropTarget)(function(e){return e.type},h,b),Object(s.DragSource)(function(e){return e.type},f,g))(o)},Qtho:function(e,t,n){"use strict";function r(e){return a.a.createElement(s.a,{onHide:e.onHide,type:"confirm"},a.a.createElement("form",{className:"standardForm",method:"post",style:u.a.form},a.a.createElement("h1",null,i.a._("Oops!")),a.a.createElement("p",{className:"body"},e.error.message),a.a.createElement("div",{className:"formFooter",style:u.a.formFooter},a.a.createElement(d.b,{alignItems:"center",justifyContent:"end",display:"flex"},a.a.createElement(d.c,{color:"red",inline:!0,onClick:e.onHide,text:i.a._("Okay"),size:"md"})))))}var o=n("d6ZO"),a=n.n(o),i=n("W/Cr"),s=n("LQgx"),l=n("IaRT"),c=n.n(l),u=n("lOOp"),d=n("gEaE");t.a=r},RjD1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.noStickyHeader?0:d.a;return l.a.createElement(c.a,null,l.a.createElement(u.b,null,l.a.createElement(w,{placement:"top",height:f+t}),l.a.createElement(w,{placement:"bottom",height:f})))}t.a=i;var s=n("d6ZO"),l=n.n(s),c=n("9GQk"),u=n("gEaE"),d=n("DVnr"),p=n("AnjW"),m=16777271,f=120,h=.8,b=1.5*h,g=500,y=500,w=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={animation:null,visible:!1},a.setRef=function(e){a.element||(a.element=e,e.addEventListener("dragover",a.handleDragOver),e.addEventListener("dragleave",a.handleDragLeave))},a.handleDragOver=function(){var e=a.props.placement;if(!a.state.animation){var t="top"===e?-1:1,n=Object(p.a)({window:window,duration:1/0,run:function e(n,r,o){var a=r<g?h:b;window.scrollTo(0,window.scrollY+a*t*o)}});n.start(),a.setState({animation:n})}},a.handleDragLeave=function(){var e=a.state.animation;e&&(e.cancel(),a.setState({animation:null}))},a.element=null,a.visibleTimeout=null,i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this;this.visibleTimeout=window.setTimeout(function(){return t.setState({visible:!0})},500)},t.prototype.componentWillUnmount=function e(){var t=this.element,n=this.state.animation;t&&(t.removeEventListener("dragover",this.handleDragOver),t.removeEventListener("dragleave",this.handleDragLeave)),n&&n.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)},t.prototype.render=function e(){var t=this.props,n=t.height,r=t.placement,o=this.state.visible;return l.a.createElement(u.b,{bottom:"bottom"===r,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:n,left:!0,position:"fixed",right:!0,top:"top"===r},l.a.createElement("div",{ref:this.setRef,style:{width:"100%",height:"100%"}}))},t}(s.Component)},S1T6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("W/Cr"),c=n("IaRT"),u=n.n(c),d=n("gEaE"),p=n("Cjb7"),m={backgroundColor:"transparent",border:0,right:80},f=function(e){function t(n,a){r(this,t);var i=o(this,e.call(this,n,a));i.subscribers=[];var s=n.handleComplete,l=n.transitionEvent,c=["navigateStarted"].concat(l?[l]:[]);return i.subscribers=c.map(function(e){return p.b.subscribe("site",e,s)}),i}return a(t,e),t.prototype.componentWillUnmount=function e(){this.subscribers.forEach(function(e){return e.unsubscribe()}),this.subscribers=[]},t.prototype.render=function e(){var t=this.props,n=t.bannerText,r=t.canClose,o=t.handleComplete;return s.a.createElement("div",{className:"Module BottomBanner"},s.a.createElement("div",{className:"bannerContainer"},s.a.createElement("div",{className:"bannerText"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),r&&s.a.createElement("button",{className:"absolute closeButton p0",onClick:o,style:m},s.a.createElement(d.m,{accessibilityLabel:l.a._("close","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0}))))},t}(i.Component);f.defaultProps={canClose:!1};var h=f,b=n("wUWH"),g=n("sOF4"),y=n("Rmuw"),w=[11019,11023,500207],E=function e(t){var n=t.placementId;return i.createElement(b.a,{placementId:n,experienceIds:w},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return i.createElement(h,Object.assign({},Object(y.a)(g.a)(r),{handleComplete:t,handleDismiss:n}))})},v=t.a=E},SX1z:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/fix_email-f5fbe7f8.png"},TFwt:function(e,t,n){"use strict";var r=function e(t){var n="downloaderIFrame",r=document.getElementById(n);null===r&&((r=document.createElement("iframe")).id=n,r.style.display="none",document.body.appendChild(r)),r.src=t};t.a=r},UDqR:function(e,t,n){"use strict";function r(e){var t=e.progress,n=e.height;return s.createElement(f.b,{color:"lightGray",height:n,position:"relative"},s.createElement(f.b,{height:"100%",width:"100%",color:"darkGray",top:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{transformOrigin:"left",transition:"1s transform",transform:"scaleX("+t+")"}}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("d6ZO"),l=n.n(s),c=n("DUIN"),u=n("kopg"),d=n("akwv"),p=n("W/Cr"),m=n("aTwL"),f=n("gEaE"),h=n("IaRT"),b=n.n(h),g=n("az75"),y=n("Rbs1"),w=n("MQ2h"),E=n.n(w);n.d(t,"a",function(){return v});var v=3,_="170x",C=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.state={isActive:!1},r.getCoverPinPos=function(){if(!r.props.reduxBoard)return{height:0,width:0,x:0,y:0};var e=r.props.reduxBoard.cover_pin,t=e.size,n=e.crop;return{width:t&&t[0]||0,height:t&&t[1]||0,x:n&&n[0]||0,y:n&&n[1]||0}},r.handleMouseEnter=function(){var e=r.props.isReordering;r.setState({isActive:!e}),y.c.loader()},r.handleMouseLeave=function(){r.setState({isActive:!1})},i=n,a(r,i)}return i(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function e(t){t.isReordering&&this.setState({isActive:!1})},t.prototype.render=function e(){var t=this.props,n=t.boardCardHeight,o=t.boardCardWidth,a=t.canEdit,i=t.images,l=t.isMergeTarget,c=t.isOwnProfile,h=t.layout,b=t.onEditClick,y=t.progress,w=t.reduxBoard,E=t.subtitle,_=t.toastImageUrl,C=t.isUserBlocked,x=this.state.isActive,S=h||"wide",O=this.context.locale;if(!w)return null;var T=w.collaborating_users,I=void 0===T?[]:T,P=w.cover_pin,k=w.followed_by_me,j=w.has_custom_cover,R=w.id,B=w.is_collaborative,N=w.image_cover_url,L=w.name,M=w.owner,U=w.owner.id,D=w.pin_count,H=w.section_count,F=w.url,A=P&&P.crop&&P.image_size&&{x:P.crop[0],y:P.crop[1],width:P.image_size[0],height:P.image_size[1]}||{x:0,y:0,width:0,height:0},W=P.image_url?{isCustom:j,position:A,url:P.image_url}:void 0;return s.createElement(f.d,{active:x||l},s.createElement(f.b,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-test-id":"board-"+L},"list"===S?s.createElement(f.b,{alignItems:"center",display:"flex",marginLeft:-4,marginRight:-4},s.createElement(f.b,{column:9,display:"flex",paddingX:4},s.createElement(f.b,{display:"flex",justifyContent:"between",flex:"grow",marginLeft:-4,marginRight:-4},s.createElement(f.b,{paddingX:4,overflow:"hidden"},s.createElement(f.b,{display:"flex",marginLeft:-2,marginRight:-2},s.createElement(f.b,{flex:"none",paddingX:2},s.createElement(f.b,{dangerouslySetInlineStyle:{__style:{borderRadius:4}},height:40,overflow:"hidden",width:40},N?s.createElement(f.o,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:N}):s.createElement(f.b,{color:"lightGray",height:"100%",width:"100%"}))),s.createElement(f.b,{alignItems:"center",display:"flex",marginLeft:-1,marginRight:-1,overflow:"hidden",paddingX:2},s.createElement(f.b,{overflow:"hidden",paddingX:1},s.createElement(f.I,{bold:!0,size:"lg",truncate:!0},L)),B&&s.createElement(f.b,{paddingX:1},s.createElement(f.m,{accessibilityLabel:p.a._("Group board","Accessibility label to indicate group boards"),color:"darkGray",icon:"people",size:12}))))),s.createElement(f.b,{paddingX:4,display:"flex",alignItems:"center",flex:"none"},s.createElement(m.a,{pinCount:D,sectionCount:H,locale:O})))),s.createElement(f.b,{alignItems:"center",column:3,display:"flex",marginLeft:-1,marginRight:-1,paddingX:4,justifyContent:"between"},E&&s.createElement(f.b,{overflow:"hidden",paddingX:1},s.createElement(f.I,{size:"sm",__dangerouslyIncreaseLineHeight:!0,truncate:!0},E)),a&&x&&s.createElement(f.b,{flex:"none",paddingX:1},s.createElement(f.n,{icon:"edit",onClick:function e(t){var n=t.event;return b(n)},accessibilityLabel:p.a._("Edit")})))):s.createElement(f.b,null,s.createElement(f.b,{position:"relative"},"wide"===S&&s.createElement(u.a,{width:o,height:n,boardThumbs:i["170x"],cover:W,coverPin:P}),"square"===S&&s.createElement(g.a,{width:o,height:n,boardName:L,boardThumbs:i["170x"],coverImagePos:A,coverImageUrl:P.image_url,customCover:j}),B&&s.createElement(f.b,{position:"absolute",bottom:!0,left:!0,marginLeft:2,marginBottom:-2},s.createElement(f.k,{collaborators:[M].concat(I).slice(0,v).map(function(e){return{name:e.full_name||e.username,src:e.is_default_image?void 0:e.image_medium_url}}),outline:!0,size:"md"}))),"number"==typeof y?s.createElement(f.b,{marginBottom:-1},s.createElement(r,{height:4,progress:y})):null,s.createElement(f.b,{display:"flex",alignItems:"center",paddingY:1},s.createElement(f.b,{padding:2,flex:"grow",overflow:"hidden"},s.createElement(f.I,{bold:!0,truncate:!0,size:"xl"},L),s.createElement(m.a,{pinCount:D,sectionCount:H,locale:O}),c&&s.createElement(f.I,{size:"sm",truncate:!0},E)),a&&x&&s.createElement(f.b,{flex:"none",marginRight:1},s.createElement(f.n,{icon:"edit",onClick:function e(t){var n=t.event;return b(n)},accessibilityLabel:p.a._("Edit")})),!a&&!C&&s.createElement(f.b,{flex:"none"},s.createElement(d.a,{boardId:R,boardName:L,boardImage:_,boardUrl:F,isFollowed:k,ownerId:U}))))))},t}(s.Component);C.defaultProps={layout:"wide"},C.contextTypes={locale:b.a.string};var x=t.b=Object(w.compose)(Object(c.connect)(function(e,t){var n=t.board&&t.board.owner&&t.board.owner.id,r=e.users[n],o=t.board&&t.board.id,a=e.boards&&e.boards.content&&e.boards.content[o];return{isUserBlocked:r&&r.blocked_by_me,reduxBoard:a}}))(C)},UMFO:function(e,t,n){function r(e,t){var n;if("function"!=typeof t)throw new TypeError(a);return e=o(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var o=n("shhx"),a="Expected a function";e.exports=r},VkZp:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.contextLog,n=e.objectId,o=e.onAfterOpen,i=e.onHide,l=r(e,["contextLog","objectId","onAfterOpen","onHide"]),c={component:13141,objectId:n};return a.createElement(s.a,Object.assign({},l,{onAfterOpen:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){o&&o(),t(6359,c)}),onHide:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){i&&i(),t(6358,c)})}))}var a=n("d6ZO"),i=n.n(a),s=n("LQgx"),l=n("Kqaz");t.a=Object(l.a)(o)},VqVH:function(e,t,n){function r(e){return o(2,e)}var o=n("UMFO");e.exports=r},WSm4:function(e,t,n){"use strict";var r=n("gWV8"),o=n("JyNp");t.a=Object(o.c)({name:"LocalesResource",key:"items"})(r.a)},Xafg:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=e.name,n=e.upwtActionName,r=e.resourceDependencies,o=void 0===r?function(){return[]}:r,a=e.routeContextLog,c=void 0===a?function(e,t,n){return null}:a,d=e.metatagResource,p=void 0===d?function(){return null}:d,m=e.placementId,f=void 0===m?null:m,b=e.redirect,g=void 0===b?function(){return null}:b,y=e.getRenderError,w=void 0===y?function(){return null}:y;return function e(r){var a,d;return d=a=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return l(t,e),t.prototype.render=function e(){var t=this.props,n=t.params,o=t.location,a=void 0===o?{}:o,i=(this.props.route||{}).legacy_server_context;return u.createElement(h,{log:c(i||{},n||{},a||{})},u.createElement(r,this.props))},t}(u.Component),a.WrappedComponent=r,a.routeName=t,a.upwtActionName=n,a.placementId=f,a.displayName="StaticRouteData",a.getMetatagResource=p,a.getContextLog=c,a.getResourceDependencies=o,a.getRedirect=g,a.getRenderError=w,d}}var u=n("d6ZO"),d=n.n(u),p=n("WjSu"),m=n("hVsM"),f=n("SnoN"),h=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props.log;if(t){var n=m.a.fromPlainObject(t);n.setEventType(13),n.setRequestIdentifier(p.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),f.a.getInstance().addEvent(n)}},t.prototype.render=function e(){return this.props.children},t}(u.Component),b=n("9FEF");t.a=c},XzH3:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("DUIN"),c=n("a3d+"),u=n("W/Cr"),d=n("mnfW"),p=n("tmfO"),m=n("v6Mz"),f=n("gEaE"),h=n("suNN"),b=n("EfF6"),g=n("Kqaz"),y=n("MQ2h"),w=n.n(y),E="write",v=200,_=200,C=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));x.call(a);var i=n.board.has_custom_cover?n.board.image_cover_hd_url||n.board.image_cover_url:"";return a.state={coverImagePos:{height:0,width:0,x:n.board.has_custom_cover?n.board.cover_pin.crop[0]:0,y:n.board.has_custom_cover?n.board.cover_pin.crop[1]:0},coverImageUrl:i,isEditModalOpen:!1},a}return a(t,e),t.prototype.render=function e(){if(!this.props.board)return null;var t=this.props,n=t.boardCardHeight,r=t.boardCardWidth,o=t.board,a=t.images,s=t.isMergeTarget,l=t.isReordering,u=t.isOwnProfile,d=t.onBoardArchiveChange,h=t.onBoardDelete,b=t.onBoardPrivacyChange,g=t.onBoardUpdate,y=t.profileBoardView,w=t.progress,E=t.slotIndex,v=t.isUserBlocked,_=o.image_cover_url,C=o.image_cover_hd_url,x=o.url,S=this.state,O=S.coverImagePos,T=S.coverImageUrl,I=S.isEditModalOpen,P=u||o.access.includes("write"),k=this.getSubtitleText(),j=_||C||"";return i.createElement(f.b,null,i.createElement(p.b,{onClick:this.handleBoardCardClick,to:x},i.createElement(m.a,{boardCardHeight:n,boardCardWidth:r,board:o,canEdit:P,coverImagePos:O,coverImageUrl:T,images:a||o.images,isMergeTarget:s,isReordering:l,isOwnProfile:u,layout:u?y:"wide",onEditClick:this.handleEditClick,progress:w,slotIndex:E,subtitle:k,toastImageUrl:j,isUserBlocked:v})),I&&i.createElement(c.a,{boardId:o.id,coverImageHeight:200,coverImageWidth:200,onBoardArchiveChange:d,onBoardDelete:h,onBoardPrivacyChange:b,onBoardUpdate:g,onClose:this.handleEditClose,onCropChange:this.handleCoverImageChange}))},t}(i.Component);C.defaultProps={isMergeTarget:!1,isOwnProfile:!1,isReordering:!1};var x=function e(){var t=this;this.UNSAFE_componentWillReceiveProps=function(e){if(t.props.board.id!==e.board.id){var n=e.board.image_cover_hd_url||e.board.image_cover_url,r=t.state.coverImageUrl;e.board.has_custom_cover?n!==r&&t.setState({coverImageUrl:n}):t.setState({coverImageUrl:""})}else t.props.progress&&t.props.progress<1&&(!e.progress||1===e.progress)&&e.updateBoard()},this.getSubtitleText=function(){var e=t.props,n=e.board,r=e.boardOrder,o=e.isOwnProfile,a=e.profileBoardView,s=e.viewingUserLocale,l=o&&"list"===a;if(n.archived_by_me_at){var c=u.a.getHumanizedTimesince(n.archived_by_me_at);return l?i.createElement("span",null,c):Object(h.b)(u.a._("Archived {{ timeSince }}","subtitle for archived boards on profile page"),{timeSince:c})}if(r&&("newest"===r||"oldest"===r)){var p=d.b.formatDate(s,new Date(n.created_at),"long");return l?i.createElement("span",null,p):null}if(r&&"last_pinned_to"===r||l){var m=u.a.getHumanizedTimesince(n.board_order_modified_at);return l?i.createElement("span",null,m):null}return null},this.handleBoardCardClick=function(){var e=t.props,n=e.board;(0,e.contextLog)(101,{component:1,element:36,objectId:n.id,view:4})},this.handleCoverImageChange=function(e,n){t.setState({coverImageUrl:e,coverImagePos:n})},this.handleEditClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,r=n.board,o=n.contextLog;t.setState({isEditModalOpen:!0}),o(101,{component:1,element:81,objectId:r.id,view:4})},this.handleEditClose=function(){t.setState({isEditModalOpen:!1})}};t.a=Object(y.compose)(Object(l.connect)(function(e,t){var n=e.blockingActions,r=e.boards,o=e.ui;return{images:(r.content[t.board.id]||{}).images,pinCount:(r.content[t.board.id]||{}).pin_count||0,profileBoardView:o.views&&o.views.profileBoardView,progress:((n.boardMap[t.board.id]||{}).wholeBoard||{}).progress}},function(e,t){return{updateBoard:function n(){return e(Object(b.d)(t.board.id,"profile_grid_item"))}}}),g.a)(C)},YZ7u:function(e,t,n){"use strict";function r(e){var t=e.accessibilityLabel,n=e.iconType,r=e.iconBackgroundColor,o=e.iconColor,a=e.onClickHander,i=e.text,s=e.widthInColumn;return Q.a.createElement(te.b,{column:s,display:"flex",justifyContent:"center",minWidth:248},Q.a.createElement(te.N,{onTouch:a},Q.a.createElement(te.b,{display:"flex",alignItems:"center",justifyContent:"center"},Q.a.createElement(te.b,{color:r,display:"flex",justifyContent:"center",alignItems:"center",width:ne,height:ne,shape:"circle"},Q.a.createElement(te.m,{accessibilityLabel:t,color:o,icon:n,size:re})),Q.a.createElement(te.b,{display:"inlineBlock",marginLeft:2},Q.a.createElement(te.I,{inline:!0,size:"xl"},i)))))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.creatorChecklist?{pinCreatedViaCreatorChecklist:e.creatorChecklist.pinCreatedViaCreatorChecklist}:{pinCreatedViaCreatorChecklist:!1}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e){var t=e.completeButtonText,n=e.completeButtonUrl,r=e.completeButtonUrlInNewTab,o=e.dismissButtonText,a=e.handleComplete,i=void 0===a?function(){}:a,s=e.handleDismiss,l=void 0===s?function(){}:s,c=e.header,u=void 0===c?"":c,d=e.headerSubtitle,p=void 0===d?"":d;return Q.a.createElement(ve.a,{message:(u+" "+p).trim(),dismissButtonText:o||ae.a._("Close","Closing a Hero banner"),completeButtonText:t||ae.a._("Go","Completing the Hero banner"),completeUrl:n,onComplete:i,onDismiss:l,useNewTab:r})}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e){return{type:"STORE_HF_PREFETCH_BOOKMARK",payload:{bookmark:e}}}function S(){return{type:"DELETE_HF_PREFETCH_BOOKMARK"}}function O(){return{type:"DISPLAY_HF_REPIN_HIGHLIGHT_EDUCATION"}}function T(){return{type:"HIDE_HF_REPIN_HIGHLIGHT_EDUCATION"}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function q(e){return Tt.includes(e)?J.a:It.includes(e)?et:Pt===e?pt:jt===e?Ne:Rt===e?xe:Nt===e?ze:Lt===e?Ze:kt===e?tt.b:Mt===e?St:Ut===e?vt:Bt===e?at:Dt===e?Ee:Le}Object.defineProperty(t,"__esModule",{value:!0});var K=n("d6ZO"),Q=n.n(K),J=n("RR/1"),$=n("DUIN"),ee=n("FqaO"),te=n("gEaE"),ne=70,re=40,oe=r,ae=n("W/Cr"),ie=n("IaRT"),se=n.n(ie),le=n("Cjb7"),ce=n("ZtCB"),ue=n.n(ce),de=n("FrUj"),pe=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.state={websiteUrl:r.props.websiteUrl||"",websiteUrlErrors:[]},r.validators={websiteUrl:[Object(de.s)()]},r.handleWebsiteChange=function(e){var t=e.value,n=Object(de.t)(r.validators.websiteUrl,t);r.setState({websiteUrl:t,websiteUrlErrors:n});var o=r.props.onWebsiteInputChange;o&&o(t)},i=n,a(r,i)}return i(t,e),t.prototype.render=function e(){var t=this.state.websiteUrlErrors;return Q.a.createElement(te.b,{height:130,padding:6},Q.a.createElement(te.K,{id:"userWebsite",name:"website_url",errorMessage:t&&t.join(", "),idealErrorDirection:"down",onChange:this.handleWebsiteChange,placeholder:ae.a._("www.red-shoes-online.com","Sample website prompt for claiming a website"),value:this.state.websiteUrl||""}))},t}(K.Component),me=n("mQDz"),fe=n("i0Ug"),he=n("MQ2h"),be=n.n(he),ge=n("Kqaz"),ye=n("wr/6"),we=function(e){function t(){var n,r,o;s(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=r=l(this,e.call.apply(e,[this].concat(i))),r.state={attemptToClaimWebsite:"1"===ee.get("attemptToClaimWebsite"),websiteModalShown:!1,websiteUrl:r.props.viewer.domainUrl},r.handleClaimWebsiteSuccess=function(){(0,r.props.contextLog)(7509,{view:1,viewParameter:92,component:13233}),r.setState({attemptToClaimWebsite:"1"===ee.get("attemptToClaimWebsite")})},r.closeUserWebsiteInputModal=function(){r.context.legacyRemoveModal(r.userWebsiteInputModal),r.userWebsiteInputModal=null},r.closeClaimWebsiteModal=function(){r.setState({websiteModalShown:!1})},r.handleWebsiteChange=function(e){r.setState({websiteUrl:e})},r.openCreatePinModal=function(){(0,r.props.contextLog)(101,{view:1,viewParameter:92,component:13233,element:10797});var e=Object(ye.h)(ye.a.NATIVE_CONTENT);r.props.dispatch&&r.props.dispatch(e)},r.openClaimWebsiteModal=function(){if(r.setState({websiteModalShown:!0}),r.state.websiteUrl!==r.props.viewer.domainUrl){var e=r.props.viewer;ue.a.create("UserSettingsResource",{website_url:r.state.websiteUrl}).callUpdate().then(function(){le.a.instance.publish(e.id,"userUpdated",!1)}).fin(function(){ee.unset("attemptToClaimWebsite")})}},r.renderUserWebsiteInputModal=function(){var e=r.props,t=e.contextLog,n=e.viewer;t(101,{view:1,viewParameter:92,component:13233,element:10796});var o=Q.a.createElement(te.b,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2},Q.a.createElement(te.b,{flex:"shrink",paddingX:4},Q.a.createElement(te.c,{color:"gray",text:ae.a._("Cancel","Button label for cancelling the action to set profile cover pins"),onClick:r.closeUserWebsiteInputModal})),Q.a.createElement(te.b,{flex:"shrink"},Q.a.createElement(te.c,{color:"red",text:ae.a._("Next","Button label for opening the claim website modal"),onClick:function e(t){r.closeUserWebsiteInputModal(),r.openClaimWebsiteModal()}})));r.userWebsiteInputModal=r.context.legacyShowInModal({accessibilityCloseLabel:ae.a._("Close","Modal close label"),accessibilityModalLabel:ae.a._("What's your website","Accessibility label for modal to input user website"),heading:ae.a._("What's your website","Header for the user website input modal."),footer:o,onDismiss:r.closeUserWebsiteInputModal,children:Q.a.createElement(pe,{websiteUrl:n.domainUrl,onWebsiteInputChange:r.handleWebsiteChange}),size:"sm"})},r.renderChecklistAction=function(e,t){var n=void 0;switch(e){case"show_claim_website":var o=r.state.attemptToClaimWebsite;return n=ae.a._("Claim your website","Label for claiming website"),Q.a.createElement(oe,{accessibilityLabel:n,iconType:o?"ellipsis":"globe",iconBackgroundColor:"white",iconColor:"blue",onClickHander:r.renderUserWebsiteInputModal,text:n,widthInColumn:t});case"show_create_pin":var a=r.props.pinCreatedViaCreatorChecklist;return n=ae.a._("Create your first Pin","Label for creating the first pin"),Q.a.createElement(oe,{accessibilityLabel:n,iconType:a?"check":"pin",iconBackgroundColor:a?"green":"white",iconColor:a?"white":"blue",onClickHander:r.openCreatePinModal,text:n,widthInColumn:t});default:return null}},o=n,l(r,o)}return c(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.actionList,o=n.handleDismiss,a=n.header,i=r&&r.length?Math.floor(12/r.length):1,s=a||ae.a._("Here's how to get the most out of Pinterest","The headline of new business user's checklist");return Q.a.createElement(te.b,{display:"flex",justifyContent:"between",height:150,color:"lightGray",position:"relative"},Q.a.createElement(te.b,{color:"blue",display:"flex",alignItems:"center",justifyContent:"center",width:"40%",minWidth:352,paddingX:8,paddingY:8,dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"240px 476px"}}},Q.a.createElement(te.l,{color:"white",size:"sm"},s)),Q.a.createElement(te.b,{display:"flex",width:"60%",alignItems:"center",justifyContent:"center",paddingX:12},r.map(function(e){return t.renderChecklistAction(e,i)})),Q.a.createElement(te.b,{position:"absolute",top:!0,right:!0,padding:2},Q.a.createElement(te.n,{accessibilityLabel:ae.a._("Close","Close the experience UI"),icon:"cancel",onClick:o})),this.state.websiteModalShown&&Q.a.createElement(me.a,{onHide:this.closeClaimWebsiteModal,attemptToClaimWebsite:function e(){},onResourceError:function e(){},onSuccess:this.handleClaimWebsiteSuccess,websiteUrl:this.state.websiteUrl}))},t}(K.Component);we.contextTypes={legacyRemoveModal:se.a.func,legacyShowInModal:se.a.func};var Ee=Object(he.compose)(Object($.connect)(u),fe.a,ge.a)(we),ve=n("WoVH"),_e=n("Obkj"),Ce=function(e){function t(){var n,r,o;d(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=p(this,e.call.apply(e,[this].concat(i))),r.state={isCuratorModalOpen:!1,isNagShown:!0},r.handleCompleteExperience=function(){var e=r.props.contextLog;r.setState({isNagShown:!1,isCuratorModalOpen:!0}),e(101,{component:13171,element:10527})},r.handleDismissExperience=function(){var e=r.props,t=e.contextLog,n=e.handleDismiss;t(101,{component:13171,element:10529}),n()},r.handleHideCuratorModal=function(){r.setState({isCuratorModalOpen:!1}),r.props.contextLog(101,{component:13170,element:10529}),r.props.handleComplete()},o=n,p(r,o)}return m(t,e),t.prototype.render=function e(){var t=this.state,n=t.isNagShown,r=t.isCuratorModalOpen,o=this.props.handleComplete;return Q.a.createElement(te.b,null,n?Q.a.createElement(ve.a,{experienceId:this.props.experienceId,message:ae.a._("Want to change up what you see in your home feed?","Title for upsell banner"),dismissButtonText:ae.a._("Not now","Upsell dismiss button"),completeButtonText:ae.a._("Tune your feed","Upsell complete button"),onComplete:this.handleCompleteExperience,onDismiss:this.handleDismissExperience,useNewTab:!1}):null,r?Q.a.createElement(_e.a,{onDismiss:this.handleHideCuratorModal,handleCompleteExperience:o}):null)},t}(K.Component),xe=Object(he.compose)(ge.a)(Ce),Se=n("wUWH"),Oe=n("lip+"),Te=n("qzVV"),Ie=n("Aw5z"),Pe=n("63eB"),ke=n("5tOk"),je=n("E7T4"),Re=n("aKzT"),Be=function(e){function t(n){f(this,t);var r=h(this,e.call(this,n));return r.onToggleCustomGender=function(){r.setState({showCustomGenderField:!r.state.showCustomGenderField})},r.state={gender:"",customGender:"",showCustomGenderField:!1},r}return b(t,e),t.prototype.onSelectGender=function e(t){t!==Re.a||this.state.showCustomGenderField?this.setState({gender:t,customGender:""},this.updateGenderCompleteHero):this.setState({gender:"",customGender:""},this.onToggleCustomGender)},t.prototype.getCustomGenderField=function e(){var t=this;return Q.a.createElement(te.b,{alignItems:"center",direction:"row",display:"flex"},Q.a.createElement(te.b,{paddingX:1},Q.a.createElement(te.K,{id:"custom_gender_input",onChange:function e(n){var r=n.value;return t.setState({customGender:r})},placeholder:ae.a._("Custom gender","Placeholder text for custom gender field"),type:"text"})),Q.a.createElement(te.b,{paddingX:1},Q.a.createElement(te.c,{color:"white",inline:!0,onClick:function e(){return t.updateGenderCompleteHero()},size:"md",text:ae.a._("Done","confirm button for entering custom gender")})))},t.prototype.getGenderButtons=function e(){var t=this,n=this.props.handleDismiss,r=this.state.showCustomGenderField?this.getCustomGenderField():Q.a.createElement(te.b,{paddingX:1},Q.a.createElement(te.c,{color:"transparent",onClick:function e(){return t.onSelectGender(Re.a)},size:"md",text:ae.a._("Custom","Custom gender option in list of male, female, custom")}));return Q.a.createElement(te.b,{alignItems:"center",direction:"row",display:"flex",paddingX:3},Q.a.createElement(te.b,{minWidth:"80px",paddingX:2},Q.a.createElement(te.N,{onTouch:n},Q.a.createElement(te.I,{bold:!0,color:"white",size:"md"},ae.a._("Not now","Dismiss option for gender selection banner on HF")))),Q.a.createElement(te.b,{paddingX:1},Q.a.createElement(te.c,{color:"transparent",onClick:function e(){return t.onSelectGender(Re.l)},size:"md",text:ae.a._("Male","Male gender option in list of male, female, custom")})),Q.a.createElement(te.b,{paddingX:1},Q.a.createElement(te.c,{color:"transparent",onClick:function e(){return t.onSelectGender(Re.h)},size:"md",text:ae.a._("Female","Female gender option in list of male, female, custom")})),r)},t.prototype.getGenderSignalHero=function e(){return Q.a.createElement(te.b,{alignItems:"center",direction:"row",display:"flex",padding:4},Q.a.createElement(te.b,{flex:"grow"},Q.a.createElement(te.I,{bold:!0,color:"white",size:"md"},Q.a.createElement(Oe.a,null,function(e){return e.firstName?Object(ke.h)(ae.a._("Hey {{first_name}}! Pick what describes you best to personalize your experience on Pinterest","Copy for banner asking user to select gender"),{first_name:e.firstName}):ae.a._("Hey there! Pick what describes you best to personalize your experience on Pinterest","Copy for banner asking user to select gender")}))),this.getGenderButtons())},t.prototype.updateGenderCompleteHero=function e(){var t=this,n={updateUserData:{gender:"",custom_gender:""}};this.state.showCustomGenderField?(n.updateUserData.custom_gender=this.state.customGender,n.updateUserData.gender=null):(n.updateUserData.gender=this.state.gender,n.updateUserData.custom_gender=null);var r=function e(){t.props.handleComplete(),t.props.contextLog(101,{component:17,element:241,view:1});var n=new Pe.a;n.evt=new Te.a("",null,{forceRefresh:1}),Ie.a.navigate("/",n)};this.props.dispatch(Object(je.b)(n)).then(r)},t.prototype.render=function e(){var t=Q.a.createElement("div",{className:"Module HeroBasic genderSignalHero gray"},this.getGenderSignalHero());return"IE"===this.context.userAgent.browserName?t:Q.a.createElement(te.F,{dangerouslySetZIndex:{__zIndex:2},top:65},t)},t}(K.Component);Be.contextTypes={userAgent:se.a.shape({browserName:se.a.string.isRequired}).isRequired},Be.defaultProps={handleComplete:function e(){},handleDismiss:function e(){}};var Ne=Object(ge.a)(Be),Le=g,Me=n("tmfO"),Ue=n("FJZF"),De=function(e){function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=w(this,e.call.apply(e,[this].concat(i))),r.state={isOnHover:!1},r.handleClick=function(){var e=r.props,t=e.interest;(0,e.onClick)(t)},r.handleHover=function(){r.setState({isOnHover:!0})},r.handleUnhover=function(){r.setState({isOnHover:!1})},o=n,w(r,o)}return E(t,e),t.prototype.render=function e(){var t=this.props,n=t.color,r=t.interest,o=this.state.isOnHover,a=Ue.a.getQueryStringFromObject({q:r});return Q.a.createElement("div",{onMouseOver:this.handleHover,onMouseOut:this.handleUnhover,style:{borderRadius:8}},Q.a.createElement(te.b,{shape:"rounded",marginLeft:1,marginRight:1,position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:n}}},Q.a.createElement(Me.b,{to:"/search/pins/?"+a,onClick:this.handleClick},Q.a.createElement(te.b,{shape:"rounded",position:"absolute",display:o?"block":"none",top:!0,right:!0,bottom:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .06)"}}}),Q.a.createElement(te.b,{position:"relative",display:"flex",alignItems:"center",paddingX:4,paddingY:3},Q.a.createElement(te.b,{marginRight:1,padding:1},Q.a.createElement(te.m,{icon:"search",accessibilityLabel:ae.a._("search icon","icon label"),color:"white",size:16})),Q.a.createElement(te.I,{color:"white",size:"lg",overflow:"normal",bold:!0,inline:!0},""+r.charAt(0).toUpperCase()+r.substr(1))))))},t}(K.PureComponent),He=260,Fe=24,Ae=["#E2780D","#F13535","#133A5E"],We=function(e){function t(){var n,r,o;v(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=_(this,e.call.apply(e,[this].concat(i))),r.state={isPinsWrapperOnHover:!1},r.handleComplete=function(e){var t=r.props,n=t.contextLog;(0,t.handleComplete)(),n(101,{view:1,viewParameter:92,component:13203,interest:e})},r.handleCompleteWithFirstInterest=function(){r.handleComplete(r.props.interests[0])},r.handleHover=function(){r.setState({isPinsWrapperOnHover:!0})},r.handleUnhover=function(){r.setState({isPinsWrapperOnHover:!1})},r.renderInterestQuery=function(e,t){return Q.a.createElement(De,{key:e,color:Ae[t],interest:e,onClick:r.handleComplete})},r.renderSamplePin=function(e,t){var n="square";return t===r.props.samplePins.length-1?n="roundedRight":0===t&&(n="roundedLeft"),Q.a.createElement(te.b,{key:e.id,width:120,shape:n,marginLeft:1,marginRight:1,overflow:"hidden"},Q.a.createElement(te.t,{wash:!0,width:"100%",height:"100%"},Q.a.createElement(te.o,{alt:e.title||e.description||ae.a._("example image","alt information, example pin image for a topic"),color:"#717171",fit:"cover",naturalHeight:e.image_medium_size_pixels.height,naturalWidth:e.image_medium_size_pixels.width,src:e.image_medium_url})))},o=n,_(r,o)}return C(t,e),t.prototype.render=function e(){var t=this.props,n=t.header,r=t.interests,o=t.samplePins,a=t.isTextOnly,i=t.completeButtonText,s=t.dismissButtonText,l=t.handleDismiss,c=this.state.isPinsWrapperOnHover,u=r[0],d=n.indexOf(u),p=n.substr(0,d),m=""+u.charAt(0).toUpperCase()+u.substr(1),f=n.substring(d+u.length);return Q.a.createElement(te.b,{display:"flex",justifyContent:"center",marginTop:9,marginBottom:2,marginLeft:4,marginRight:4},Q.a.createElement(te.b,{minWidth:756,maxWidth:910},a?Q.a.createElement(te.b,{display:"flex",direction:"column",justifyContent:"center"},Q.a.createElement(te.b,{display:"flex",alignItems:"start",justifyContent:"between",marginBottom:3},Q.a.createElement(te.l,{size:"sm",overflow:"normal"},n),Q.a.createElement(te.n,{icon:"cancel",size:"sm",accessibilityLabel:ae.a._("close interests upsell hero","accessibility label"),onClick:l})),Q.a.createElement(te.b,{display:"flex",alignItems:"start",marginLeft:-1,marginRight:-1},r.map(this.renderInterestQuery))):Q.a.createElement(te.b,{display:"flex",justifyContent:"between"},Q.a.createElement(te.b,{display:"flex",direction:"column",flex:"shrink",marginRight:5},Q.a.createElement(te.l,{size:"sm",overflow:"normal"},p,Q.a.createElement("span",{style:{color:"#bd081c"}},m),f),Q.a.createElement(te.b,{display:"flex",marginTop:3,marginLeft:-1,marginRight:-1},Q.a.createElement(te.b,{marginLeft:1,marginRight:1},Q.a.createElement(Me.b,{to:"/search/pins/?"+Ue.a.getQueryStringFromObject({q:u})},Q.a.createElement(te.c,{inline:!0,text:i,onClick:this.handleCompleteWithFirstInterest}))),Q.a.createElement(te.b,{marginLeft:1,marginRight:1},Q.a.createElement(te.c,{inline:!0,text:s,onClick:l})))),Q.a.createElement(Me.b,{to:"/search/pins/?"+Ue.a.getQueryStringFromObject({q:u}),onClick:this.handleCompleteWithFirstInterest},Q.a.createElement("div",{onMouseOver:this.handleHover,onMouseOut:this.handleUnhover,style:{borderRadius:8}},Q.a.createElement(te.b,{display:"flex",justifyContent:"between",height:194,paddingX:1,paddingY:2,margin:-2,shape:"rounded",dangerouslySetInlineStyle:{__style:c?{backgroundColor:"rgba(0, 0, 0, .06)"}:{}}},o.map(this.renderSamplePin)))))))},t}(K.PureComponent);We.defaultProps={samplePins:[]};var ze=Object(he.compose)(ge.a,fe.a)(We),Ge=3e3,Xe=6e3,Ve=function(e){function t(){return I(this,t),P(this,e.apply(this,arguments))}return k(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.displayPinHighlightEducation,r=t.handleComplete,o=t.hidePinHighlightEducation;n(),setTimeout(o,3e3),setTimeout(r,6e3)},t.prototype.render=function e(){var t=this.props.pin,n=t.title,r=t.description,o=t.imageMediumUrl,a=t.imageMediumSizePixels,i=a.height,s=a.width,l=ae.a._("Because you saved this Pin, here are <span style=color:#4a90e2> more ideas to explore </span>","homefeed hero text for repin education");return Q.a.createElement(te.b,{alignItems:"center",direction:"row",display:"flex",marginTop:4,marginBottom:2,justifyContent:"center"},Q.a.createElement(te.b,{marginRight:4},Q.a.createElement(te.t,{wash:!0,width:70,height:98,shape:"rounded"},Q.a.createElement(te.o,{alt:n||r||ae.a._("last pinned image"),color:"#717171",fit:"cover",naturalHeight:i,naturalWidth:s,src:o}))),Q.a.createElement(te.b,{width:340},Q.a.createElement(te.l,{size:"xs",overflow:"normal"},Q.a.createElement(te.b,{dangerouslySetInnerHTML:{__html:l}}))))},t}(K.PureComponent),Ye=function e(t){return{displayPinHighlightEducation:function e(){return t(O())},hidePinHighlightEducation:function e(){return t(T())}}},Ze=Object($.connect)(null,Ye)(Ve),qe=n("BAXv"),Ke=n("FTnl"),Qe=n("kxCB"),Je=3e3,$e=function(e){function t(){var n,r,o;j(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=R(this,e.call.apply(e,[this].concat(i))),r.state={errorMessages:{name:null,email:null}},r.handleDismissClick=function(e){var t=e.event;r.dismiss(t),r.props.contextLog(101,{component:13088,element:10267})},r.handleSubmitClick=function(){var e=r.props,t=e.contextLog,n=e.handleComplete,o=e.showToast;r.validate(r.state)&&(r.submitLead(r.state),o(function(e){var t=e.onHide;return Q.a.createElement(Ke.a,{duration:Je,text:ae.a._("Got it! We'll be in touch soon. Learn more","[m10n]"),onHide:t,href:qe.a.GEN.templateConst.settings.PARTNER_PROPEL_BLOG_POST+"?utm_source=pinterest&utm_medium=toast&utm_campaign=propel_submit"})}),n()),t(101,{component:13088,element:10266})},r.handleNameChange=function(e){var t=e.value;r.setState({name:t})},r.handleEmailChange=function(e){var t=e.value;r.setState({email:t})},o=n,R(r,o)}return B(t,e),t.prototype.submitLead=function e(t){(0,this.props.contextLog)(6974,{component:13087,lead_first_name:t.name,lead_email:t.email,lead_source:"InAppLeadGenHero"})},t.prototype.validate=function e(t){var n=t.name,r=void 0===n?"":n,o=t.email,a=void 0===o?"":o,i={},s=!1;return r.trim().length||(i.name=ae.a._("What's your name?","[m10n]"),s=!0),a.trim().length&&a.includes("@")||(i.email=ae.a._("What's your email?","[m10n]"),s=!0),this.setState({errorMessages:i}),!s},t.prototype.dismiss=function e(t){t.preventDefault(),this.props.handleDismiss()},t.prototype.render=function e(){var t=this.state.errorMessages;return Q.a.createElement(te.b,{color:"darkGray",flex:"grow",position:"relative"},Q.a.createElement(te.b,{position:"absolute",top:!0,right:!0,deprecatedPadding:{x:3,y:4}},Q.a.createElement(te.n,{accessibilityLabel:ae.a._("Close Hero","[m10n]"),iconColor:"white",icon:"cancel",onClick:this.handleDismissClick,size:"sm"})),Q.a.createElement(te.h,null,Q.a.createElement(te.b,{deprecatedPadding:{y:6,x:4}},Q.a.createElement(te.b,{xs:{column:12}},Q.a.createElement(te.l,{color:"white",size:"sm"},ae.a._("You’re invited to Pinterest Propel","[m10n]"))),Q.a.createElement(te.b,{xs:{column:12},deprecatedMargin:{top:2,bottom:3}},Q.a.createElement(te.I,{bold:!0,color:"white",smSize:"md",mdSize:"xl"},ae.a._("Join today for phone support, custom Pins and expert tips for growing your business — all for free.","[m10n]"))),Q.a.createElement(te.b,{sm:{display:"flex"}},Q.a.createElement(te.b,{xs:{column:12},sm:{column:5},deprecatedMargin:{right:1}},Q.a.createElement(te.K,{id:"name",placeholder:ae.a._("Name","[m10n] A prospective customer's name"),type:"email",idealErrorDirection:"down",onChange:this.handleNameChange,errorMessage:t.name})),Q.a.createElement(te.b,{xs:{column:12},sm:{column:5},deprecatedMargin:{right:1}},Q.a.createElement(te.K,{id:"email",placeholder:ae.a._("Email","[m10n] A prospective customer's email address"),type:"email",idealErrorDirection:"down",onChange:this.handleEmailChange,errorMessage:t.email})),Q.a.createElement(te.b,{xs:{column:12},sm:{column:2}},Q.a.createElement(te.c,{color:"red",inline:!0,onClick:this.handleSubmitClick,text:ae.a._("Sign up","[m10n]"),type:"submit"}))))))},t}(Q.a.Component),et=Object(he.compose)(ge.a,Qe.a)($e),tt=n("x84g"),nt=260,rt=24,ot=function(e){function t(){var n,r,o;N(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=L(this,e.call.apply(e,[this].concat(i))),r.state={isPinsWrapperOnHover:!1},r.handleHover=function(){r.setState({isPinsWrapperOnHover:!0})},r.handleUnhover=function(){r.setState({isPinsWrapperOnHover:!1})},r.renderSamplePin=function(e,t){var n="square";return 2===t?n="roundedRight":0===t&&(n="roundedLeft"),Q.a.createElement(te.b,{key:e.id,
width:120,shape:n,marginLeft:1,marginRight:1,overflow:"hidden"},Q.a.createElement(te.t,{wash:!0,width:"100%",height:"100%"},Q.a.createElement(te.o,{alt:e.title||e.description||ae.a._("example image","alt information, example pin image for a topic"),color:"#717171",fit:"cover",naturalHeight:e.image_large_size_pixels.height,naturalWidth:e.image_large_size_pixels.width,src:e.image_large_url})))},o=n,L(r,o)}return M(t,e),t.prototype.render=function e(){var t=this.props,n=t.copy,r=t.customProperties,o=t.seoUpsellColor,a=t.handleComplete,i=t.handleDismiss,s=t.dismissButtonText,l=t.completeButtonText,c=n.titleText,u=n.subtitleText,d="blue"===o?"blue":"white",p="blue"===o?"white":"darkGray";return Q.a.createElement(te.b,{display:"flex",justifyContent:"center",paddingX:4,paddingY:9,color:d},Q.a.createElement(te.b,{minWidth:756,maxWidth:910},Q.a.createElement(te.b,{display:"flex",justifyContent:"between"},Q.a.createElement(te.b,{display:"flex",direction:"column",flex:"shrink",marginRight:5},Q.a.createElement(te.l,{size:"sm",truncate:!0,color:p},c),Q.a.createElement(te.l,{size:"md",overflow:"breakWord",color:p},u),Q.a.createElement(te.b,{display:"flex",marginTop:3,marginLeft:-1,marginRight:-1},Q.a.createElement(te.b,{marginLeft:1,marginRight:1},Q.a.createElement(Me.b,{to:r.path},Q.a.createElement(te.c,{inline:!0,text:l,onClick:a}))),Q.a.createElement(te.b,{marginLeft:1,marginRight:1},Q.a.createElement(te.c,{inline:!0,text:s,onClick:i})))),Q.a.createElement(Me.b,{to:r.path,onClick:a},Q.a.createElement("button",{onMouseOver:this.handleHover,onMouseOut:this.handleUnhover,style:{borderRadius:8,backgroundColor:"transparent",borderWidth:"0"}},Q.a.createElement(te.b,{display:"flex",justifyContent:"between",height:220,paddingX:1,paddingY:2,margin:-2,shape:"rounded",dangerouslySetInlineStyle:{__style:this.state.isPinsWrapperOnHover?{backgroundColor:"rgba(0, 0, 0, .06)"}:{}}},this.props.objects.slice(0,3).map(this.renderSamplePin)))))))},t}(K.PureComponent),at=Object(he.compose)(fe.a)(ot),it=n("6P5Y"),st=n.n(it),lt=function(e){function t(){var n,r,o;U(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=D(this,e.call.apply(e,[this].concat(i))),r.state={hover:!1},r.handleConnectClick=function(){r.props.handleSocialConnectClick(r.props.socialMedia)},r.toggleHover=function(){r.setState({hover:!r.state.hover})},o=n,D(r,o)}return H(t,e),t.prototype.getButtonStyle=function e(){var t={};t.borderRadius="4";var n="gplus"===this.props.socialMedia?"6px 40px 6px 0px":"6px 20px 6px 0px",r="",o="";return"white"===this.props.buttonBackgroundColor?(o="#FFFFFF","facebook"===this.props.socialMedia?r="#3B5998":"gplus"===this.props.socialMedia&&(r="#0084FF")):"blue"===this.props.buttonBackgroundColor&&(r="#FFFFFF","facebook"===this.props.socialMedia?o="#3B5998":"gplus"===this.props.socialMedia&&(o="#0084FF")),this.state.hover&&(o="#EDEDED"),t.color=r,t.padding=n,t.backgroundColor=o,t},t.prototype.getFacebookIcon=function e(){return Q.a.createElement(te.b,{dangerouslySetInlineStyle:{__style:{borderRadius:10,backgroundColor:"#3B5998"}},height:24,marginLeft:2,position:"relative",left:!0,width:24},Q.a.createElement(te.m,{accessibilityLabel:ae.a._("facebook","accessible label for facebook icon"),color:this.state.hover?"lightGray":"white",icon:"facebook",inline:!0,size:24}))},t.prototype.getGPlusIcon=function e(){return Q.a.createElement(te.b,{alignSelf:"center",color:this.state.hover?"lightGray":"white",display:"flex",height:24,marginLeft:2,position:"relative",width:24},this.logo(24))},t.prototype.logo=function e(t){return Q.a.createElement("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg"},Q.a.createElement("g",{fill:"none",fillRule:"evenodd"},Q.a.createElement("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),Q.a.createElement("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),Q.a.createElement("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),Q.a.createElement("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),Q.a.createElement("path",{d:"M20 20h472v472H20V20z"})))},t.prototype.renderSocialConnectButton=function e(){var t=this.getButtonStyle();return Q.a.createElement(te.b,{marginRight:2,onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},Q.a.createElement(te.N,{onTouch:this.handleConnectClick},Q.a.createElement(te.b,{alignItems:"center",display:"flex",position:"relative",dangerouslySetInlineStyle:{__style:t}},"facebook"===this.props.socialMedia?this.getFacebookIcon():this.getGPlusIcon(),Q.a.createElement(te.b,{marginLeft:3},Q.a.createElement(te.I,{bold:!0},Q.a.createElement("span",{style:{color:t.color}},this.props.buttonText))))))},t.prototype.render=function e(){return this.renderSocialConnectButton()},t}(K.Component),ct=n("cD7N"),ut=n("mHth"),dt=function(e){function t(){var n,r,o;F(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=A(this,e.call.apply(e,[this].concat(i))),r.state={network:""},r.setConnectSuccess=function(e){r.setState({network:e},r.handleComplete)},r.handleSocialConnectClick=function(e){ct.a.instance().handleConnect(e,!0,{success:function t(){r.setConnectSuccess(e)}})},o=n,A(r,o)}return W(t,e),t.prototype.getText=function e(){return""===this.state.network?this.props.subTitle:"gplus"===this.state.network?this.props.gplusConnectSuccess:this.props.facebookConnectSuccess},t.prototype.handleComplete=function e(){var t=this,n=!0;st()(function(e,n,r){t.props.experienceClient.completeExperience(e,n,r)},this.props.successMsgCloseDelayInMills,11,this.props.experienceId,!0)},t.prototype.render=function e(){var t="#0084FF",n="white",r=this.props.handleDismiss;return Q.a.createElement(te.b,{dangerouslySetInlineStyle:{__style:{backgroundColor:t,borderRadius:8}},display:"flex",justifyContent:"between",marginLeft:6,marginRight:8,marginTop:4,paddingX:7,paddingY:3},Q.a.createElement(te.b,{alignSelf:"center"},Q.a.createElement(te.I,{bold:!0,color:"white"},Q.a.createElement("span",{style:{fontSize:"23px"}},this.getText()))),""===this.state.network&&Q.a.createElement(te.b,{display:"flex",alignItems:"center",justifyContent:"between",marginRight:-3,minWidth:380},Q.a.createElement(lt,{buttonBackgroundColor:"white",buttonText:this.props.connectWithGoogle,socialMedia:"gplus",handleSocialConnectClick:this.handleSocialConnectClick}),Q.a.createElement(lt,{buttonBackgroundColor:"white",buttonText:this.props.connectWithFacebook,socialMedia:"facebook",handleSocialConnectClick:this.handleSocialConnectClick}),Q.a.createElement(te.b,{alignSelf:"center"},Q.a.createElement(te.n,{accessibilityLabel:ae.a._("Close","accessible label for close button"),iconColor:"white",icon:"cancel",onClick:r,size:"sm"}))),""!==this.state.network&&Q.a.createElement(te.b,{marginRight:-3},Q.a.createElement(te.n,{accessibilityLabel:ae.a._("Close","accessible label for close button"),iconColor:"white",icon:"cancel",onClick:r,size:"sm"})))},t}(K.Component),pt=Object(he.compose)(ut.a)(dt),mt=n("sOF4"),ft=n("GGB8"),ht=n.n(ft),bt=n("jPJg"),gt=n("309r"),yt=n("JyNp"),wt=5,Et=function(e){function t(){var n,r,o;z(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=G(this,e.call.apply(e,[this].concat(i))),r.state={openRenux:!1},r.handleDismiss=function(){r.setState(function(){return{openRenux:!1}})},r.flipRenux=function(){var e=!r.state.openRenux,t=r.props,n=t.contextLog,o=t.topicsResource.refreshData;e?n(101,{component:13215,viewParameter:3197}):o(),r.setState(function(e){return{openRenux:!e.openRenux}})},o=n,G(r,o)}return X(t,e),t.prototype.renderTopics=function e(t){var n=t.filter(function(e){return e.is_followed}),r=n.slice(0,5),o=n.length>5,a=r.length-1;return r.map(function(e,t){var n=Object.assign({},e,{label:e.name,images:{"400x":e.images["400x"]}});return Q.a.createElement(te.b,{key:n.id,paddingX:3,display:"inlineBlock"},Q.a.createElement(bt.a,{interest:n,isOverflow:o&&t===a,key:n.id,notSelectable:!0,size:"sm"}))})},t.prototype.render=function e(){var t=this.props,n=t.topicsResource,r=n.data,o=n.isFetching,a=n.isLoaded,i=t.viewer.firstName,s=ht()("Module","HeroBasic","white");return Q.a.createElement("div",{className:s},Q.a.createElement(te.b,{height:80,alignItems:"start",direction:"row",display:"flex",justifyContent:"center",paddingX:12,paddingY:6},Q.a.createElement(te.b,{paddingX:12},Q.a.createElement(te.l,{size:"xs"},Object(ke.h)(ae.a._("Hi {{firstName}}! Your feed is made up of these topics","Educating user that these are the topics they picked"),{firstName:i})))),Q.a.createElement(te.b,{alignItems:"start",direction:"row",justifyContent:"center",display:"flex",paddingY:4},a&&r.length?this.renderTopics(r):null,Q.a.createElement(te.b,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center"},Q.a.createElement(te.E,{accessibilityLabel:ae.a._("Loading additional topics","Label for the loading state spinner in the Topics section of the Following page"),show:o||!a})),Q.a.createElement(te.b,{display:"flex",alignItems:"center",direction:"column",alignSelf:"center"},Q.a.createElement(te.b,{paddingX:3,display:"inlineBlock"},Q.a.createElement(te.n,{size:"xl",bgColor:"lightGray",icon:"edit",iconColor:"gray",accessibilityLabel:"Modify Topics",onClick:this.flipRenux}),this.state.openRenux&&Q.a.createElement(gt.a,{isSimpleRenux:!0,dismissCallback:this.flipRenux,completeCallback:this.flipRenux})))))},t}(K.PureComponent);Et.defaultProps={handleComplete:function e(){},handleDismiss:function e(){}};var vt=Object(he.compose)(fe.a,ge.a,Object(yt.c)({name:"NuxInterestsResource",key:"topicsResource",options:{is_renux:!0,isLazyLoading:!0}}))(Et),_t=n("suNN"),Ct=150,xt=function(e){function t(){var n,r,o;V(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=Y(this,e.call.apply(e,[this].concat(i))),r.state={hasCompleted:!1},r.handleCompleteExperience=function(){r.props.handleComplete(),r.setState({hasCompleted:!0})},o=n,Y(r,o)}return Z(t,e),t.prototype.componentWillUnmount=function e(){this.state.hasCompleted||this.props.handleDismiss()},t.prototype.render=function e(){var t=this,n=this.props,r=n.headerSubtitle,o=n.completeButtonText,a=n.completeButtonUrl;return Q.a.createElement(Oe.a,null,function(e){return Q.a.createElement(te.b,{display:"flex",justifyContent:"center",position:"relative",color:"blue",height:150,dangerouslySetInlineStyle:{__style:{zIndex:3}}},Q.a.createElement(te.b,{display:"flex",justifyContent:"between",alignItems:"end",width:864,margin:7},Q.a.createElement(te.b,{display:"flex",direction:"column",justifyContent:"between",height:"100%",marginRight:5},Q.a.createElement(te.l,{size:"sm",color:"white"},Object(_t.b)(ae.a._("Welcome back, {{ name }}",'shown on a banner, "welcome back, first_name"'),{name:e.firstName})),Q.a.createElement(te.I,{size:"xl",color:"white"},r)),Q.a.createElement(te.b,{minWidth:120},Q.a.createElement(Me.b,{to:a},Q.a.createElement(te.c,{size:"lg",text:o,onClick:t.handleCompleteExperience})))))})},t}(K.PureComponent);xt.defaultProps={completeButtonUrl:""};var St=xt,Ot=n("Rmuw"),Tt=[500268,500464,500528,500716],It=[500385],Pt=500413,kt=500821,jt=500654,Rt=500693,Bt=500860,Nt=500831,Lt=500843,Mt=500863,Ut=500689,Dt=500840,Ht=function e(t){var n=t.placementId;return K.createElement(Se.a,{placementId:n,type:13},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,o=e.display_data,a=q(t);return K.createElement(a,Object.assign({},Object(Ot.a)(mt.a)(o),{experienceId:t,handleComplete:n,handleDismiss:r}))})},Ft=t.default=Ht},ZWUK:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("wUWH"),i=n("FTnl"),s=n("Kqaz"),l=function e(t){return r.createElement(a.a,{placementId:t.placementId,type:10},function(e){var n=e.complete,o=e.dismiss,a=e.display_data,s=a.link||t.linkUrl,l=function e(){t.shouldLogClicks&&t.contextLog(101,{objectId:t.objectId,component:t.thriftComponentType,element:t.thriftElementType})},c=function e(){n(),t.onClick&&t.onClick(),t.shouldLogClicks&&l()},u=function e(){t.onHide(),t.completionOnDismissal?n():o()};return r.createElement(i.a,{duration:a.duration,href:s,text:a.text,onClick:c,onHide:u})})};t.a=Object(s.a)(l)},aQMl:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("ZWUK"),c=n("kxCB"),u=2e3,d=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.componentDidMount=function(){a.experienceToastsTimeout=window.setTimeout(function(){return a.triggerEducationToasts()},u)},i=n,o(a,i)}return a(t,e),t.prototype.componentWillUnmount=function e(){window.clearTimeout(this.experienceToastsTimeout)},t.prototype.triggerEducationToasts=function e(){var t=this.props,n=t.showToast,r=t.hideAllToasts,o=t.completionOnDismissal,a=t.placementId;r(),n(function(e){var t=e.onHide;return s.a.createElement(l.a,{completionOnDismissal:o,onHide:t,placementId:a})})},t.prototype.render=function e(){return null},t}(i.Component);d.defaultProps={completionOnDismissal:!1},t.a=Object(c.a)(d)},aTwL:function(e,t,n){"use strict";function r(e){var t=e.locale,n=e.pinCount,r=e.sectionCount;return o.createElement(u.b,{display:"flex",direction:"row"},r?o.createElement(u.b,{display:"none",smDisplay:"flex",overflow:"hidden"},o.createElement(u.I,{size:"sm",inline:!0,truncate:!0},Object(l.b)(s.a.ngettext("{{ count }} section","{{ count }} sections",r,"label for n amount of sections"),{count:Object(c.c)(t,r)})),o.createElement(i.a,null)):null,o.createElement(u.b,{overflow:"hidden"},o.createElement(u.I,{size:"sm",truncate:!0},Object(l.b)(s.a.ngettext("{{ count }} Pin","{{ count }} Pins",n,"label for n amount of pins"),{count:Object(c.c)(t,n)}))))}t.a=r;var o=n("d6ZO"),a=n.n(o),i=n("jhop"),s=n("W/Cr"),l=n("suNN"),c=n("mnfW"),u=n("gEaE")},az75:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("IaRT"),c=n.n(l),u=n("gEaE"),d=2,p=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function e(){var t=this.props,n=t.boardThumbs,r=void 0===n?[]:n,o=t.coverImagePos,a=t.coverImageUrl,i=t.height,l=t.width,c=o&&a&&""!==a,d=l/2-1,p=i/2-1,m=[].concat(r.slice(0,c?3:4),[].concat(new Array(4).fill({url:""}))).slice(0,c?3:4);return s.a.createElement(u.t,{shape:"rounded",width:l,height:i},s.a.createElement(u.b,{display:"flex",wrap:!0},c&&s.a.createElement(u.b,{dangerouslySetInlineStyle:{__style:{marginBottom:2,marginRight:2}}},s.a.createElement(u.t,{wash:!0,height:p,width:d},s.a.createElement(u.o,{alt:"",src:a,color:"#EFEFEF",naturalWidth:o.width||1,naturalHeight:o.height||1,fit:"cover"}))),m.map(function(e,t){return s.a.createElement(u.b,{dangerouslySetInlineStyle:{__style:{marginBottom:0===t||!c&&1===t?2:0,marginRight:!c&&(0===t||2===t)||c&&1===t?2:0}},key:t},e&&""!==e.url?s.a.createElement(u.t,{wash:!0,height:p,width:d,key:t},s.a.createElement(u.o,{alt:"",src:e.url||"",color:e.dominant_color||"#EFEFEF",naturalWidth:e.width||1,naturalHeight:e.height||1,fit:"cover"})):s.a.createElement(u.b,{color:"lightGray",key:t,width:d,height:p}))})))},t}(i.Component);t.a=p},bbMF:function(e,t,n){"use strict";function r(){var e=s.a.getBrowser();return e?e===c.a.BrowserType.SAFARI||g[e].newWindow:void 0}function o(){var e=s.a.getBrowser();return e?g[e].url:void 0}function a(e,t){var n=o();chrome.webstore.install(n,e,t)}var i=n("FqaO"),s=n("JGru"),l=n("FHH+"),c=n("BAXv"),u=n("5JJA"),d=n.n(u),p=n("Cjb7"),m=void 0,f="data-pinterest-extension-installed",h=100,b={},g={};g[c.a.BrowserType.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},g[c.a.BrowserType.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},g[c.a.BrowserType.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!1},g[c.a.BrowserType.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},g[c.a.BrowserType.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},b.handleExtensionInstall=function(e,t){var n=o();if(n){var i=t||function(){Object(l.a)(n,r())};b.isChrome()?a(e,i):i()}},b.isExtensionInstalled=function(){return m},b.isChrome=function(){return s.a.getBrowser()===c.a.BrowserType.CHROME},b.extensionReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise(function(t){setTimeout(function(){m=document.body.hasAttribute("data-pinterest-extension-installed"),i.set("bei",m),s.a.getBrowser()===c.a.BrowserType.OTHER&&(m=!0),t(m)},e)})},b.initBrowserExtension=function(){d()().then(function(e){var t=e.default;t.logToServer(t.SERVER_LOG_TYPE.BROWSER_EXTENSION,t.HTTP_METHOD.POST,{browser_extension_installed:m}),p.a.instance.publish("browserExtension","browserExtensionStateUpdated")})},t.a=b},behT:function(e,t,n){"use strict";var r=n("gWV8"),o=n("JyNp");t.a=Object(o.c)({name:"CountriesResource",key:"items"})(r.a)},bhla:function(e,t,n){"use strict";function r(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o(e){var t=e.hoverRelativePosition,n=t.positionRelativeToCenter.x,r=t.boundingBox.width,o=e.centerEnabled?i*r:0;return Math.abs(n)<o/2?"center":n<0?"left":"right"}function a(e){var t=e.hoverLocation,n=t.itemIndex,r=t.regionWithinItem,o=e.sourceIndex;if("center"===r||n===o)return n;var a="left"===r;return n<o===a?n:a?n-1:n+1}t.c=r,t.a=o,t.b=a;var i=.5},dI1q:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.experiments,n=e.inCommunityExperiment,r=e.onClickTab,o=e.tab,a=e.router,i=e.user,l=e.viewer,p=l.isAuth&&l.username===i.username,m=l.isAuth&&l.isPartner,f=Math.max(i.secret_board_count,i.board_count)>=3,h=["enabled","employees"].includes(t.activate("web_dense_user_pins_view")||""),b=[],g={isActive:o===k.BOARDS,onClick:r?function(){return r(k.BOARDS)}:void 0,tabText:u.a._("Boards"),url:"/"+i.username+"/boards/"},y={isActive:o===k.PINS,onClick:r?function(){return r(k.PINS)}:void 0,tabText:u.a._("Pins"),url:"/"+i.username+"/pins/"},w={isActive:o===k.TOPICS,onClick:r?function(){return r(k.TOPICS)}:void 0,tabText:u.a._("Topics","label for topics tab on profile"),url:"/"+i.username+"/topics/"},E=p&&!m&&!l.isLimitedLogin;if(p&&m?b.push(y,g):b.push(g,y),!i.blocked_by_me&&l.isAuth&&(i.pins_done_count||p)&&b.push({isActive:o===k.TRIED,onClick:r?function(){return r(k.TRIED)}:void 0,tabText:u.a._("Tries","label for tries tab on profile"),url:"/"+i.username+"/tried/"}),n&&(i.joined_communities_count||p)){var v={isActive:o===k.COMMUNITIES,onClick:r?function(){return r(k.COMMUNITIES)}:void 0,tabText:u.a._("Communities","label for communities tab on profile"),url:"/"+i.username+"/communities/"};b.push(v)}E&&b.push(w);var _=Math.max(b.findIndex(function(e){return e.isActive}),0),x=s.createElement(C.b,{display:"flex",direction:"row",justifyContent:"between",alignItems:"center",wrap:!0},s.createElement(C.b,{marginBottom:1},s.createElement(C.H,{activeTabIndex:_,onChange:function e(t){var n=t.event,r=t.activeTabIndex,o=b[r];o.onClick&&o.onClick(),n.defaultPrevented||0!==n.button||j(n)||!a||(n.preventDefault(),a.push(o.url))},tabs:b.map(function(e){return{text:e.tabText,href:e.url}})})),o===k.PINS&&p&&h&&s.createElement(C.b,{marginLeft:-1,marginRight:-1,paddingX:1},s.createElement(d.a,{viewType:4,component:13182,pinView:"profile"})),o===k.BOARDS&&p&&f&&s.createElement(C.b,{display:"flex",marginLeft:-1,marginRight:-1},s.createElement(C.b,{paddingX:1},s.createElement(O,null)),s.createElement(C.b,{paddingX:1},s.createElement(c.a,{isOwnProfile:p,hasCustomOrder:i.has_custom_board_sorting_order}))));return s.createElement(C.b,{paddingX:3,marginTop:4},s.createElement(C.h,null,x))}var s=n("d6ZO"),l=n.n(s),c=n("9omg"),u=n("W/Cr"),d=n("CAF8"),p=n("DUIN"),m=n("wUWH"),f=n("BGzY"),h=n("ZtCB"),b=n.n(h),g=n("JyNp"),y=n("i0Ug"),w=n("MQ2h"),E=n.n(w),v=n("3hjj"),_=n("Kqaz"),C=n("gEaE"),x={square:"M16.00,20.00 L20.00,20.00 L20.00,16.00 L16.00,16.00 L16.00,20.00 Z M10.00,8.00 L10.00,4.00 L14.00,4.00 L14.00,8.00 L10.00,8.00 Z M4.00,8.00 L4.00,4.00 L8.00,4.00 L8.00,8.00 L4.00,8.00 Z M16.00,8.00 L16.00,4.00 L20.00,4.00 L20.00,8.00 L16.00,8.00 Z M4.00,14.00 L4.00,10.00 L8.00,10.00 L8.00,14.00 L4.00,14.00 Z M10.00,14.00 L10.00,10.00 L14.00,10.00 L14.00,14.00 L10.00,14.00 Z M16.00,14.00 L16.00,10.00 L20.00,10.00 L20.00,14.00 L16.00,14.00 Z M4.00,20.00 L4.00,16.00 L8.00,16.00 L8.00,20.00 L4.00,20.00 Z M10.00,20.00 L10.00,16.00 L14.00,16.00 L14.00,20.00 L10.00,20.00 Z",list:"M4.00,13.00 L4.00,11.00 L20.00,11.00 L20.00,13.00 L4.00,13.00 Z M4.00,8.00 L4.00,6.00 L20.00,6.00 L20.00,8.00 L4.00,8.00 Z M4.00,18.00 L4.00,16.00 L20.00,16.00 L20.00,18.00 L4.00,18.00 Z",wide:"M13.00,20.00 L13.00,13.00 L20.00,13.00 L20.00,20.00 L13.00,20.00 Z M4.00,11.00 L4.00,4.00 L11.00,4.00 L11.00,11.00 L4.00,11.00 Z M13.00,11.00 L13.00,4.00 L20.00,4.00 L20.00,11.00 L13.00,11.00 Z M4.00,20.00 L4.00,13.00 L11.00,13.00 L11.00,20.00 L4.00,20.00 Z"},S=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.handleViewChange=function(e){var t=e.activeIndex,n=a.props,r=n.contextLog,o=n.dispatch;a.completeViewTypeExperience&&a.completeViewTypeExperience();var i=(a.options.find(function(e,n){return n===t})||{}).value;r(101,{component:13181,viewParameter:3106,element:a.logElementType(i)}),b.a.create("UserMetadataResource",{profile_board_rep_view_type:i}).callUpdate(),o(Object(v.c)(i))},a.options=[{label:u.a._("Wide view","board view type option: wide"),value:"wide"},{label:u.a._("square view","board view type option: square"),value:"square"},{label:u.a._("List view","board view type option: list"),value:"list"}],i=n,o(a,i)}return a(t,e),t.prototype.componentDidUpdate=function e(){var t=this.props,n=t.dispatch,r=t.metadata,o=t.profileBoardView;if(r&&r.data&&!o){var a=r.data.profile_board_rep_view_type;n(a?Object(v.c)(a):Object(v.c)("wide"))}},t.prototype.logElementType=function e(t){switch(t){case"list":return 10602;case"wide":return 10603;case"square":return 10604;default:return""}},t.prototype.render=function e(){var t=this,n=this.props,r=n.metadata,o=n.profileBoardView;if(!r||!r.data)return null;var a=this.options.findIndex(function(e){return e.value===o});return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.b,{display:"flex",alignItems:"center"},l.a.createElement("div",{ref:function e(n){t.anchor=n}},l.a.createElement(C.b,{paddingX:3},l.a.createElement(C.C,{items:this.options.map(function(e,t){return l.a.createElement(C.b,null,l.a.createElement(C.m,{accessibilityLabel:e.value,color:t===a?"darkGray":"gray",dangerouslySetSvgPath:{__path:x[e.value]},size:24}))}),selectedItemIndex:a,onChange:this.handleViewChange})))),l.a.createElement(m.a,{placementId:19,experienceIds:[500883]},function(e){var n=e.complete,r=e.dismiss;return t.completeViewTypeExperience=n,l.a.createElement(f.a,{anchor:t.anchor,idealDirection:"down",onDismiss:r,positionRelativeToAnchor:!1},l.a.createElement(C.I,{bold:!0,color:"white",size:"md"},u.a._("New! Change how you see your boards so it's easier to find what you're looking for","Label to introduce the board view type toggle")))}))},t}(s.Component),O=Object(w.compose)(Object(p.connect)(function(e){return{profileBoardView:e.ui.views&&e.ui.views.profileBoardView}}),_.a,y.a,Object(g.c)({name:"UserMetadataResource",key:"metadata",options:function e(t){return{user:{id:t.viewer.username}}}}))(S),T=n("gwbo"),I=n("kzic"),P=n("dCTv");n.d(t,"a",function(){return k});var k={BOARDS:"boards",ACTIVITIES:"_activities",DECIDER:"decider",FOLLOWERS:"_followers",FOLLOWING:"_following",OVERVIEW:"overview",PINS:"pins",TRIED:"tried",TOPICS:"topics",COMMUNITIES:"communities"},j=function e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},R=t.b=Object(w.compose)(T.c,P.b,y.a,I.withRouter)(i)},dLDq:function(e,t,n){"use strict";function r(e){var t=e.onHide,n=i.a._("Password Changed!");return a.a.createElement(s.a,{accessibilityCloseLabel:i.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,footer:a.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"end"},a.a.createElement(l.c,{color:"red",inline:!0,onClick:t,text:i.a._("Okay"),size:"md"}))},a.a.createElement(l.b,{padding:4},a.a.createElement(l.I,null,i.a._("Your password has been changed successfully."))))}var o=n("d6ZO"),a=n.n(o),i=n("W/Cr"),s=n("R6a3"),l=n("gEaE");t.a=r},fJR7:function(e,t){},gTNS:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("gEaE"),i=function e(t){var n=t.text;return r.createElement(a.h,null,r.createElement(a.b,{paddingY:5},r.createElement(a.l,{color:"gray",size:"xs"},n)))};t.a=i},gWV8:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n("d6ZO"),a=n.n(o),i=n("IaRT"),s=n.n(i),l=n("gEaE"),c=function e(t){var n=t.items,o=r(t,["items"]),i=(n.data||[]).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n}}),s=o.id,c=o.name,u=o.onChange,d=o.value;return a.a.createElement(l.D,{id:s,name:c,onChange:u,options:i,value:d})};t.a=c},h67S:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=e.firstName,n=e.onBlockUser,r=e.onClearModal;return ee.a.createElement("form",{className:"standardForm",method:"post"},ee.a.createElement(de.b,{padding:4},ee.a.createElement(de.I,{size:"xl"},ae.a._("Block this person?","header text asking if we should block the user"))),ee.a.createElement(de.i,null),ee.a.createElement(de.b,{padding:4},ee.a.createElement(de.I,{size:"sm"},Object(be.b)(ae.a._("If you block {{ name }}, you won’t be able to follow each\n  other or interact with each other’s Pins."),{name:ee.a.createElement(de.I,{key:"name",bold:!0,inline:!0,size:"sm"},t)}))),ee.a.createElement(de.b,{padding:4},ee.a.createElement(he.b,{external:!0,to:ge},ee.a.createElement(de.I,{bold:!0,color:"darkGray",size:"sm"},ae.a._("Learn more","link to help center to learn more about blocking")))),ee.a.createElement(fe,{confirmText:ae.a._("Block"),isStickyFooter:!1,onCancel:r,onConfirm:n}))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e){var t=Object(et.a)(e);return Ye.a.punycode_decode(t)}function g(e){var t=e.user,n=e.viewer;return n.isAuth&&t.username===n.username}function y(e,t){var n=e.count,r=e.showAllDigits,o=void 0===r||r,a=t.locale,i=o?{}:{shortform:!0,shortform_maximum_fraction_digits:1},s=Object(tt.c)(a,n,i);return ee.a.createElement(de.I,{color:"gray",size:"sm"},Object(be.b)(ae.a.ngettext("{{ boardCount }} Board","{{ boardCount }} Boards",n,"Label for the number of boards a user owns"),{boardCount:ee.a.createElement("strong",null,s)}))}function w(e,t){var n=e.count,r=e.showAllDigits,o=void 0===r||r,a=t.locale,i=o?{}:{shortform:!0,shortform_maximum_fraction_digits:1},s=Object(tt.c)(a,n,i);return ee.a.createElement(de.I,{color:"gray",size:"sm"},Object(be.b)(ae.a.ngettext("{{ followerCount }} Follower","{{ followerCount }} Followers",n,"Label for the number of people following a user"),{followerCount:ee.a.createElement("strong",null,s)}))}function E(e,t){var n=e.allDigits,r=void 0===n||n,o=e.count,a=t.locale,i=r?{}:{shortform:!0,shortform_maximum_fraction_digits:1},s=Object(tt.c)(a,o,i);return $.createElement("span",{dangerouslySetInnerHTML:{__html:Object(oe.c)(ae.a.ngettext("<strong>{{count}}</strong> Tried","<strong>{{count}}</strong> Tried",o),{count:s})}})}function v(e){var t=e.alignCenter,n=e.tab,r=e.user,o=r.board_count,a=r.follower_count,i=r.pin_count,s=r.pins_done_count;if(n!==Pe.a.BOARDS&&n!==Pe.a.PINS&&n!==Pe.a.FOLLOWERS&&n!==Pe.a.TRIED)return null;var l=$.createElement(de.I,{color:"gray",size:"sm"},n===Pe.a.BOARDS&&$.createElement(st,{count:o}),n===Pe.a.PINS&&$.createElement(ct.a,{count:i}),n===Pe.a.FOLLOWERS&&$.createElement(lt,{count:a}),n===Pe.a.TRIED&&s>0&&$.createElement(ut,{count:s}));return $.createElement(de.h,null,t?$.createElement(de.b,{display:"flex",justifyContent:"center"},l):$.createElement(de.b,{display:"flex",paddingX:3,marginBottom:3,marginLeft:1},l))}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e){var t=Object(et.a)(e);return Ye.a.punycode_decode(t)}function P(e){return e?"http://"+e:""}function k(e){var t=function t(){var n=e.currentSection;if(!n)return"/showcase/settings/";switch(n.type){case le.a.SHOWCASE_TYPE_BOARD:return n.url;case le.a.SHOWCASE_TYPE_ARTICLE:return"/discover/article/"+n.id+"/";case le.a.SHOWCASE_TYPE_SHOP:return"/shop_pins/merchants/"+n.link_data.id+"/"}return""},n=function e(t){var n=t.cover_images[0][It].url;return $.createElement("div",{className:"articleImage",style:{backgroundImage:"url("+n+")"}})},r=function e(t){var n=t.has_custom_cover,r=t.image_cover_hd_url,o=t.image_cover_url,a=t.images,i=n?r||o:"",s=i?{url:i}:void 0;return $.createElement(xt.a,{boardThumbs:a[Pt],cover:s,height:jt,numCols:kt,width:Rt})},o=function e(t){return $.createElement(St.a,Object.assign({isHovering:!0},t))},a=function e(){var t=Ee()("emptySection","bg-super-light-gray","col-12","flex","justify-center","items-center");return $.createElement("div",{className:t},$.createElement(de.t,{height:Tt,shape:"circle",width:Tt},$.createElement("div",{className:"bg-white"},$.createElement(de.m,{accessibilityLabel:ae.a._("Create showcase"),color:"red",icon:"add-circle",inline:!0,size:Tt}))))},i=e.currentSection,s=e.onEmptyStateDismissal,l=e.onClick,c=e.viewingOwnProfile,u=null,d=!1;if(i&&i.type===le.a.SHOWCASE_TYPE_BOARD)u=r(i);else if(i&&i.type===le.a.SHOWCASE_TYPE_ARTICLE)u=n(i);else if(i&&i.type===le.a.SHOWCASE_TYPE_SHOP)u=o(i);else{if(i||!c)return null;u=a(),d=!0}return $.createElement("div",{className:"ShowcaseContent"},$.createElement(he.b,{className:"mainContentLink",onClick:l,to:t()},u),d&&$.createElement("button",{className:"Button borderless closeModal dismissButton",onClick:s,type:"button"},$.createElement("em",null)," "))}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(e){var t=e.currentPipIndex,n=e.numberPips;return t>=n?null:$.createElement("div",{className:"ShowcasePips flex"},Array(n).fill().map(function(e,n){return n===t?$.createElement("div",{className:"animatingPipWrapper",key:n},$.createElement("div",{className:"pip"}),$.createElement("div",{className:"pip animatingPip"})):$.createElement("div",{className:Ee()("pip",{filledPip:n<t}),key:n})}))}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e){return $t.a.create("UserMetadataResource",e)}function W(e,t){return{type:Qt.a.PROFILE_COVER_SOURCE,payload:{id:e,coverSource:t}}}function z(e,t){return function(n){A(t).callUpdate().then(function(){n(W(e,t))})}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $=n("d6ZO"),ee=n.n($),te=n("RklN"),ne=n.n(te),re=n("DUIN"),oe=n("5tOk"),ae=n("W/Cr"),ie=n("nM9s"),se=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.saveButtonRef=function(e){a.button=e},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=ne.a.findDOMNode(this.button);t instanceof HTMLElement&&t.focus()},t.prototype.render=function e(){var t=this.props,n=t.firstName,r=t.onClearModal;return ee.a.createElement("form",{className:"standardForm",method:"post"},ee.a.createElement("div",{className:"body"},ee.a.createElement("p",null,ee.a.createElement("span",{dangerouslySetInnerHTML:{__html:oe.h(ae.a._("You've blocked <strong>{{ name }}</strong>"),{name:n})}}))),ee.a.createElement("div",{className:"formFooter"},ee.a.createElement("div",{className:"formFooterButtons"},ee.a.createElement(ie.a,{onClick:r,ref:this.saveButtonRef,text:ae.a._("OK"),type:"primary"}))))},t}($.Component),le=n("BAXv"),ce=n("IaRT"),ue=n.n(ce),de=n("gEaE"),pe=10,me=66,fe=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return o.onScroll=function(){clearTimeout(o.scrollingTimer),o.scrollingTimer=setTimeout(o.calculateStickyFooter,pe)},o.calculateStickyFooter=function(){o.props.lastSectionContainer&&(o.props.lastSectionContainer.getBoundingClientRect().bottom+me>window.innerHeight?o.setState({isSticky:!0}):o.setState({isSticky:!1}))},o.state={isSticky:!0},o}return l(t,e),t.prototype.componentDidMount=function e(){this.props.isStickyFooter&&(this.scrollResizeHandler=this.onScroll,window.addEventListener("scroll",this.scrollResizeHandler),window.addEventListener("resize",this.scrollResizeHandler))},t.prototype.componentWillUnmount=function e(){this.props.isStickyFooter&&(clearTimeout(this.scrollingTimer),window.removeEventListener("scroll",this.scrollResizeHandler),window.removeEventListener("resize",this.scrollResizeHandler),this.scrollResizeHandler=null)},t.prototype.render=function e(){var t=this.props,n=t.confirmText,r=t.onCancel,o=t.onConfirm,a={};return this.props.isStickyFooter&&this.state.isSticky&&(a.position="fixed"),ee.a.createElement("div",{className:"formFooter",style:a},this.props.children,ee.a.createElement("div",{className:"formFooterButtons"},r&&ee.a.createElement(de.b,{marginRight:2,display:"inlineBlock"},ee.a.createElement(de.c,{inline:!0,onClick:r,text:ae.a._("Cancel","Cancel action to dismiss modal")})),ee.a.createElement(de.c,{inline:!0,onClick:o,text:n,color:"red"})))},t}($.Component),he=n("tmfO"),be=n("suNN"),ge=le.a.GEN.templateConst.settings.HELP_BLOCKING+"?source=block_dialogue",ye=n("9omg"),we=n("GGB8"),Ee=n.n(we),ve=n("WBZ1"),_e=n.n(ve),Ce=n("Kqaz"),xe=n("i0Ug"),Se=n("MQ2h"),Oe=n.n(Se),Te=n("gwbo"),Ie=n("kzic"),Pe=n("dI1q"),ke=5,je=160,Re=800,Be=150,Ne=75,Le=50,Me=function(e){function t(n,r){u(this,t);var o=d(this,e.call(this,n,r));return o.componentDidMount=function(){window.addEventListener("resize",o.calculateTabs),o.calculateTabs()},o.componentWillUnmount=function(){window.removeEventListener("resize",o.calculateTabs)},o.setDotRef=function(e){o.dotRef=e},o.setTabRef=function(e){o.tabRef=e},o.getTabs=function(){var e=o.props,t=e.inCommunityExperiment,n=e.tab,r=e.user,a=e.viewer,i=a.isAuth&&a.username===r.username,s=a.isAuth&&a.isPartner,l={isActive:n===Pe.a.BOARDS,onClick:function e(){return o.handleTabClick(Pe.a.BOARDS)},tabText:ae.a._("Boards"),url:"/"+r.username+"/boards/"},c={isActive:n===Pe.a.PINS,onClick:function e(){return o.handleTabClick(Pe.a.PINS)},tabText:ae.a._("Pins"),url:"/"+r.username+"/pins/"},u={isActive:n===Pe.a.OVERVIEW,onClick:function e(){return o.handleTabClick(Pe.a.OVERVIEW)},tabText:ae.a._("Overview","Overview tab on profile page"),url:"/"+r.username+"/overview/"},d={isActive:n===Pe.a.ACTIVITIES,onClick:function e(){return o.handleTabClick(Pe.a.ACTIVITIES)},tabText:ae.a._("Activity","Activities tab on profile page which shows domain pins"),url:"/"+r.username+"/_activities/"},p={isActive:n===Pe.a.COMMUNITIES,onClick:function e(){return o.handleTabClick(Pe.a.COMMUNITIES)},tabText:ae.a._("Communities","label for communities tab on profile"),url:"/"+r.username+"/communities/"},m={isActive:n===Pe.a.FOLLOWERS,onClick:function e(){return o.handleTabClick(Pe.a.FOLLOWERS)},tabText:ae.a._("Followers","Followers tab on profile page which shows people following you"),url:"/"+r.username+"/_followers/"},f={isActive:n===Pe.a.FOLLOWING,onClick:function e(){return o.handleTabClick(Pe.a.FOLLOWING)},tabText:ae.a._("Following","Following tab on profile page which shows people following you"),url:"/"+r.username+"/_following/"},h=[];return h.push(u,l,c),r.show_discovered_feed&&h.push(d),t&&r.joined_communities_count&&h.push(p),h.push(m,f),r.blocked_by_me||!r.pins_done_count&&!i||h.push({isActive:n===Pe.a.TRIED,onClick:function e(){return o.handleTabClick(Pe.a.TRIED)},tabText:ae.a._("Tries","label for tries tab on profile"),url:"/"+r.username+"/tried/"}),!i||s||a.isLimitedLogin||h.push({isActive:n===Pe.a.TOPICS,onClick:function e(){return o.handleTabClick(Pe.a.TOPICS)},tabText:ae.a._("Topics","label for topics tab on profile"),url:"/"+r.username+"/topics/"}),h},o.calculateTabs=_e()(function(){var e=o.dotRef&&o.dotRef.offsetWidth||Ne,t=(o.tabRef&&o.tabRef.offsetWidth)+e,n=o.tabs.length;(t+2*je>window.innerWidth||t>Re)&&o.state.tabsVisible>0?(o.setState({tabsVisible:o.state.tabsVisible-1}),setTimeout(o.calculateTabs,50)):t+2*je+Be<window.innerWidth&&t+Be<Re&&o.state.tabsVisible<n&&(o.setState({tabsVisible:o.state.tabsVisible+1}),setTimeout(o.calculateTabs,50))},Le),o.handleOpen=function(){o.setState({flyoutOpen:!0})},o.handleDismiss=function(){o.setState({flyoutOpen:!1})},o.hoverMore=function(){o.setState({hoverMore:!0})},o.unhoverMore=function(){o.setState({hoverMore:!1})},o.handleTabClick=function(e){var t=o.props,n=t.onClickTab,r=t.contextLog,a=null;if(o.state&&o.state.currentTab&&(a=o.state.currentTab),n&&n(e),e!==a){o.setState({currentTab:e});var i=null;switch(e){case Pe.a.OVERVIEW:i=10627;break;case Pe.a.BOARDS:i=10628;break;case Pe.a.PINS:i=10629;break;case Pe.a.FOLLOWING:i=10630;break;case Pe.a.FOLLOWERS:i=10631;break;case Pe.a.TRIED:i=10632;break;default:i=null}i&&r(101,{component:13193,element:i})}},o.renderTab=function(e,t,n){return $.createElement("div",{key:"tab_"+e.tabText,className:Ee()("BusinessProfileTabItem",{Selected:e.isActive})},$.createElement(de.N,{onTouch:function t(){e.onClick&&e.onClick(),n&&n.push(e.url)},shape:"pill"},$.createElement(de.b,{shape:"pill",paddingX:4,paddingY:3},$.createElement(de.I,{size:"md",bold:!0,color:e.isActive?"darkGray":"gray",truncate:!0},e.tabText))))},o.renderDropdownTab=function(e,t,n){return $.createElement("div",{key:"tab_"+e.tabText,className:Ee()("BusinessProfileTabLinkItem",{Selected:e.isActive})},$.createElement(de.N,{onTouch:function t(){e.onClick&&e.onClick(),n&&n.push(e.url)},shape:"square"},$.createElement(de.b,{paddingX:4,paddingY:3},$.createElement(de.I,{align:"center",size:"md",bold:!0,color:e.isActive?"darkGray":"gray"},e.tabText))))},o.renderDot=function(e,t,n){return $.createElement(de.b,{flex:"shrink"},$.createElement("div",{ref:o.setDotRef,className:Ee()("BusinessProfileTabMoreItem")},$.createElement(de.N,{onMouseEnter:function e(){o.setState({hoverMore:!0})},onMouseLeave:function e(){o.setState({hoverMore:!1})},onTouch:o.state.flyoutOpen?o.handleDismiss:o.handleOpen,shape:"pill"},$.createElement(de.b,{display:"flex",shape:"pill",paddingX:4,paddingY:3},$.createElement(de.b,null,$.createElement(de.I,{bold:!0,color:"gray",inline:!0},ae.a._("More","Show more menu items"))),$.createElement(de.b,{alignSelf:"center",paddingX:2},$.createElement(de.m,{accessibilityLabel:ae.a._("More","Show more menu items"),icon:o.state.flyoutOpen?"arrow-up":"arrow-down",inline:!0,color:"gray",size:16})))),o.state.flyoutOpen&&$.createElement(de.j,{anchor:o.dotRef,idealDirection:"down",onDismiss:o.handleDismiss,size:"md"},$.createElement(de.b,{column:12},$.createElement(de.b,{alignItems:"center",display:"flex",direction:"column",justifyContent:"center"},e.map(function(e){return o.renderDropdownTab(e,t,n)}))))))},o.tabs=o.getTabs(),o.state={flyoutOpen:!1,hoverMore:!1,currentTab:"",tabsVisible:ke},o}return p(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.tab,o=n.router,a=n.user,i=n.viewer,s=i.isAuth&&i.username===a.username,l=a.board_count>0,c=this.tabs.slice(),u=c.splice(this.state.tabsVisible,c.length-this.state.tabsVisible),d=Math.max(c.findIndex(function(e){return e.isActive}),0);return $.createElement("div",{className:"BusinessProfileTabBar"},$.createElement(de.b,{display:"flex",direction:"row",justifyContent:"center",alignItems:"center"},$.createElement(de.b,{paddingY:2},$.createElement("div",{ref:this.setTabRef},$.createElement(de.b,{display:"flex",direction:"row",justifyContent:"center",alignItems:"center"},c.map(function(e){return t.renderTab(e,d,o)})))),u.length>0&&this.renderDot(u,d,o),r===Pe.a.BOARDS&&s&&l&&$.createElement(de.b,{paddingY:2},$.createElement(ye.a,{isOwnProfile:s,hasCustomOrder:a.has_custom_board_sorting_order}))))},t}($.Component),Ue=Object(Se.compose)(Te.c,Ce.a,xe.a,Ie.withRouter)(Me),De=n("MDbR"),He=n.n(De),Fe=n("LQgx"),Ae=n("mh3e"),We=n("VkZp"),ze=n("FHH+"),Ge=n("/8mn"),Xe=n("dnEF"),Ve=n("Uem8"),Ye=n("FJZF"),Ze=n("GHzk"),qe=n("+kCg"),Ke=n("dCTv"),Qe=n("mQXi"),Je=n("DVnr"),$e=n("Cjb7"),et=n("CoQw"),tt=n("mnfW"),nt=n("8VZO"),rt=n("ok+N"),ot=Je.a,at=function(e){function t(){var n,r,o;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.state={isNagShown:!1,showProfileOptions:!1,top:ot},r.onScroll=function(){return r.props.onScroll()},r.setContainerRef=function(e){return r.container=e},r.unsubscribe=function(){window.removeEventListener("scroll",r.onScroll),r.subscriber.unsubscribe()},r.subscriber=$e.b.subscribe("site","latestNagClose",function(){r.setState({isNagShown:!1,top:ot}),r.unsubscribe()}),r.prevScrollY=0,r.pincodeEnabled=function(){var e=r.props,t=e.user,n=e.viewer,o=e.experiments;return Object(nt.b)(o.v2GetGroup("web_pincodes"),g({user:t,viewer:n}))},r.shouldShowImpression=function(){var e=r.props.user.impressum_url,t=r.context.country;return!(!e||!["DE","AT","CH"].includes(t.toUpperCase()))},r.hideProfileOptions=function(){return r.setState({showProfileOptions:!1})},r.showProfileOptions=function(){return r.setState({showProfileOptions:!0})},r.handlePromoteButtonClick=function(){r.props.contextLog(101,{component:13193,element:10693});var e=Object(Qe.c)(null,!1,!1,Ve.b.getSterlingURL("create"));Object(ze.a)(e)},r.renderCreatorInformation=function(){var e=r.props,t=e.onClickSendProfile,n=e.onCreatePincodeClick,o=e.onToggleBlock,a=e.scrollStep,i=e.user,s=e.viewer,l=r.context,c=l.country,u=l.locale,d=i.profile_reach>=1e7?ae.a._("10m+","text for number of more than 10 millions"):Object(tt.c)(u,i.profile_reach||0,{shortform:!0,shortform_maximum_fraction_digits:1}),p=Object(be.b)(ae.a._("{{ count }} {{ label }}"),{count:ee.a.createElement(de.b,{marginRight:1},ee.a.createElement(de.I,{bold:!0,size:"lg"},d)),label:ee.a.createElement(de.b,{marginRight:1},ee.a.createElement(de.I,{size:"lg"},ae.a._("monthly viewers","Monthly Viewers label")))}),m=g({user:i,viewer:s}),f=i.blocked_by_me,h=r.state.showProfileOptions,y=i.verified_identity&&i.verified_identity.verified,w="AvatarScroller scrollStep"+a,E=ee.a.createElement("div",{className:w},ee.a.createElement("div",{className:"ShadowedAvatarWrapper"},ee.a.createElement(de.a,{name:i.full_name,src:i.image_xlarge_url,verified:y}))),v=f?r.renderUnblockButton():r.renderFollowButton(),_=h?ee.a.createElement(de.j,{anchor:r.profileOptionsContainer,idealDirection:"down",onDismiss:r.hideProfileOptions,size:"sm"},ee.a.createElement(de.g,{xs:12},ee.a.createElement(de.c,{accessibilityLabel:ae.a._("Share","Share profile"),color:"white",text:ae.a._("Share","Share profile"),onClick:t}),ee.a.createElement(de.c,{accessibilityLabel:ae.a._("Report","Report profile"),color:"white",text:ae.a._("Report","Report profile"),onClick:o}))):null,C=s&&s.isAuth?ee.a.createElement(de.b,{className:"profile-options-box",marginRight:4},!m&&ee.a.createElement("div",{ref:function e(t){r.profileOptionsContainer=t}},ee.a.createElement(de.n,{accessibilityLabel:ae.a._("Profile options","Accessible label for button to show share or report flyout"),bgColor:"lightGray",icon:"ellipsis",onClick:r.showProfileOptions,size:"xs"})),_):null,x={US:1,GB:2,CA:3,IE:4,AU:5,NZ:6,FR:7}[c],S=m&&x&&i.pin_count>2&&["enabled","employees"].includes(r.props.experiments.activate("smb_profile_create_ad_button")),O=ee.a.createElement(de.b,{"data-test-id":"promoteButton"},ee.a.createElement(de.c,{text:"Create ad",color:"red",onClick:r.handlePromoteButtonClick}));return ee.a.createElement(de.b,null,ee.a.createElement(de.b,{display:"flex",alignItems:"start"},ee.a.createElement(de.g,{span:3},ee.a.createElement(de.b,{paddingX:3,marginLeft:-3,dangerouslySetInlineStyle:{__style:{marginTop:-50}}},r.pincodeEnabled()?ee.a.createElement(de.N,{onTouch:n,shape:"circle",fullWidth:!1},E):ee.a.createElement(de.b,null,E))),ee.a.createElement(de.b,{alignSelf:"start",column:9},ee.a.createElement(de.b,{alignItems:"start",dangerouslySetInlineStyle:{__style:{marginTop:20}},display:"flex",justifyContent:"between",wrap:!0},ee.a.createElement(de.b,{column:7,paddingX:2,flex:"shrink",marginBottom:2},ee.a.createElement(de.l,{mdSize:"sm",size:"xs"},i.full_name),-1!==i.profile_reach&&ee.a.createElement(de.b,{display:"flex",marginTop:2},p)),ee.a.createElement(de.b,{alignItems:"center",display:"flex"},C,ee.a.createElement(de.b,{column:12,flex:"shrink"},!m&&v,S&&O))))),ee.a.createElement(de.b,{display:"flex",justifyContent:"between",marginTop:3,wrap:!0},ee.a.createElement(de.g,{span:5,mdSpan:6},ee.a.createElement(de.b,{marginRight:4},i.location&&ee.a.createElement(de.b,null,ee.a.createElement(de.I,{bold:!0,color:"gray",size:"lg"},i.location)),i.website_url&&ee.a.createElement(de.b,{marginTop:2,display:"flex",alignItems:"center"},i.domain_verified&&ee.a.createElement(Ge.a,null),ee.a.createElement(he.b,{to:i.website_url,style:{width:"100%"}},ee.a.createElement(de.I,{bold:!0,truncate:!0,size:"lg"},b(i.website_url)))),r.shouldShowImpression()&&ee.a.createElement(de.b,{marginTop:2},ee.a.createElement(he.b,{to:i.impressum_url},ee.a.createElement(de.I,{bold:!0,color:"gray",truncate:!0,size:"lg"},ae.a._("Impressum","Impressum link")))))),ee.a.createElement(de.g,{span:12,mdSpan:6},ee.a.createElement(de.b,null,ee.a.createElement(de.I,{size:"lg"},i.about)))))},o=n,f(r,o)}return h(t,e),t.prototype.componentDidMount=function e(){this.markProfileInfoRendered(),window.addEventListener("scroll",this.onScroll)},t.prototype.componentWillUnmount=function e(){this.unsubscribe()},t.prototype.markProfileInfoRendered=function e(){var t=this.props,n=t.user;if(t.viewer.isAuth&&n){var r={resources:[n.image_xlarge_url]};qe.b.mark("profileInfoRendered",r,this.container)}},t.prototype.renderUnblockButton=function e(){var t=this.props.onToggleBlock;return ee.a.createElement(de.c,{color:"gray",inline:!0,onClick:t,size:"md",text:ae.a._("Unblock")})},t.prototype.renderFollowButton=function e(){var t=this.props,n=t.onToggleFollow,r=t.scrollStep,o=t.user,a=t.viewer,i=this.context.locale,s=o.explicitly_followed_by_me,l=o.username,c=o.full_name,u=o.id,d=o.image_large_url,p="/"+l+"/overview/",m=Object(tt.c)(i,o.follower_count||0,{shortform:!0,shortform_maximum_fraction_digits:0}),f="CreatorFollowButton  scrollStep"+r;return ee.a.createElement("div",{className:f},ee.a.createElement(de.b,{display:"flex",alignItems:"center"},ee.a.createElement(de.b,null,ee.a.createElement(Ze.a,{followCount:m,fullName:c,hideFollowingText:!0,id:u,imageUrl:d||"",inline:!0,isOwnProfile:g({user:o,viewer:a}),onUserFollow:n,profileUrl:p,userFollowed:s}))))},t.prototype.render=function e(){return ee.a.createElement("div",{className:"CreatorHeaderContainer",ref:this.setContainerRef},ee.a.createElement(de.h,null,this.renderCreatorInformation()))},t}($.Component);at.contextTypes={country:ue.a.string.isRequired,locale:ue.a.string.isRequired};var it=Object(Se.compose)(xe.a,Ce.a,Ke.b,rt.b)(at);y.contextTypes={locale:ue.a.string.isRequired};var st=y;w.contextTypes={locale:ue.a.string.isRequired};var lt=w,ct=n("/rJq");E.contextTypes={locale:ue.a.string.isRequired};var ut=E,dt=v,pt=n("XELL"),mt=function(e){function t(){var n,r,o;_(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=C(this,e.call.apply(e,[this].concat(i))),r.header=null,o=n,C(r,o)}return x(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.headerTop,o=void 0===r?null:r,a=n.showFixedHeaderName,i=n.user,s=n.showSignupModal,l=ae.a._("Follow","User follow button"),c=function e(){s(pt.b.signup,pt.a.userProfilePage)};return ee.a.createElement("div",{className:"fixedHeader fixed",style:o,ref:function e(n){t.header=n}},ee.a.createElement(de.h,null,ee.a.createElement(de.b,{alignItems:"center",display:"flex",marginTop:1,paddingY:2,width:"100%",marginBottom:1,height:"50"},ee.a.createElement(de.b,{alignSelf:"start",alignItems:"center",display:"flex",smDisplay:"flex",padding:2,justifyContent:"start",flex:"grow"},ee.a.createElement("div",{className:Ee()("boardName",{transitionIn:a,transitionOut:!1===a})},ee.a.createElement(de.b,{display:"flex",alignItems:"center"},ee.a.createElement(de.b,{display:"inlineBlock"},ee.a.createElement(de.a,{size:"sm",name:i.full_name,src:i.image_xlarge_url})),ee.a.createElement(de.b,{display:"inlineBlock",paddingX:2},ee.a.createElement(de.I,{align:"center",inline:!0,bold:!0,truncate:!0,size:"lg"},i.full_name))))),ee.a.createElement(de.b,{display:"flex",justifyContent:"end",alignSelf:"end"},ee.a.createElement(de.c,{color:"red",inline:!0,onClick:c,text:l})))))},t}($.Component),ft=Object(xe.a)(mt),ht={avatarStyle:{width:"168px",height:"168px",borderRadius:"84px"}},bt=function(e){function t(){var n,r,o;S(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=O(this,e.call.apply(e,[this].concat(i))),r.header=null,r.renderCreatorInformation=function(){var e=r.props,t=e.scrollStep,n=e.user,o=r.context.locale,a="AvatarScroller scrollStep"+t,i=Object(tt.c)(o,n.follower_count);return ee.a.createElement("div",{ref:function e(t){r.container=t}},ee.a.createElement(ee.a.Fragment,null,ee.a.createElement(de.b,{display:"flex",alignItems:"start"},ee.a.createElement(de.g,{span:3},ee.a.createElement(de.b,{paddingX:2,marginLeft:-3,dangerouslySetInlineStyle:{__style:{marginTop:10}}},ee.a.createElement("div",{className:a},ee.a.createElement("div",{className:"ShadowedAvatarWrapper"},ee.a.createElement("img",{alt:n.full_name,src:n.image_xlarge_url,style:ht.avatarStyle}))))),ee.a.createElement(de.b,{alignSelf:"start",column:9},ee.a.createElement(de.b,{alignItems:"start",dangerouslySetInlineStyle:{__style:{marginTop:20}},display:"flex",justifyContent:"between",wrap:!0},ee.a.createElement(de.b,{column:7,paddingX:2,flex:"grow",marginBottom:2},ee.a.createElement(de.l,{mdSize:"sm",size:"xs",accessibilityLevel:1},n.full_name),ee.a.createElement(de.b,{display:"flex",marginTop:4},ee.a.createElement(de.b,{display:"flex"},ee.a.createElement(de.I,{bold:!0,size:"lg",inline:!0},i)," ",ee.a.createElement(de.I,{color:"gray",size:"lg",inline:!0},ae.a._("Followers","Number of followers label")))),n.domain_url&&ee.a.createElement(de.b,{display:"flex",marginTop:2},n.domain_verified&&ee.a.createElement(Ge.a,null),ee.a.createElement(de.s,{href:P(n.domain_url)},ee.a.createElement(de.I,{bold:!0,inline:!0,truncate:!0,size:"lg"},I(n.domain_url)))),ee.a.createElement(de.b,{display:"flex",marginTop:2},ee.a.createElement(de.I,{bold:!0,size:"lg"},n.location)),ee.a.createElement(de.b,{marginTop:2},ee.a.createElement(de.I,{size:"lg"},n.about))))))))},o=n,O(r,o)}return T(t,e),t.prototype.render=function e(){return ee.a.createElement(ee.a.Fragment,null,ee.a.createElement(ft,{showFixedHeaderName:this.props.showFixedHeaderName,showSignupModal:this.props.showSignupModal,user:this.props.user}),ee.a.createElement("div",{className:"UnauthHeaderContainer"},ee.a.createElement(de.h,null,this.renderCreatorInformation())))},t}($.Component);bt.contextTypes={locale:ue.a.string.isRequired};var gt=Object(Se.compose)(xe.a,Ce.a,Ke.b,rt.b)(bt),yt=n("FHbT"),wt=n("z3es"),Et=n("fJR7"),vt=n.n(Et),_t=n("GY/T"),Ct=n.n(_t),xt=n("kopg"),St=n("ssUK"),Ot=n("iFk6"),Tt=56,It="564x",Pt="550x",kt=4,jt=377,Rt=768,Bt=k,Nt="leftSectionClasses",Lt="mainSectionClasses",Mt="rightSectionClasses",Ut=function(e){function t(){var n,r,o;j(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=R(this,e.call.apply(e,[this].concat(i))),r.getSectionClassNames=function(){var e,t=r.props.animationDirection,n=void 0,o=void 0,a=void 0;return t===Ot.a.LEFT?(n="absolute hidden",o="absolute mainSectionSlideFromLeft",a="absolute fadeRightOut"):t===Ot.a.RIGHT?(n="absolute fadeLeftOut",o="absolute mainSectionSlideFromRight",a="absolute hidden"):(n="absolute hidden",o="absolute",a="absolute hidden"),e={},e[Nt]=n,e[Lt]=o,e[Mt]=a,e},r.getIndexesFromSection=function(e,t){return{prevIndex:e>0?e-1:t.length-1,nextIndex:(e+1)%t.length}},r.logShowcaseSectionEvent=function(e,t){var n=r.props,o=n.contextLog,a=n.sections[e];if(a){var i="",s="";switch(a.type){case le.a.SHOWCASE_TYPE_BOARD:i=1286,s=a.id;break;case le.a.SHOWCASE_TYPE_ARTICLE:i=1287,s=a.id;break;case le.a.SHOWCASE_TYPE_SHOP:i=1288,s=a.link_data.id}o(t,{view:4,viewParameter:49,component:13039,element:i,index:e,section_id:s})}},o=n,R(r,o)}return B(t,e),t.prototype.componentDidMount=function e(){var t=this.props.currentIndex;this.logShowcaseSectionEvent(t,13)},t.prototype.render=function e(){var t=this.props,n=t.currentIndex,r=t.onEmptyStateDismissal,o=t.sections,a=t.viewingOwnProfile,i=this.getIndexesFromSection(n,o),s=i.prevIndex,l=i.nextIndex,c=this.getSectionClassNames();return ee.a.createElement("div",{className:"ShowcaseCarousel rounded"},o.length>1&&ee.a.createElement("div",{className:c[Nt],key:s},ee.a.createElement(Bt,{currentSection:o[s],viewingOwnProfile:a})),ee.a.createElement("div",{className:c[Lt],key:n},ee.a.createElement(Bt,Object.assign({},this.props,{currentSection:o[n],onEmptyStateDismissal:r,viewingOwnProfile:a}))),o.length>2&&ee.a.createElement("div",{className:c[Mt],key:l},ee.a.createElement(Bt,{currentSection:o[l],viewingOwnProfile:a})))},t}($.Component),Dt=Object(Ce.a)(Ut),Ht=n("HZVI"),Ft=n.n(Ht),At=le.a.GEN.templateConst.settings.HELP_SHOWCASE,Wt=function(e){function t(){return N(this,t),L(this,e.apply(this,arguments))}return M(t,e),t.prototype.getSectionId=function e(){var t=this.props.currentSection;if(!t)return"";switch(t.type){case le.a.SHOWCASE_TYPE_BOARD:case le.a.SHOWCASE_TYPE_ARTICLE:return t.id;case le.a.SHOWCASE_TYPE_SHOP:return t.link_data.id}},t.prototype.renderTitleAndSubtitle=function e(){var t=this.props,n=t.currentSection,r=t.viewingOwnProfile,o=void 0,a=void 0,i=void 0;if(i=!1,n&&n.type===le.a.SHOWCASE_TYPE_BOARD)o=n.name,a=ee.a.createElement(ct.a,{count:n.pin_count});else if(n&&n.type===le.a.SHOWCASE_TYPE_ARTICLE&&n.title&&n.subtitle)o=n.title.format,a=n.subtitle.format;else if(n&&n.type===le.a.SHOWCASE_TYPE_SHOP)o=n.layout_params.title,a=n.layout_params.subtitle;else{if(n||!r)return null;o=ae.a._("Build your showcase"),a=ae.a._("New! Welcome visitors with a big, beautiful showcase of ideas they'll love."),i=!0}return ee.a.createElement("div",{className:"titleWrapper"},ee.a.createElement(de.l,{size:"xs"},o),ee.a.createElement("div",{className:"subtitleWrapper"},ee.a.createElement(de.I,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},a),i&&ee.a.createElement(he.b,{className:"inline-block helpCenterLink",to:At,useNewTab:!0},ee.a.createElement(de.I,{bold:!0,color:"gray",size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},ae.a._("Learn more")))))},t.prototype.render=function e(){var t=this.props.animationDirection,n=Ee()("ShowcaseInfo","flex",{sectionInfoSlideFromRight:t===Ot.a.RIGHT},{sectionInfoSlideFromLeft:t===Ot.a.LEFT});return ee.a.createElement("div",{className:n,key:this.getSectionId()},this.renderTitleAndSubtitle())},t}($.Component),zt=n("8IRs"),Gt=n.n(zt),Xt=n("ieR2"),Vt=n("pN+K"),Yt=4e3,Zt="hideEmptyShowcase",qt=function(e){function t(){var n,r,o;D(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=H(this,e.call.apply(e,[this].concat(i))),r.state={currentIndex:0,hideEmptySection:!1},
r.getHideEmptySectionState=function(){var e=Xt.b.localStorage.getItem(Zt);r.setState({hideEmptySection:!!e})},r.goToNextSection=function(){var e=r.state.currentIndex,t=r.props.sections.length;t>1&&r.setState({animationDirection:Ot.a.RIGHT,currentIndex:(e+1)%t})},r.handleEmptyStateDismissal=function(){Xt.b.localStorage.setItem(Zt,!0),r.setState({hideEmptySection:!0})},r.handleShowcaseNextClick=function(e){e.stopPropagation(),r.handleAutoplay(),r.goToNextSection()},r.handleShowcaseBackClick=function(e){e.stopPropagation(),r.handleAutoplay();var t=r.state.currentIndex,n=t>0?t-1:r.props.sections.length-1;r.setState({animationDirection:Ot.a.LEFT,currentIndex:n})},r.renderBackNextButtons=function(){return $.createElement("div",null,$.createElement("button",{className:Ee()("Button","hasIcon","circle","showcaseButton","nextButton","bg-white"),onClick:r.handleShowcaseNextClick},$.createElement("em",null)),$.createElement("button",{className:Ee()("Button","hasIcon","circle","showcaseButton","backButton","bg-white"),onClick:r.handleShowcaseBackClick},$.createElement("em",null)))},r.renderEditButton=function(){return $.createElement(he.b,{to:"/showcase/settings/"},$.createElement("button",{className:Ee()("Button","hasIcon","circle","showcaseButton","editButton","bg-white")},$.createElement("em",null)))},o=n,H(r,o)}return F(t,e),t.prototype.componentDidMount=function e(){this.getHideEmptySectionState()},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){t.resourceLoaded&&this.props.isFetching&&!t.isFetching&&this.handleAutoplay()},t.prototype.componentWillUnmount=function e(){this.state.showcaseIntervalId&&window.clearInterval(this.state.showcaseIntervalId)},t.prototype.handleAutoplay=function e(){this.state.showcaseIntervalId&&window.clearInterval(this.state.showcaseIntervalId);var t=window.setInterval(this.goToNextSection,4e3);this.setState({showcaseIntervalId:t})},t.prototype.render=function e(){if(!this.props.resourceLoaded)return null;var t=this.props,n=t.sections,r=t.viewingOwnProfile;if(0===n.length)return null;var o=this.state,a=o.animationDirection,i=o.currentIndex,s=o.hideEmptySection,l=n.length,c=l>0?n[i]:null;return s&&0===l?null:$.createElement(de.h,null,$.createElement("div",{className:"ShowcaseContainer mb2 py3"},$.createElement("div",{className:"showcaseCarouselWrapper"},$.createElement(Dt,{animationDirection:a,currentIndex:i,onEmptyStateDismissal:this.handleEmptyStateDismissal,sections:n,viewingOwnProfile:r}),l>1?this.renderBackNextButtons():null,$.createElement(de.b,{display:"flex",position:"absolute",bottom:!0,column:12,marginBottom:4,paddingX:1},$.createElement(de.b,{flex:"grow",justifyContent:"start"},$.createElement(Wt,{animationDirection:a,currentSection:c,viewingOwnProfile:r})),$.createElement(de.b,{flex:"none",justifyContent:"end",marginRight:4},l>1&&$.createElement(de.b,{justifyContent:"end"},$.createElement(U,{currentPipIndex:i,numberPips:l})),$.createElement(de.b,{justifyContent:"end"},$.createElement("div",{className:"pull-right mt1"},r&&this.renderEditButton())))))))},t}($.Component);qt.defaultProps={sections:[]};var Kt=Object(Vt.b)({name:"ShowcaseResource",key:"sections",options:function e(t){return{username:t.username}}},{allowStale:!1})(qt),Qt=n("/F+I"),Jt=n("ZtCB"),$t=n.n(Jt),en=n("JyNp"),tn=de.u.createMeasurementStore(),nn=512,rn="#F0F0F0",on=40,an=40,sn=function(e){function t(n,r){G(this,t);var o=X(this,e.call(this,n,r));return o.onRadioChange=function(e){var t=o.props,n=t.contextLog,r=t.onSelect,a=e.profile_cover_source,i=e.profile_cover_source_id;o.setState({profile_cover_source:a,profile_cover_source_id:i}),r({profile_cover_source:a,profile_cover_source_id:i});var s=void 0;switch(a){case"all_user_pins":s=7189;break;case"domain_pins":s=7190;break;default:s=7191}n(s,{view:196})},o.setScrollContainer=function(e){o._scrollContainer=e},o.getScrollContainer=function(){return o._scrollContainer},o._scrollContainer=null,o.renderBoard=function(e){var t=e.data,n=t.id,r=t.image_cover_url,a=t.name,i="specific_board"===o.state.profile_cover_source&&o.state.profile_cover_source_id===n;return $.createElement(de.b,{display:"flex",column:12,alignItems:"center",justifyContent:"start",paddingY:1},$.createElement(de.b,{flex:"shrink"},$.createElement(de.z,{checked:i,id:"profileCoverSourceId_"+n,name:"profileCoverSource",onChange:function e(){return o.onRadioChange({profile_cover_source:"specific_board",profile_cover_source_id:n})},value:"profileCoverSourceId_"+n})),$.createElement(de.b,{paddingX:2},$.createElement(de.t,{height:on,shape:"rounded",wash:!0,width:an},$.createElement(de.o,{alt:a,color:rn,fit:"cover",naturalHeight:on,naturalWidth:an,src:r}))),$.createElement(de.b,null,$.createElement(de.I,{bold:!0,size:"xl"},a)))},o.state={profile_cover_source:n.profileCoverSource,profile_cover_source_id:n.profileCoverSourceId},o}return V(t,e),t.prototype.componentDidMount=function e(){(0,this.props.contextLog)(13,{view:196})},t.prototype.render=function e(){var t=this,n=this.props,r=n.boards,o=n.showActivity,a=r.data,i=r.fetchMore,s=r.isFetching,l=ae.a._("Pins people saved from your claimed website and linked accounts","label for domain pins profile cover source");return $.createElement("div",{ref:this.setScrollContainer},$.createElement(de.b,{paddingX:4},$.createElement(de.b,{paddingY:3},$.createElement(de.l,{size:"sm"},ae.a._("Pick some Pins to feature in your profile cover","Heading for modal to select profile cover source"))),$.createElement(de.b,{display:"flex",direction:"column"},$.createElement(de.b,{alignItems:"start",paddingY:2,display:"flex",direction:"row"},$.createElement(de.z,{checked:"all_user_pins"===this.state.profile_cover_source,id:"profileCoverSourceLatest",name:"profileCoverSource",onChange:function e(){return t.onRadioChange({profile_cover_source:"all_user_pins",profile_cover_source_id:null})},value:"profileCoverSourceLatest"}),$.createElement(de.b,{flex:"grow"},$.createElement(de.p,{htmlFor:"profileCoverSourceLatest"},$.createElement(de.b,{paddingX:2},$.createElement(de.I,{bold:!0,size:"xl"},ae.a._("Latest Pins","label for latest pins profile cover source"))),$.createElement(de.b,{paddingY:1,paddingX:2},$.createElement(de.I,null,ae.a._("The most recent Pins you saved to your profile","label for latest pins cover source")))))),o&&$.createElement(de.b,{alignItems:"start",paddingY:2,display:"flex",direction:"row"},$.createElement(de.z,{checked:"domain_pins"===this.state.profile_cover_source,id:"profileCoverSourceDomainPins",name:"profileCoverSource",onChange:function e(){return t.onRadioChange({profile_cover_source:"domain_pins",profile_cover_source_id:null})},value:"profileCoverSourceDomainPins"}),$.createElement(de.b,{flex:"grow"},$.createElement(de.p,{htmlFor:"profileCoverSourceDomainPins"},$.createElement(de.b,{paddingX:2},$.createElement(de.I,{bold:!0,size:"xl"},ae.a._("Recent activity","label for domain pins profile cover source"))),$.createElement(de.b,{paddingY:1,paddingX:2},$.createElement(de.I,null,l)))))),a&&a.length>0&&$.createElement(de.b,null,$.createElement(de.b,{marginBottom:1,marginTop:4},$.createElement(de.I,null,ae.a._("Or pick a board:","label to select a board for profile cover source"))),$.createElement(de.b,null,$.createElement(de.u,{columnWidth:512,comp:this.renderBoard,gutterWidth:0,items:a,loadItems:i,measurementStore:tn,minCols:1,scrollContainer:function e(){return t._scrollContainer||window},virtualize:!0}))),s&&$.createElement(de.b,{paddingY:3},$.createElement(de.E,{accessibilityLabel:ae.a._("Loading additional boards","Label for the loading state spinner in the People section of the Follower/Following page"),show:s}))))},t}($.Component),ln=Object(Se.compose)(Object(en.c)({name:"BoardsFeedResource",key:"boards",options:function e(t){return{field_set_key:"profile_grid_item",privacy_filter:"public",sort:t.sort||"custom",username:t.username}}},{allowStale:!1}),Ce.a)(sn),cn=671,un="#F0F0F0",dn=3,pn=8,mn=200,fn=134,hn=4,bn=fn+2*hn,gn=300,yn=.8265,wn=25,En=10,vn=function e(t){return t*(Math.PI/180)},_n=function e(t){return Math.cos(vn(t))},Cn=function e(t){return Math.sin(vn(t))},xn=function e(t){return Math.tan(vn(t))},Sn=function(e){function t(n,r){Y(this,t);var o=Z(this,e.call(this,n,r));return o.state={boardName:null,boardUrl:null,hasNoBoardError:!1,numColumns:pn,settingCoverSource:!1,translateY:-1},o.componentDidMount=function(){window.addEventListener("resize",o.calculateRotation),o.calculateRotation()},o.componentWillUnmount=function(){window.removeEventListener("resize",o.calculateRotation)},o.getBlankPinData=function(){return[{images:{"236x":{url:""}},dominant_color:un}]},o.setCoverSource=function(e){var t=e.event;o.setState({settingCoverSource:!0});var n=o.props,r=n.contextLog,a=n.user,i=n.viewer;r(101,{view:4,viewParameter:i.isAuth&&a.username===i.username?3106:3107,element:10537})},o.setCoverSourceToSave=function(e){var t=e.profile_cover_source,n=e.profile_cover_source_id;o.profileCoverSource=t,o.profileCoverSourceId=n},o.saveProfileCoverSource=function(){var e=o.props,t=e.contextLog,n=e.viewer;n.isAuth&&(o.props.dispatch(z(n.id,{profile_cover_source:o.profileCoverSource,profile_cover_source_id:o.profileCoverSourceId})),o.setState({boardName:null,boardUrl:null,hasNoBoardError:!1})),t(101,{view:196,element:76}),o.closeModal()},o.calculateRotation=_e()(function(){var e=bn/_n(wn),t=Math.ceil(window.innerWidth/e)+3,n=.5*window.innerWidth*xn(wn)+gn*(1-Cn(wn));o.setState({numColumns:t,translateY:n})},En),o.closeModal=function(){o.setState({settingCoverSource:!1})},o.closeErrorModal=function(){o.context.legacyRemoveModal(o.modalId),o.modalId=null},o.logAndCloseModal=function(){(0,o.props.contextLog)(101,{view:196,element:75}),o.closeModal()},o.logSourceButtonClick=function(){var e=o.props,t=e.contextLog,n=e.user,r=e.viewer;t(101,{view:4,viewParameter:r.isAuth&&r.username===n.username?3106:3107,element:10498})},o.renderPins=function(e){for(var t=0,n=0,r=[],a=0;a<o.state.numColumns;a+=1){for(var i=[],s=0;s<dn;s+=1){var l="row-column-"+s+"-"+a+"-"+t;t<=1||t>=o.state.numColumns*dn-2?i.push($.createElement(de.b,{key:l},o.renderPin(o.getBlankPinData()[0]))):(i.push($.createElement(de.b,{key:l},o.renderPin(e[n]))),n+=1),t+=1,n>=e.length&&(n=0)}var c=yn*(Cn(wn)*(fn-2*hn))*a%(mn+2*hn),u={marginTop:parseInt(a*bn*Cn(wn),10)+c+"px"},d="column-"+a;r.push($.createElement(de.b,{display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:u},key:d},i))}var p={transform:"translate("+-parseInt(gn*xn(wn),10)+"px, "+-parseInt(o.state.translateY,10)+"px)",visibility:o.state.translateY<0?"hidden":"visible"};return $.createElement(de.b,{dangerouslySetInlineStyle:{__style:p}},$.createElement("div",{className:"TiltedPinsTransformer"},r))},o.renderPin=function(e){var t={height:mn,padding:hn+"px",width:fn};return $.createElement("div",{style:t},$.createElement(de.t,{height:mn,shape:"rounded",wash:!0,width:fn},$.createElement(de.o,{alt:ae.a._("Native content image","image displaying native content in a grid"),color:e.dominant_color,fit:"cover",naturalHeight:mn,naturalWidth:fn,src:e.images["236x"].url})))},o.renderCoverSourceModal=function(){var e=o.props,t=e.profileCoverSource,n=e.profileCoverSourceId,r=e.user,a=r.profile_discovered_public,i=r.show_discovered_feed,s=e.viewer,l=e.metadata,c=e.updatedBoardOrder,u=$.createElement(de.b,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2},$.createElement(de.b,{flex:"shrink",paddingX:4},$.createElement(de.c,{color:"gray",text:ae.a._("Cancel","Button label for cancelling the action to set profile cover pins"),onClick:o.logAndCloseModal})),$.createElement(de.b,{flex:"shrink"},$.createElement(de.c,{color:"red",text:ae.a._("Done","Button label for confirming the action of setting profile cover pins"),onClick:o.saveProfileCoverSource})));return $.createElement(de.b,{position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:cn}}},$.createElement(de.w,{accessibilityCloseLabel:ae.a._("Close","Close modal"),accessibilityModalLabel:ae.a._("Select profile cover source","Accessibility label for modal to select profile cover source"),onDismiss:o.logAndCloseModal,footer:u,heading:"",size:"md"},$.createElement(ln,{profileCoverSource:t,profileCoverSourceId:n,username:s.isAuth&&s.username,showActivity:a&&i,sort:c||l.data&&l.data.most_recent_board_sort_order||"custom",onSelect:o.setCoverSourceToSave})))},o.renderErrorModal=function(){var e=$.createElement(de.b,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2},$.createElement(de.b,{flex:"shrink",paddingX:4},$.createElement(de.c,{color:"gray",text:ae.a._("Cancel","Button label for cancelling the action to set profile cover pins"),onClick:o.closeErrorModal})),$.createElement(de.b,{flex:"shrink"},$.createElement(de.c,{color:"red",text:ae.a._("Select source","Button label for opening the board source picker"),onClick:function e(t){o.closeErrorModal(),o.setCoverSource(t)}}))),t=$.createElement(de.b,{padding:6},$.createElement(de.I,null,ae.a._("The source of the cover image can't be found. It might be hidden or deleted. Try selecting a new source.","Error message when the board source for tilted pin header not found.")));o.modalId=o.context.legacyShowInModal({accessibilityCloseLabel:ae.a._("Close","Modal close label"),accessibilityModalLabel:ae.a._("Select profile cover source","Accessibility label for modal to select profile cover source"),heading:ae.a._("Source not found","Header for the error modal that board not found."),footer:e,onDismiss:o.closeErrorModal,children:t,size:"sm"})},o.renderLinkToSource=function(){var e=o.props,t=e.profileCoverSource,n=e.profileCoverSourceId,r=e.user,a=e.viewer,i=o.state,s=i.boardName,l=i.boardUrl,c="",u="";if(n!==o.profileCoverSourceId)return null;if("all_user_pins"===t)c="/"+r.username+"/pins/",u=ae.a._("Latest Pins","Latest pins label in tilted pins header");else if("domain_pins"===t)c="/"+r.username+"/_activity/",u=ae.a._("Recent activity","Recent activity label in tilted pins header");else if("specific_board"===t&&!s&&a.isAuth)$t.a.create("BoardResource",{board_id:n}).callGet({showError:!1}).then(function(e){if(e.resource_response&&e.resource_response.data){var t=e.resource_response.data;o.setState({boardName:t.name,boardUrl:t.url,hasNoBoardError:!1})}}).catch(function(e){40===e.api_error_code&&(o.setState({hasNoBoardError:!0}),o.modalId||o.renderErrorModal())});else{if("specific_board"!==t||!s)return null;u=s,c=l}return $.createElement(de.s,{href:c||"",onClick:o.logSourceButtonClick},$.createElement("div",{className:"TiltedPinSourceLink"},$.createElement(de.b,{display:"flex",justifyContent:"center",alignItems:"center"},$.createElement(de.b,{display:"flex",justifyContent:"center",alignItems:"center"},$.createElement(de.I,{bold:!0},u),$.createElement(de.x,{icon:"arrow-circle-forward",iconColor:"darkGray"})))))},o.profileCoverSource=n.profileCoverSource,o.profileCoverSourceId=n.profileCoverSourceId,o}return q(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function e(t){this.profileCoverSource=t.profileCoverSource,this.profileCoverSourceId=t.profileCoverSourceId},t.prototype.render=function e(){var t=this.state,n=t.hasNoBoardError,r=t.settingCoverSource,o=t.translateY,a=this.props,i=a.metadata,s=a.pins,l=a.user,c=a.viewer,u=s.isLoaded,d=s.data,p=o<0?{backgroundColor:un}:{},m=c.isAuth&&c.username===l.username,f=r&&c.isAuth?this.renderCoverSourceModal():null,h=n?null:this.renderLinkToSource(),b=m?$.createElement("div",{className:"TiltedPinsSourcePicker"},$.createElement(de.n,{accessibilityHaspopup:!0,accessibilityLabel:ae.a._("Edit source of Tilted Pins","Accessibility label for button to edit source of tilted pins"),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:this.setCoverSource,size:"lg"})):null;return u&&d&&d.length&&i.isLoaded?$.createElement($.Fragment,null,$.createElement("div",{className:"TiltedPinsContainer",style:p},this.renderPins(s.data),b,h),f):$.createElement($.Fragment,null,$.createElement("div",{className:"TiltedPinsContainer",style:p},this.renderPins(this.getBlankPinData()),b),f)},t}($.Component);Sn.contextTypes={legacyRemoveModal:ue.a.func,legacyShowInModal:ue.a.func,userAgent:ue.a.shape({isMobile:ue.a.bool.isRequired}).isRequired};var On=function e(t,n){var r=n.user,o=((t.users||{})[r.id]||r||{}).profile_cover_source,a=(t.ui.views||{}).updatedBoardOrder;return{profileCoverSource:o.source,profileCoverSourceId:o.source_id,updatedBoardOrder:"profile"===a?"custom":a}},Tn=Object(Se.compose)(Object(re.connect)(On),xe.a,Object(en.c)({name:"ProfileCoverFeedResource",key:"pins",options:function e(t){return{username:t.user.username,field_set_key:"grid_item",exclude_add_pin_rep:!0,profileCoverSource:t.profileCoverSource,profileCoverSourceId:t.profileCoverSourceId}}}),Object(en.c)({name:"UserMetadataResource",key:"metadata",options:function e(t){return{user:{id:t.user.username}}}}),Ce.a)(Sn),In=n("mB6n"),Pn=n("1QHH"),kn=n("8e8Q"),jn=n("+B8E"),Rn=n("7rV5"),Bn=function e(t,n){return{type:Rn.b.USER_BLOCK,payload:{id:t,isUserBlocked:n}}},Nn=function e(t){return function(e){$t.a.create("UserBlockResource",{blocked_user_id:t}).callCreate(),e(Bn(t,!0))}},Ln=function e(t){return function(e){$t.a.create("UserBlockResource",{blocked_user_id:t}).callDelete(),e(Bn(t,!1))}},Mn=function(e){function t(n){K(this,t);var r=Q(this,e.call(this,n));return r.setScrollContainer=function(e){return r._scrollContainer=e},r.handleClickCreatePincode=r.props.authAction(function(){return r.setState({currentModal:"createPincode"})}),r.handleClickSendProfile=r.props.authAction(function(){return r.setState({currentModal:"sendUser"})}),r.handleHideModal=function(){return r.setState({currentModal:null})},r.handleScroll=He()(function(){var e=Object(te.findDOMNode)(r._scrollContainer);if(e instanceof HTMLElement){var t=r.state.showFixedHeaderName;e.getBoundingClientRect().top<r._headerTopStart/2?t||r.setState({showFixedHeaderName:!0}):t&&r.setState({showFixedHeaderName:!1})}},10),r.handleToggleBlock=r.props.authAction(function(){r.props.isUserBlocked?r.unblockUser():r.setState({currentModal:"blockUser"})}),r.unblockUser=function(){var e=r.props,t=e.unblockUser,n=e.user.id;r._updateUserDetails({blocked_by_me:!1}),t(n)},r.handleClickReportBug=function(){return r.setState({currentModal:"reportBug"})},r.handleBlockUser=function(){var e=r.props,t=e.blockUser,n=e.user.id;r._updateUserDetails({blocked_by_me:!0}),t(n),r.setState({currentModal:"blockConfirmation"})},r.handleToggleFollow=function(){var e=!r.state.currentUserDetails.explicitly_followed_by_me;r._updateUserDetails({explicitly_followed_by_me:e})},r._updateUserDetails=function(e){var t=r.state.currentUserDetails,n=Object.assign({},t,e);r.setState({currentUserDetails:n})},r.renderFixedCreatorHeader=function(){var e=550,t=10;window.scrollY>560?r.setState({scrollStep:3}):window.scrollY>550?r.setState({scrollStep:2}):window.scrollY>540?r.setState({scrollStep:1}):r.setState({scrollStep:0})},r.renderCreatorProfileHeader=function(){var e=r.props,t=e.children,n=e.onClickTab,o=e.tab,a=e.viewer,i=e.user,s=r.state,l=s.currentModal,c=s.currentUserDetails,u=s.scrollStep,d=s.showFixedHeaderName,p="CreatorHeaderSticky scrollStep"+u;return qe.b.setViewParameterType(3212),$.createElement($.Fragment,null,$.createElement(Tn,{user:i}),$.createElement(de.b,null,$.createElement(de.b,{marginLeft:3,marginRight:3},$.createElement(it,{onClickReportBug:r.handleClickReportBug,onClickSendProfile:r.handleClickSendProfile,onCreatePincodeClick:r.handleClickCreatePincode,onToggleBlock:r.handleToggleBlock,onToggleFollow:r.handleToggleFollow,showFixedHeaderName:d,user:c,onScroll:r.renderFixedCreatorHeader,scrollStep:u})),$.createElement(de.b,{justifyContent:"center",display:"flex"},$.createElement(de.b,null,$.createElement("div",{className:p,ref:function e(t){r.creatorContainer=t}},a.isAuth?$.createElement(Ue,{onClickTab:n,tab:o,user:i}):$.createElement(Pe.b,{onClickTab:n,tab:o,user:i}),$.createElement(dt,{tab:o,user:i,alignCenter:!0})),[Pe.a.OVERVIEW].includes(o)&&r.renderShowcase(),t))),l&&r.renderModal())},r.state={currentModal:null,currentUserDetails:n.user,scrollStep:0,showFixedHeaderName:null},r}return J(t,e),t.prototype.componentDidMount=function e(){var t=Object(te.findDOMNode)(this._scrollContainer);t instanceof HTMLElement&&(this._headerTopStart=t.getBoundingClientRect().top,document.addEventListener("scroll",this.handleScroll))},t.prototype.componentWillUnmount=function e(){document.removeEventListener("scroll",this.handleScroll)},t.prototype.renderModal=function e(){var t=this.state.currentModal,n=this.props,r=n.user,o=n.experiments;switch(t){case"blockConfirmation":return $.createElement(Fe.a,{onHide:this.handleHideModal,type:"confirm"},$.createElement(se,{firstName:r.first_name,onClearModal:this.handleHideModal}));case"blockUser":return $.createElement(Fe.a,{className:"UserBlock",onHide:this.handleHideModal,type:"confirm"},$.createElement(de.b,{width:380},$.createElement(c,{firstName:r.first_name,onBlockUser:this.handleBlockUser,onClearModal:this.handleHideModal})));case"reportBug":return $.createElement(Fe.a,{onHide:this.handleHideModal},$.createElement(yt.a,{onClearModal:this.handleHideModal,username:r.username}));case"sendUser":var a={description:r.about,id:r.id,imageUrl:r.image_large_url,name:r.full_name,type:kn.a.PINNER,url:"/"+r.username+"/"},i=o.v2InGroup("web_add_email_icon_to_sharesheet",["enabled","employees","enabled2_email_icon","enabled2_wide_flyout"]),s={overlay:{},content:{width:370}};return $.createElement(Fe.a,{style:i?s:void 0,className:"bg-white rounded sendProfileModal",onHide:this.handleHideModal},$.createElement(wt.a,{classNames:"SendPinner",isFlyout:!1,onCreatePincodeClick:this.handleClickCreatePincode,onHide:this.handleHideModal,sendType:kn.a.USER,sharedObject:a}));case"createPincode":var l=280;return $.createElement(We.a,{onHide:this.handleHideModal,objectId:r.id},$.createElement(Ae.a,{id:r.id,images:[{height:280,url:r.image_xlarge_url,width:280}]}));default:return null}},t.prototype.renderShowcase=function e(){var t=this.props,n=t.user,r=t.viewer,o=n.has_showcase,a=n.is_partner,i=n.is_tastemaker,s=n.username,l=r.isAuth&&n.id===r.id;return(a||i)&&o&&$.createElement(de.b,null,$.createElement(de.b,{display:"flex",justifyContent:"center"},$.createElement(de.b,{marginTop:3,maxWidth:800,paddingX:3,width:"100%"},$.createElement(de.I,{bold:!0,size:"xl"},ae.a._("Featured boards","title for showcase")))),$.createElement(Kt,{username:s,viewingOwnProfile:l}))},t.prototype.renderProfile=function e(){var t=this.props,n=t.onClickTab,r=t.showPulsar,o=t.tab,a=t.user,i=t.viewer,s=t.setHeaderHeight,l=this.state,c=l.currentModal,u=l.currentUserDetails,d=l.showFixedHeaderName;return $.createElement("div",{className:"BrioProfileHeaderWrapper",ref:this.setScrollContainer},$.createElement(In.a,{onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,showFixedHeaderName:d,showPulsar:r,isProfile:!0,user:u,setHeaderHeight:s}),o===Pe.a.BOARDS&&this.renderShowcase(),i.isAuth&&$.createElement(Pe.b,{onClickTab:n,tab:o,user:a}),o!==Pe.a.BOARDS&&$.createElement(dt,{tab:o,user:a}),c&&this.renderModal())},t.prototype.renderProfileRedesign=function e(){var t=this.props.showSignupModal,n=this.state,r=n.currentModal,o=n.currentUserDetails,a=n.scrollStep,i=n.showFixedHeaderName;return $.createElement("div",{className:"BrioProfileHeaderWrapper",ref:this.setScrollContainer},$.createElement(gt,{onClickReportBug:this.handleClickReportBug,onClickSendProfile:this.handleClickSendProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,showFixedHeaderName:i,showSignupModal:t,user:o,onScroll:this.renderFixedCreatorHeader,scrollStep:a}),r&&this.renderModal())},t.prototype.render=function e(){var t=this.props,n=t.requestContext,r=t.user,o=t.viewer,a=r.show_creator_profile,i=n&&new jn.c(n,"unauth_profile_redesign_v2").enabledWithNoActivation(),s=n&&new jn.c(n,"seo_unauth_profile_redesign_v2").enabledWithNoActivation()&&n.isBot,l=i||s;return a&&o.isAuth?this.renderCreatorProfileHeader():l?this.renderProfileRedesign():this.renderProfile()},t}($.Component),Un=function e(t){return{blockUser:function e(n){return t(Nn(n))},unblockUser:function e(n){return t(Ln(n))}}},Dn=t.a=Object(Se.compose)(Ke.b,xe.a,Pn.a,Object(re.connect)(function(e,t){var n=t.user,r=t.user.id,o=e.users&&e.users[r]?e.users[r]:n;return{isUserBlocked:o&&o.blocked_by_me,user:o}},Un))(Mn)},haoC:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var s=n("d6ZO"),l=n.n(s),c=n("wUWH"),u=n("LWri"),d=n("IaRT"),p=n.n(d),m=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentWillUnmount=function e(){this.props.denzel&&window.location.reload()},t.prototype.render=function e(){return l.a.createElement(u.a,Object.assign({},this.props,{handleComplete:this.props.handleComplete}))},t}(s.Component),f=n("sOF4"),h=n("YZkw"),b=n("Rmuw"),g=n("DVnr");n.d(t,"a",function(){return w});var y=function e(t){var n=t.placementId,r=i(t,["placementId"]);return s.createElement(c.a,{placementId:n,type:9,preventRemoval:!0},function(e){var t=e.complete,n=e.dismiss,o=e.display_data;return s.createElement(m,Object.assign({},Object(b.a)(f.a,!0)(o),{handleComplete:t,handleDismiss:n},r))})},w=Object(h.a)(40001)(function(e){return s.createElement("div",{style:{marginTop:-g.a}},s.createElement(y,e))}),E=y},iFk6:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("BAXv"),o=n("IaRT"),a=n.n(o),i=a.a.shape({cover_images:a.a.arrayOf(a.a.shape({"564x":a.a.shape({height:a.a.number,url:a.a.string.isRequired,width:a.a.number})})),id:a.a.string.isRequired,title:a.a.shape({format:a.a.string.isRequired}),subtitle:a.a.shape({format:a.a.string.isRequired})}),s=a.a.shape({access:a.a.arrayOf(a.a.string),cover_images:a.a.objectOf(a.a.shape({url:a.a.string})),has_custom_cover:a.a.bool,id:a.a.string,image_cover_hd_url:a.a.string,image_cover_url:a.a.string,images:a.a.objectOf(a.a.arrayOf(a.a.shape({dominant_color:a.a.string,height:a.a.number,url:a.a.string,width:a.a.number}))),name:a.a.string,pin_count:a.a.number,type:a.a.string,url:a.a.string}),l=a.a.shape({id:a.a.string.isRequired,image_cover_url:a.a.string.isRequired,name:a.a.string.isRequired}),c={LEFT:"animateLeft",RIGHT:"animateRight"}},jPJg:function(e,t,n){"use strict";function r(e){var t=e.clickHandler,n=e.interest,r=e.isOverflow,o=e.isSelected,i=e.notSelectable,c=e.size,u=n.background_color,f=n.follower_count,g=n.images,y=n.label,w=f>0,E=g["400x"],v="lg";w?v="md":"sm"===c&&(v="sm");var _="xs",C=b(28,1),x=Object(m.b)(f),S=Object(h.h)(l.a._("{{formattedFollowerCount}} followers",'number, like "2M" or "137K", of users who follow a topic'),{formattedFollowerCount:x});return a.a.createElement(d.t,{shape:"rounded"},a.a.createElement(d.b,{shape:"rounded",position:"relative",display:"inlineBlock"},a.a.createElement("button",{className:s()("NuxInterest",{small:"sm"===c},{notSelectable:i}),role:"option","aria-selected":o,onClick:t},a.a.createElement("div",{className:s()("interestCardWrapper",{darkBottomHalf:w})},a.a.createElement(d.b,{position:"absolute",bottom:!0,margin:2},!r&&a.a.createElement(d.I,{align:"left",bold:!0,color:"white",size:v},y),!r&&w&&a.a.createElement(d.I,{align:"left",color:"white",size:"xs"},S)),o&&a.a.createElement("div",{className:s()("selectedWrapper")},C,a.a.createElement("div",{className:"selectedOverlay"})),o||i?null:a.a.createElement("div",null,a.a.createElement("div",{className:s()("hoverText")},a.a.createElement(d.I,{bold:!0,color:"white",align:"left",size:v},y),w&&a.a.createElement(d.I,{align:"left",color:"white",size:"xs"},S)),a.a.createElement("div",{className:s()("hoverMask")}))),r?a.a.createElement("div",{className:s()("overflowMask",{gray:"sm"===c})},l.a._("+ more","there are other interests not shown")):a.a.createElement(p,{color:u,image:E,label:y}))))}var o=n("d6ZO"),a=n.n(o),i=n("GGB8"),s=n.n(i),l=n("W/Cr"),c=n("IaRT"),u=n.n(c),d=n("gEaE"),p=function e(t,n){var r=t.color,o=t.image,i=t.label;return a.a.createElement(d.o,{alt:i,color:r,fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url},a.a.createElement("div",{className:"defaultImageWash"}))},m=n("32ZW"),f=n("aKzT"),h=n("5tOk"),b=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return a.a.createElement(d.b,{position:"absolute",right:!0,deprecatedMargin:{top:n,right:n,left:n}},a.a.createElement(d.m,{accessibilityLabel:l.a._("selected"),color:"white",icon:"check-circle",size:t}))},g=t.a=r},jhop:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("gEaE"),i=function e(t){return r.createElement(a.b,{display:"flex",justifyContent:"center",paddingX:1},r.createElement(a.I,{size:"sm",color:"darkGray",bold:!0},"·"))};t.a=i},lOOp:function(e,t,n){"use strict";var r={form:{padding:0,margin:0},"form > ul":{margin:0,borderRadius:0,boxShadow:"none"},formFooter:{borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"none"}};t.a=r},mB6n:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=n("d6ZO"),_=n.n(v),C=n("dnEF"),x=n("GGB8"),S=n.n(x),O=n("W/Cr"),T=n("DUIN"),I=n("ZtCB"),P=n.n(I),k=n("fvzG"),j=n("gEaE"),R=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={isDraftFlyoutOpen:!1,draftMessage:""},a.handleToggleFlyout=function(){a.setState({isDraftFlyoutOpen:!a.state.isDraftFlyoutOpen})},a.handleDismissFlyout=function(){a.setState({isDraftFlyoutOpen:!1})},a.handleDraftMessageChange=function(e){var t=e.value;a.setState({draftMessage:t})},a.handleSubmit=function(){var e=a.state.draftMessage;a.setState({isDraftFlyoutOpen:!1,draftMessage:""}),P.a.create("ConversationsResource",{user_ids:[a.props.userId],text:e}).callCreate().then(function(e){var t=a.props.dispatch,n=e&&e.resource_response.data;t(Object(k.c)(n)),t(Object(k.h)(n.id)),t(Object(k.g)(n.id))})},i=n,o(a,i)}return a(t,e),t.prototype.render=function e(){var t=this,n=this.state,r=n.isDraftFlyoutOpen,o=n.draftMessage;return _.a.createElement(j.b,null,_.a.createElement("div",{ref:function e(n){n&&(t.anchor=n)}},_.a.createElement(j.c,{inline:!0,text:O.a._("Message","button text label to send a message to this user"),onClick:this.handleToggleFlyout})),r?_.a.createElement(j.j,{anchor:this.anchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:"md"},_.a.createElement(j.b,{padding:3,width:"100%"},_.a.createElement(j.J,{id:"message",value:o,onChange:this.handleDraftMessageChange,placeholder:O.a._("Add a message","text placeholder when sending a message to another user")}),_.a.createElement(j.b,{marginTop:3},_.a.createElement(j.c,{color:"red",text:O.a._("Send","Button text label to send this message to this user"),disabled:!o.trim(),onClick:this.handleSubmit})))):null)},t}(v.Component),B=Object(T.connect)()(R),N=function e(t){return _.a.createElement(j.n,{accessibilityLabel:O.a._("Send Profile","Accessible label for button to send this profile"),icon:"share",onClick:t.handleSendShareFlyoutButtonClick,size:"lg"})},L=n("2umj").a.makeSendShareButton(N),M=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.state={isProfileSendOpen:!1},r.handleSendProfileToggle=function(){r.setState({isProfileSendOpen:!r.state.isProfileSendOpen})},r.handleSendProfileDismiss=function(){r.setState({isProfileSendOpen:!1})},o=n,s(r,o)}return l(t,e),t.prototype.render=function e(){var t=this.props.user;return _.a.createElement(L,{userId:t.id,gridDescription:"",sendType:"user",fullName:t.full_name,profileUrl:"/"+t.username+"/",imageSrc:t.image_large_url,onToggleFlyout:this.handleSendProfileToggle,onFlyoutDismiss:this.handleSendProfileDismiss,shownWithinMason:!1,isFlyoutOpen:this.state.isProfileSendOpen})},t}(_.a.Component),U=n("GHzk"),D=n("i0Ug"),H=function(e){function t(){var n,r,o;c(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.header=null,o=n,u(r,o)}return d(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.headerTop,o=void 0===r?null:r,a=n.isOwnProfile,i=n.onToggleBlock,s=n.onToggleFollow,l=n.showFixedHeaderName,c=n.user,u=n.user,d=u.blocked_by_me,p=u.explicitly_followed_by_me,m=u.username,f=u.full_name,h=u.id,b=u.image_large_url,g=void 0===b?"":b,y=n.viewer,w="/"+m+"/";return _.a.createElement("div",{className:y.isAuth?"fixedHeader fixed":void 0,style:o,ref:function e(n){t.header=n}},_.a.createElement(j.h,null,_.a.createElement(j.b,{alignItems:"center",display:"flex",marginTop:1,paddingY:2,width:"100%",marginBottom:1},y.isAuth&&_.a.createElement(j.g,{span:3},_.a.createElement(j.b,{display:"flex",direction:"row",alignItems:"center"},_.a.createElement(M,{user:c}),!c.blocked_by_me&&_.a.createElement(j.n,{accessibilityLabel:O.a._("Block","label for block button"),icon:"flag",onClick:i,size:"lg"}))),_.a.createElement(j.b,{alignItems:"center",display:"none",smDisplay:"flex",padding:2,justifyContent:"center",flex:"grow"},y.isAuth&&_.a.createElement("div",{className:S()("boardName",{transitionIn:l,transitionOut:!1===l})},_.a.createElement(j.I,{align:"center",bold:!0,truncate:!0,size:"lg"},c.full_name))),y.isAuth&&_.a.createElement(j.b,{display:"flex",justifyContent:"end",alignSelf:"end"},_.a.createElement(j.b,{display:"flex"},d?null:_.a.createElement(j.b,{paddingX:2},_.a.createElement(B,{userId:h})),d?_.a.createElement(j.c,{color:"gray",inline:!0,onClick:i,size:"md",text:O.a._("Unblock")}):_.a.createElement(U.a,{fullName:f,hideFollowingText:!0,id:h,imageUrl:g,inline:!0,isOwnProfile:a,onUserFollow:s,profileUrl:w,userFollowed:p}))))))},t}(v.Component),F=Object(D.a)(H),A=n("tmfO"),W=n("/8mn"),z=n("jhop"),G=n("IaRT"),X=n.n(G),V=n("2e3j"),Y=n("z3es"),Z=n("8e8Q"),q=n("dCTv"),K=function(e){function t(){var n,r,o;p(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=m(this,e.call.apply(e,[this].concat(i))),r.state={isFlyoutOpen:!1},r.handleToggleFlyout=function(){var e=r.state.isFlyoutOpen;r.setState({isFlyoutOpen:!e})},r.handleDismissFlyout=function(){r.setState({isFlyoutOpen:!1})},o=n,m(r,o)}return f(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.id,o=n.name,a=n.imageUrl,i=n.url,s=n.experiments,l=this.state.isFlyoutOpen,c=s.v2InGroup("web_add_email_icon_to_sharesheet",["enabled","employees","enabled2_email_icon","enabled2_wide_flyout"])?"xl":"lg";return _.a.createElement("div",{ref:function e(n){t.flyoutAnchor=n}},_.a.createElement(V.a,{onClick:this.handleToggleFlyout,accessibilityLabel:O.a._("Send profile")},_.a.createElement(j.b,{display:"flex",padding:1,alignItems:"center"},_.a.createElement(j.m,{icon:"share",color:"darkGray",accessibilityLabel:""}))),l?_.a.createElement(j.j,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:c},_.a.createElement(Y.a,{classNames:"SendPin",isFlyout:!0,onHide:this.handleDismissFlyout,sendType:Z.a.USER,sharedObject:{id:r,name:o,imageUrl:a,url:i,type:"pinner"}})):null)},t}(v.Component),Q=Object(q.b)(K),J=n("FJZF"),$=n("CoQw"),ee=n("mnfW"),te=function e(t){var n=Object($.a)(t);return J.a.punycode_decode(n)},ne=function(e){function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=b(this,e.call.apply(e,[this].concat(i))),r.shouldShowImpression=function(){var e=r.props.user.impressum_url,t=r.context.country;return!(!e||!["DE","AT","CH"].includes(t.toUpperCase()))},o=n,b(r,o)}return g(t,e),t.prototype.render=function e(){var t=this.props,n=t.isOwnProfile,r=t.user,o=this.context,a=o.isAuthenticated,i=o.locale,s=""+r.about,l=this.shouldShowImpression(),c=r.website_url&&l,u=Object(ee.c)(i,r.follower_count),d=O.a.ngettext("follower","followers",r.follower_count,"label for n followers"),p=Object(ee.c)(i,r.following_count),m=O.a.ngettext("following","following",r.follower_count,"label for n followers"),f=function e(t){return _.a.createElement(j.b,{display:"flex",direction:"row"},_.a.createElement(A.b,{to:"/"+r.username+"/"+t+"/",className:"underlineLink",noFollow:!a},_.a.createElement(j.b,{display:"flex"},_.a.createElement(j.I,{size:"sm",bold:!0,color:"darkGray"},"following"===t?p+" "+m:u+" "+d))),"followers"===t&&_.a.createElement(z.a,null))},h=function e(t){return _.a.createElement(j.b,{display:"flex"},_.a.createElement(j.I,{size:"sm",color:"darkGray"},"following"===t?p+" "+m:u+" "+d),"followers"===t&&_.a.createElement(z.a,null))};return _.a.createElement(j.b,{alignItems:"center",direction:"row",display:"flex",flex:"grow",justifyContent:"between"},_.a.createElement(j.g,{span:12},_.a.createElement(j.b,{paddingX:3,marginLeft:1},_.a.createElement(j.l,{size:"sm"},r.full_name)),_.a.createElement(j.g,{span:6},_.a.createElement(j.b,{display:"flex",direction:"row",marginTop:n?0:1,alignItems:"center",marginLeft:n?2:4},a&&n&&_.a.createElement(j.b,{display:"flex",direction:"row",justifyContent:"center",alignItems:"end",marginBottom:1,marginRight:1},_.a.createElement(Q,{id:r.id,imageUrl:r.image_xlarge_url,name:r.full_name,url:"/"+r.username+"/"})),_.a.createElement(j.b,null,a?f("followers"):h("followers")),_.a.createElement(j.b,null,a?f("following"):h("following")),c&&_.a.createElement(j.b,{display:"flex",direction:"row"},_.a.createElement(z.a,null),_.a.createElement(A.b,{to:r.impressum_url,useNewTab:!0,className:"underlineLink"},_.a.createElement(j.I,{bold:!0,inline:!0,size:"sm",color:"darkGray"},O.a._("Imprint"))))),r.website_url&&_.a.createElement(j.b,{display:"flex",direction:"row",marginLeft:4,marginTop:n?0:2},a&&r.domain_verified&&_.a.createElement(W.a,null),_.a.createElement(A.b,{to:r.website_url,className:"underlineLink",external:!0},_.a.createElement(j.b,null,_.a.createElement(j.I,{truncate:!0,bold:!0,size:"sm",color:"darkGray"},te(r.website_url))))),_.a.createElement(j.b,{marginLeft:4,marginBottom:3,marginTop:r.website_url||n?0:2},r.location&&!s&&_.a.createElement(j.I,{size:"sm"},r.location),!r.location&&s&&_.a.createElement(j.I,{size:"sm"},s),r.location&&s&&_.a.createElement(j.b,null,_.a.createElement(j.I,{size:"sm"},r.location," "," · "," ",s))))))},t}(v.Component);ne.contextTypes={country:X.a.string.isRequired,isAuthenticated:X.a.bool.isRequired,locale:X.a.string.isRequired};var re=ne,oe=n("+kCg"),ae=n("Kqaz"),ie=n("MQ2h"),se=n.n(ie),le=n("DVnr"),ce=n("Cjb7"),ue=n("8VZO"),de=76,pe=le.a,me=pe+76,fe=function e(t){var n=t.user,r=t.viewer;return n&&r&&r.isAuth&&n.username===r.username},he=function e(t){var n=t.user,r=n&&n.verified_identity&&n.verified_identity.verified;return _.a.createElement(j.b,{height:106,width:106},_.a.createElement(j.a,{src:n.image_xlarge_url,name:n.username,verified:r}))},be=function(e){function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=w(this,e.call.apply(e,[this].concat(i))),r.state={isNagShown:!1,top:pe},r.onScroll=function(){var e=window.scrollY,t=e-r.prevScrollY,n=r.state.top-t;n<pe&&(n=pe),e>pe&&(n=pe),n>me&&(n=me),r.prevScrollY=e,r.setState({top:n})},r.header=null,r.unsubscribe=function(){window.removeEventListener("scroll",r.onScroll),window.removeEventListener("resize",r.onScroll),r.subscriber.unsubscribe()},r.subscriber=ce.b.subscribe("site","latestNagClose",function(){r.setState({isNagShown:!1,top:pe}),r.unsubscribe()}),r.prevScrollY=0,o=n,w(r,o)}return E(t,e),t.prototype.componentDidMount=function e(){var t=this;this.markProfileInfoRendered(),ce.b.publish("site","latestNagStateRequest",function(e){t.setState({isNagShown:e,top:e?me:pe}),e&&(window.addEventListener("scroll",t.onScroll),window.addEventListener("resize",t.onScroll))});var n=this.props,r=n.user,o=n.viewer;o.isAuth&&!fe({user:r,viewer:o})&&this.header&&this.header instanceof HTMLElement&&this.props.setHeaderHeight(this.header.clientHeight)},t.prototype.componentWillUnmount=function e(){this.unsubscribe()},t.prototype.markProfileInfoRendered=function e(){var t=this.props,n=t.user;if(t.viewer.isAuth&&n){var r={resources:[n.image_xlarge_url]};oe.b.mark("profileInfoRendered",r,this.container)}},t.prototype.pincodeEnabled=function e(){var t=this.props,n=t.user,r=t.viewer,o=t.experiments;return Object(ue.b)(o.v2GetGroup("web_pincodes"),fe({user:n,viewer:r}))},t.prototype.render=function e(){var t=this,n=this.props,r=n.count,o=n.isProfile,a=n.label,i=n.onCreatePincodeClick,s=n.onToggleBlock,l=n.onToggleFollow,c=n.showFixedHeaderName,u=n.user,d=n.user.username,p=n.viewer,m=fe({user:u,viewer:p}),f=this.pincodeEnabled();return _.a.createElement("div",{ref:function e(n){t.container=n}},o&&!m&&_.a.createElement(F,{headerTop:{top:this.state.top},isOwnProfile:m,onToggleBlock:s,onToggleFollow:l,showFixedHeaderName:c,user:u}),_.a.createElement(j.h,null,_.a.createElement(j.b,{display:"flex",direction:"row",justifyContent:"between",alignItems:"center",marginTop:o&&!m?10:0},_.a.createElement(j.g,{span:9},o?_.a.createElement(re,{isOwnProfile:m,user:u}):_.a.createElement(j.b,{display:"flex",direction:"column"},_.a.createElement(j.l,{size:"sm"},r),_.a.createElement(j.I,{bold:!0,size:"sm",color:"darkGray"},a))),_.a.createElement(j.g,{span:3},_.a.createElement(j.b,{marginTop:6,justifyContent:"end",display:"flex"},o&&f?_.a.createElement(j.N,{onTouch:i,shape:"rounded",fullWidth:!1},_.a.createElement(he,{user:u})):_.a.createElement(A.b,{to:"/"+d+"/"},_.a.createElement(he,{user:u})))))))},t}(v.Component),ge=t.a=Object(ie.compose)(ae.a,q.b,D.a)(be)},mQDz:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("FqaO"),c=n("TFwt"),u=n("Qtho"),d=n("W/Cr"),p=n("ZtCB"),m=n.n(p),f=n("Kqaz"),h=n("JyNp"),b=n("MQ2h"),g=n.n(b),y=n("UHjM"),w=n("gEaE"),E=y.e+20,v=function(e){function t(){var n,a,i;r(this,t);for(var u=arguments.length,p=Array(u),f=0;f<u;f++)p[f]=arguments[f];return n=a=o(this,e.call.apply(e,[this].concat(p))),a.state={downloadClicked:!1,modalStep:1,verificationType:""},a.handleForward=function(){return a.setState({modalStep:2})},a.handleBack=function(){return a.setState({modalStep:1})},a.handleSubmit=function(){(0,a.props.contextLog)(101,{element:10736}),m.a.create("DomainVerifyResource",{type:a.state.verificationType}).callUpdate(),a.props.onHide(),a.props.attemptToClaimWebsite(),l.set("attemptToClaimWebsite","1",24),a.props.onSuccess&&a.props.onSuccess()},a.handleDownload=function(){a.setState({downloadClicked:!0}),Object(c.a)("/website/confirm/download/")},a.handleCopy=function(){window.document.getElementById("textAreaMetatag").select(),document.execCommand("copy")},a.renderNextFooter=function(e){return s.a.createElement(w.b,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2},s.a.createElement(w.c,{color:e?"red":"gray",text:d.a._("Next","Button label for completing step 1 of the claim website sequence"),onClick:a.handleForward,disabled:!e,inline:!0}))},a.renderModalStep1=function(){var e=a.state,t=e.downloadClicked,n=e.verificationType,r=a.props.domainVerifyResource.data.verification_code,o="metatag"===n||"filename"===n&&t,i='<meta name="p:domain_verify" content="'+r+'"/>';return s.a.createElement("div",{style:{position:"absolute",zIndex:E}},s.a.createElement(w.w,{accessibilityCloseLabel:d.a._("Close modal","Label to close modal"),accessibilityModalLabel:d.a._("Confirm your website","Accessibility label for confirm website modal"),footer:a.renderNextFooter(o),heading:d.a._("Pick claim option","Modal heading for confirm website modal"),onDismiss:a.props.onHide,size:"md"},s.a.createElement(w.b,{paddingY:7,paddingX:3},s.a.createElement(w.b,{alignItems:"start",display:"flex",justifyContent:"start"},s.a.createElement(w.b,{paddingX:3,flex:"shrink"},s.a.createElement(w.z,{checked:"metatag"===n,id:"metatag",name:"websiteVerification",onChange:function e(){return a.setState({verificationType:"metatag"})},size:"md",value:"metatag"})),s.a.createElement(w.b,{flex:"grow",marginTop:1},s.a.createElement(w.b,{marginBottom:1},s.a.createElement(w.I,{bold:!0,color:"darkGray"},d.a._("Add HTML tag","Label for adding an HTML tag to claim a website"))),s.a.createElement(w.b,null,s.a.createElement(w.I,null,d.a._("Paste this tag into the <head> section of your site’s index.html file","Label for adding an HTML tag to claim a website"))))),"metatag"===n&&s.a.createElement(w.b,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:3,paddingY:3},s.a.createElement(w.b,{column:12},s.a.createElement(w.J,{id:"textAreaMetatag",onChange:function e(t,n){a.forceUpdate()},value:i})))),s.a.createElement(w.b,{marginBottom:8,paddingX:3},s.a.createElement(w.b,{alignItems:"start",display:"flex",justifyContent:"start"},s.a.createElement(w.b,{paddingX:3,flex:"shrink"},s.a.createElement(w.z,{checked:"filename"===n,id:"filename",name:"websiteVerification",size:"md",onChange:function e(){return a.setState({verificationType:"filename"})},value:"filename"})),s.a.createElement(w.b,{flex:"grow",marginTop:1},s.a.createElement(w.b,{marginBottom:1},s.a.createElement(w.I,{bold:!0,color:"darkGray"},d.a._("Upload HTML file","Label for uploading an html file to claim a website"))),s.a.createElement(w.b,null,s.a.createElement(w.I,null,d.a._("Download this file and upload it to your website's root directory","Label for uploading an html file to claim a website"))))),"filename"===n&&s.a.createElement(w.b,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:3,paddingY:3},s.a.createElement(w.c,{color:t?"gray":"red",onClick:a.handleDownload,text:d.a._("Download","Button label for downloading a file to claim a website")})))))},a.renderModalStep2=function(){var e=s.a.createElement(w.b,{alignItems:"center",column:12,display:"flex",justifyContent:"end",paddingX:2},s.a.createElement(w.b,{flex:"shrink",marginRight:4},s.a.createElement(w.c,{color:"gray",text:d.a._("Back","Button label for going back to step 1 of the claim website sequence"),onClick:a.handleBack})),s.a.createElement(w.b,{flex:"shrink",marginLeft:4},s.a.createElement(w.c,{color:"red",text:d.a._("Submit","Button label for completing step 1 of the claim website sequence"),onClick:a.handleSubmit})));return s.a.createElement("div",{style:{position:"absolute",zIndex:E}},s.a.createElement(w.w,{accessibilityCloseLabel:d.a._("Close modal","Label to close modal"),accessibilityModalLabel:d.a._("Submit for review","Accessibility label for confirm website modal"),footer:e,heading:d.a._("Submit for review","Modal heading for confirm website modal"),onDismiss:a.props.onHide,size:"md"},s.a.createElement(w.b,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:6,paddingX:6},s.a.createElement(w.I,null,d.a._("All set? We'll check your site for the meta tag and email you in the next 24 hours.","Confirmation message before claiming website")))))},i=n,o(a,i)}return a(t,e),t.prototype.render=function e(){if(!this.props.domainVerifyResource.isLoaded){var t=s.a.createElement(w.b,{alignItems:"center",display:"flex",justifyContent:"end",paddingX:2},s.a.createElement(w.c,{color:"gray",text:d.a._("Next","Button label for completing step 1 of the claim website sequence"),disabled:!0,inline:!0}));return s.a.createElement("div",{style:{position:"absolute",zIndex:E}},s.a.createElement(w.w,{accessibilityCloseLabel:d.a._("Close modal","Label to close modal"),accessibilityModalLabel:d.a._("Claim your website","Accessibility label for confirm website modal"),footer:t,heading:d.a._("Pick claim option","Modal heading for confirm website modal"),onDismiss:this.props.onHide,size:"md"},s.a.createElement(w.b,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:10},s.a.createElement(w.E,{accessibilityLabel:d.a._("Loading","Accessibility label for loading spinner"),show:!0}))))}return this.props.domainVerifyResource.error?s.a.createElement(u.a,{error:this.props.domainVerifyResource.error,onHide:this.props.onHide}):1===this.state.modalStep?this.renderModalStep1():this.renderModalStep2()},t}(i.Component);t.a=Object(b.compose)(Object(h.c)({name:"DomainVerifyResource",key:"domainVerifyResource"},{allowStale:!1}),f.a)(v)},mh3e:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.getThumbnailImageSrcSet,n=e.images,r=e.includeLogo,o=e.onTouch;return g.createElement(x.b,{display:"flex",justifyContent:"start",maxHeight:k,overflow:"auto",padding:1,wrap:!0},r&&g.createElement(x.b,{key:"logo",padding:1},g.createElement(x.d,null,g.createElement(x.N,{onTouch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return o(R)}),shape:"rounded",fullWidth:!1},g.createElement(_.a,{size:j})))),n.map(function(e,n){return g.createElement(x.b,{key:e.url,padding:1},g.createElement(x.d,null,g.createElement(x.N,{onTouch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return o(n)}),shape:"rounded",fullWidth:!1},g.createElement(_.b,{image:e,srcSet:t&&t(e.url),size:j}))))}))}function s(e){var t=3e4;return new Promise(function(t,n){var r=new XMLHttpRequest;r.ontimeout=n,r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var e=new FileReader;e.onloadend=function(){var r=e.result;"string"==typeof r?t(r.split(/,/)[1]):n()},e.readAsDataURL(r.response)}else n()},r.open("GET",e,!0),r.timeout=3e4,r.responseType="blob",r.send()})}function l(e){var t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}function c(e,t){var n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();var r=t?t(n):n;return Promise.resolve(r).then(s).then(function(e){return"data:"+l(r)+";base64,"+e}).then(function(t){return new Promise(function(n,r){e.onerror=r,e.href.baseVal=t,window.requestAnimationFrame(n)})})}function u(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return c(e,t);var n=Array.from(e.childNodes);return Promise.all(n.map(function(e){return u(e,t)}))}function d(e,t){return new Promise(function(n,r){var o=document.createElement("div");o.innerHTML=e.innerHTML,u(o,t).then(function(){var t=new Image;t.onload=function(){window.requestAnimationFrame(function(){return n(t)})},t.onerror=r;var a=o.querySelector("svg");a&&(/^[0-9]+$/.test(a.getAttribute("width")||"")||a.setAttribute("width",""+e.scrollWidth),/^[0-9]+$/.test(a.getAttribute("height")||"")||a.setAttribute("height",""+e.scrollHeight));var i=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i.trim())})})}function p(e){return new Promise(function(t,n){if(e.toBlob)e.toBlob(t);else{var r="";try{r=e.toDataURL("image/png")}catch(e){n()}for(var o=window.atob(r.split(",")[1]),a=o.length,i=new Uint8Array(a),s=0;s<a;s+=1)i[s]=o.charCodeAt(s);t(new window.Blob([i],{type:"image/png"}))}})}function m(e,t){return new Promise(function(n,r){p(e).then(function(e){return window.URL.createObjectURL(e)}).then(function(e){var r=document.createElement("a");r.download=t,r.href=e,r.style.display="none",window.document.body.appendChild(r),window.requestAnimationFrame(function(){var t=function t(){window.requestAnimationFrame(function(){window.URL.revokeObjectURL(e),r.removeAttribute("href"),r.removeEventListener("click",t),window.document.body.removeChild(r),n()})};r.addEventListener("click",t),r.click()})}).catch(r)})}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=n("d6ZO"),y=n.n(g),w=n("W/Cr"),E=n("B1W6"),v=n("JyNp"),_=n("vxP6"),C=n("wOGx"),x=n("gEaE"),S=Object(C.b)(),O=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.handleFetchChange=function(){var e=a.props,t=e.pincodeImageResource;(0,e.onFetchingChange)(t.isFetching)},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){this.props.pincodeImageResource.isFetching||this.handleFetchChange()},t.prototype.componentDidUpdate=function e(t){this.props.pincodeImageResource.isFetching!==t.pincodeImageResource.isFetching&&this.handleFetchChange()},t.prototype.render=function e(){var t=this.props,n=t.className,r=t.pincodeImageResource.data,o=t.size,a=o,i=o;return y.a.createElement(x.b,{display:"flex",justifyContent:"center",alignItems:"center",width:a,height:i},r&&y.a.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:r},style:{width:a,height:i}}),y.a.createElement(x.E,{accessibilityLabel:w.a._("Loading Pincode Image","accessibility label for loading the Pincode image"),show:!r}))},t}(g.Component),T=Object(v.c)({name:"PincodeImageResource",key:"pincodeImageResource",options:function e(t){var n=t.id,r=t.customHeroImageURL;return{object_id:n,hero_image_url:r?Object(_.c)(r):S}}})(O),I=n("IaRT"),P=n.n(I),k=328,j=85,R=-1,B=n("Kqaz"),N=350,L=288,M=230,U=300,D=55,H=3544,F="pincodeMain",A="pincodeCTA",W=function e(t,n){var r=document.createElement("canvas");r.width=3544,r.height=3544;var o=Math.round(.1*r.width),a=Math.round(.05*r.width),i=r.width-2*o,s=r.width-2*a,l=r.height-i,c=n.width/n.height>s/l?[s,s/n.width*n.height]:[l/n.height*n.width,l],u=c[0],d=c[1],p=r.getContext("2d");return p.fillStyle="#fff",p.fillRect(0,0,r.width,r.height),p.drawImage(t,o,0,i,i),p.drawImage(n,(r.width-u)/2,i+(r.height-i-d)/2,u,d),r},z=function(e){function t(){var n,r,o;f(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(s))),r.state={ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,selectedImageIndex:0},r.getCustomHeroImageURL=function(){var e=r.props,t=e.images,n=e.getMainImageURL,o=r.state.selectedImageIndex;if(o!==R){var a=t[o];if(a)return n?n(a.url):a.url}return""},r.handleSelectImage=function(e){r.setState({isPickingHeroImage:!1,selectedImageIndex:e})},r.handleCancelButtonClick=function(){return r.setState({isPickingHeroImage:!1})},r.handleEditButtonClick=function(){return r.setState({isPickingHeroImage:!0})},r.handleFetchChange=function(e){r.setState({isFetchingPincodeImage:e})},r.downloadPincodeImage=function(){var e=r.previewNode,t=r.state,n=t.ctaIsLoaded,o=t.isFetchingPincodeImage,a=t.isDownloading;if(e&&n&&!o&&!a){var i=e.querySelector("."+F),s=e.querySelector("."+A);if(i&&s){var l=r.props,c=l.contextLog,u=l.getDownloadImageURL;c(7078,{component:13141,objectId:l.id}),r.setState({isDownloading:!0}),Promise.all([d(i,u),d(s)]).then(function(e){var t=e[0],n=e[1];return W(t,n)}).then(function(e){return m(e,"pincode_"+r.props.id+".png")}).then(function(){r.setState({isDownloading:!1})}).catch(function(){r.setState({errorFlyoutIsOpen:!0})})}}},r.renderHeroImagePicker=function(){var e=r.props,t=e.getThumbnailImageSrcSet,n=e.images,o=e.includeLogo;return y.a.createElement(x.b,null,y.a.createElement(x.b,{paddingY:1},y.a.createElement(x.l,{size:"xs",truncate:!0},w.a._("Change Image","Title of the Pincode hero image picker modal"))),y.a.createElement(x.i,null),y.a.createElement(i,{images:n,includeLogo:o,getThumbnailImageSrcSet:t,onTouch:function e(t){return r.handleSelectImage(t)}}),y.a.createElement(x.b,{padding:1},y.a.createElement(x.c,{text:w.a._("Cancel","Button to dismiss Pincode hero image picker"),onClick:r.handleCancelButtonClick})))},r.renderPreviewMode=function(){var e=r.props,t=e.id,n=e.images,o=e.includeLogo,a=r.state,i=a.ctaIsLoaded,s=a.errorFlyoutIsOpen,l=a.isFetchingPincodeImage,c=a.isDownloading;return y.a.createElement(x.b,null,y.a.createElement("div",{ref:function e(t){r.previewNode=t}},y.a.createElement(x.b,{color:"white",display:"flex",direction:"column",alignItems:"center",width:"100%",height:L},y.a.createElement(T,{className:F,customHeroImageURL:r.getCustomHeroImageURL(),id:t,onFetchingChange:r.handleFetchChange,size:M}),y.a.createElement(x.b,{display:"flex",justifyContent:"center",alignItems:"center"},y.a.createElement("div",{className:A},y.a.createElement(E.default,{onCtaDidLoad:function e(){return r.setState({ctaIsLoaded:!0})},width:U,height:D}))))),y.a.createElement(x.b,{marginTop:4,padding:1},n.length+(o?1:0)>1&&y.a.createElement(x.b,{padding:1},y.a.createElement(x.c,{text:w.a._("Change Image","Button to pick Pincode hero image"),onClick:r.handleEditButtonClick})),y.a.createElement(x.b,{padding:1},y.a.createElement("div",{ref:function e(t){r.downloadButton=t}},y.a.createElement(x.c,{text:w.a._("Download Pincode","Button to download the Pincode image"),color:"red",onClick:r.downloadPincodeImage,disabled:!i||l||c})),s&&y.a.createElement(x.j,{anchor:r.downloadButton,color:"orange",idealDirection:"down",onDismiss:function e(){return r.setState({errorFlyoutIsOpen:!1})},size:"sm"},y.a.createElement(x.b,{padding:3},y.a.createElement(x.I,{bold:!0,color:"white"},y.a.createElement("span",null,w.a._("Oops! Your browser does not support downloading Pincodes.","Error message shown when user attempts to download Pincode on a browser not supported"))))))))},o=n,h(r,o)}return b(t,e),t.prototype.render=function e(){var t=this.state.isPickingHeroImage;return y.a.createElement(x.b,{width:350,color:"white",shape:"rounded",padding:4},t?this.renderHeroImagePicker():this.renderPreviewMode())},t}(g.Component);z.contextTypes={locale:P.a.string};var G=t.a=Object(B.a)(z)},qoxB:function(e,t){},qzVV:function(e,t,n){"use strict";var r=function e(t,n,r){this.type=t,this.target=n,this.currentTarget=n,this.data=r||{},this.stopped=!1};r.prototype.stopPropagation=function(){this.stopped=!0},r.prototype.shouldPropagate=function(){return!this.stopped},t.a=r},s6Db:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e){var t=e.hasCustomOrder,n=e.isOwnProfile,r=e.mostRecentBoardSortOrder,o=e.updatedBoardOrder,a=t?"custom":"last_pinned_to";return n&&o?a=o:r&&(a=r),a}Object.defineProperty(t,"__esModule",{value:!0});var w=n("d6ZO"),E=n.n(w),v=n("DUIN"),_=n("IaRT"),C=n.n(_),x=n("JyNp"),S=n("pN+K"),O=n("Xafg"),T=n("gEaE"),I=n("MQ2h"),P=n.n(I),k=n("HLDn"),j=n("RklN"),R=n.n(j),B=n("XzH3"),N=n("sHc9"),L=n("S+Qs"),M=n("tWOI"),U=n("4Gri"),D=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={removedBoards:[]},a.componentWillUnmount=function(){a.state.removedBoards.length&&a.props.invalidateResource()},a.handleDelete=function(e){return a.setState(function(t){return{removedBoards:[].concat(t.removedBoards,[e.id])}})},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.archivedBoardsResource,r=t.traceLogger;r.sendEvent(new U.a),r.sendEvent(new U.P),r.sendEvent(new U.N({viewportFilled:!1,gridData:n.data,el:R.a.findDOMNode(this)})),this.props.traceLogger.sendEvent(new U.O),r.sendEvent(new U.p({result:1}))},t.prototype.render=function e(){var t=this,n=this.props,r=n.archivedBoardsResource,o=r.data,a=r.fetchMore,i=r.isAtEnd,s=r.isFetching,l=n.boardCardWidth,c=n.boardCardHeight,u=n.isOwnProfile,d=n.onBoardArchiveChange,p=n.profileBoardView,m=this.state.removedBoards,f=l+24,h="list"===p;return E.a.createElement(T.b,null,E.a.createElement(N.a,{itemWidth:f},E.a.createElement(T.A,{isAtEnd:i,isFetching:s,fetchMore:a}),o.filter(function(e){return!m.includes(e.id)}).map(function(e,n){var r=E.a.createElement(B.a,{board:e,boardCardHeight:c,boardCardWidth:l,isOwnProfile:u,onBoardArchiveChange:d,onBoardDelete:t.handleDelete,slotIndex:n,privacy:e.privacy});return h?E.a.createElement(T.b,{justifyContent:"center",display:"flex",width:"100%",key:e.id},E.a.createElement(T.b,{maxWidth:800,width:"100%",paddingX:3},E.a.createElement(T.i,null),E.a.createElement(T.b,{key:e.id,paddingY:3,width:"100%"},r))):E.a.createElement(T.b,{key:e.id,maxWidth:f,overflow:"hidden",paddingX:3,paddingY:5},r)})))},t}(w.Component);D.defaultProps={boardCardWidth:301,boardCardHeight:200};var H=Object(I.compose)(Object(v.connect)(null,function(e){return{invalidateResource:function t(){return e(Object(L.f)("BoardArchiveResource"))}}}),M.a)(D),F=n("BAXv"),A=n("PdvL"),W=n("W/Cr"),z=n("Esb+"),G=n.n(z),X=n("tmfO"),V=n("c2KC"),Y=n("RjD1"),Z=n("BVzu"),q=n("aoZs"),K=n("LQgx"),Q=n("1QHH"),J=n("Kqaz"),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ee=40,te=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=s(this,e.call.apply(e,[this].concat(l))),r.state={isCreateModalOpen:!1},r.handleCreateClick=r.props.authAction(function(){var e=r.props.contextLog;r.setState({isCreateModalOpen:!0}),e(101,{component:1,element:249,view:4})}),r.handleHide=function(){r.setState({isCreateModalOpen:!1})},o=n,s(r,o)}return l(t,e),t.prototype.render=function e(){var t=this.props,n=t.cardHeight,r=t.cardWidth,o=t.onBoardCreate,a=t.privacy,i=this.state.isCreateModalOpen,s=a===F.a.BoardPrivacy.PUBLIC?W.a._("Create board"):W.a._("Create secret board"),l=this.BoardCreateModal;return w.createElement(T.b,{"data-test-id":"createBoardCard"},w.createElement(T.N,{fullWidth:!1,onTouch:this.handleCreateClick,shape:"rounded"},w.createElement(T.d,null,w.createElement(T.b,{display:"flex",alignItems:"center",justifyContent:"center",color:"lightGray",shape:"rounded",width:r,height:n,fit:!0},w.createElement(T.b,{color:"white",height:40,width:40,shape:"circle"},w.createElement(T.m,{accessibilityLabel:"",color:"red",icon:"add-circle",size:40}))),w.createElement(T.b,{paddingX:2,paddingY:3},w.createElement(T.I,{bold:!0,color:"gray",size:"lg"},s)))),i&&w.createElement(l,{onBoardCreate:o,onClose:this.handleHide,privacy:a}))},$(t,[{key:"BoardCreateModal",get:function e(){var t=this;return Object(S.b)({name:"CategoriesResource",key:"categories"},{allowStale:!1})(function(e){var n=e.resourceLoaded,r=e.categories,o=e.onBoardCreate,a=e.onClose,i=e.privacy;return w.createElement(K.a,{className:"BoardCreate BoardEditBase",onHide:n?t.handleHide:null},n?w.createElement(q.a,{categories:r,onBoardCreate:o,onClose:a,privacy:i}):w.createElement(T.E,{accessibilityLabel:W.a._("Create a board"),show:!0}))})}}]),t}(w.Component),ne=Object(I.compose)(Q.a,J.a)(te),re=n("ZtCB"),oe=n.n(re),ae=n("zM1h"),ie=n("GU18"),se=n("8tIN"),le=n("Cjb7"),ce=n("suNN"),ue=n("g5tP"),de=n("mZ/m"),pe=n("3hjj"),me=n("Pc8e"),fe=n("bhla"),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),be=-1,ge=200,ye=20,we=function(e){function t(){var n,r,o;c(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.state={boardIds:r.props.boards.map(function(e){return e.id}),dropAction:null,previewIndex:be,sourceIndex:be,targetIndex:be},r.cancelHoverTimeout=function(){var e=r.dragHoverTimeout;e&&clearTimeout(e.timeoutId),r.dragHoverTimeout=null},r.dragHoverTimeout=null,r.isDragging=function(){return r.state.sourceIndex!==be},r.handleBoardCardDragBegin=function(e){return r.setState({previewIndex:e,sourceIndex:e})},r.handleBoardCardDragHover=function(e,t){if(t){var n=r.state,o=n.boardIds,a=n.previewIndex,i=r.props,s=i.allowReordering,l=i.isOwnProfile;if(s||l){var c=s?Object(fe.a)({hoverRelativePosition:t,centerEnabled:e!==a&&l}):"center",u={itemIndex:e,regionWithinItem:c};if(!r.dragHoverTimeout||!Object(fe.c)(u,r.dragHoverTimeout.hoverLocation)){r.cancelHoverTimeout();var d="center"===c?"merge":"reorder",p=Object(fe.b)({hoverLocation:u,sourceIndex:a});p!==a?r.dragHoverTimeout={hoverLocation:u,timeoutId:setTimeout(function(){r.dragHoverTimeout=null,r.setState(Object.assign({dropAction:d,targetIndex:p},"reorder"===d?{previewIndex:p,boardIds:Object(de.d)(o,a,p)}:{}))},"reorder"===d?ge:ye)}:p!==r.state.targetIndex&&r.setState({targetIndex:p})}}}},r.handleBoardCardDragEnd=function(e){var t=r.props,n=t.boards,o=t.onBoardReorder,a=t.boardOrder,i=r.state,s=i.boardIds,l=i.dropAction,c=i.previewIndex,u=i.sourceIndex,d=i.targetIndex,p=r.context,m=p.legacyShowInModal,f=p.legacyClearAllModals;if(r.cancelHoverTimeout(),r.setState({boardIds:n.map(function(e){return e.id}),previewIndex:be,sourceIndex:be,targetIndex:be}),e&&u!==be&&d!==be&&u!==d)if("custom"!==a&&m({accessibilityCloseLabel:W.a._("Close","Close button for board order overwrite modal"),accessibilityModalLabel:W.a._("Warning about overwriting board order","Accessible label for the board order overwrite modal"),children:w.createElement(T.b,{padding:4},w.createElement(T.I,null,Object(ce.b)(W.a._("You’re about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}"),{dragAndDrop:w.createElement(T.I,{bold:!0,inline:!0},W.a._("Drag and drop","Text for indicating drag and drop sort order"))}))),footer:w.createElement(T.b,{display:"flex",marginLeft:-1,marginRight:-1,justifyContent:"end"},w.createElement(T.b,{padding:1},w.createElement(T.c,{size:"lg",text:W.a._("Cancel","Button text for canceling board re-ordering"),onClick:function e(){return f()}})),w.createElement(T.b,{padding:1},w.createElement(T.c,{size:"lg",color:"red",text:W.a._("Lose previous customization","Button text for confirming board re-ordering"),onClick:r.handleOverwriteBoardOrder}))),heading:W.a._("Are you sure?","Heading for board order overwriting modal"),size:"md",onDismiss:function e(){return f()},role:"alertdialog"}),"merge"===l){var h=function e(t){var r=s[t];return r&&n.find(function(e){return e.id===r})},b=h(c),g=h(d);if(b&&g){if(b.collaborated_by_me)return void m({accessibilityCloseLabel:W.a._("Close","close button"),accessibilityModalLabel:W.a._("Board Merge Error Alert","accessibility label for board merging error alert"),children:w.createElement(T.b,{padding:4},w.createElement(T.I,null,W.a._("You can't move this board because you didn't create it.","board merging error alert"))),footer:w.createElement(T.b,null,w.createElement(T.c,{color:"red",text:W.a._("Got it","ok button in board merging error alert"),onClick:function e(){return f()}})),heading:W.a._("Oops!","Modal heading for board merging confirmation modal"),onDismiss:function e(){return f()},role:"alertdialog",size:"md"});m({accessibilityCloseLabel:W.a._("Close","close button"),accessibilityModalLabel:W.a._("Confirm Board Merge","accessibility label for board merging confirmation modal"),children:w.createElement(T.b,{padding:4},w.createElement(V.a,{sourceBoard:b,targetBoard:g})),footer:w.createElement(T.b,{alignItems:"center",display:"flex",justifyContent:"end",marginLeft:-2,marginRight:-2},w.createElement(T.b,{paddingX:2},w.createElement(T.c,{inline:!0,text:W.a._("Cancel","Cancel button in board merging confirmation modal"),onClick:function e(){return f()}})),w.createElement(T.b,{paddingX:2},w.createElement(T.c,{inline:!0,color:"red",text:W.a._("Move Pins and delete board","Confirm button in board merging confirmation modal"),onClick:function e(){r.handleMergeBoards(b,g)}}))),heading:W.a._("Move Pins and delete board?","Modal heading for board merging confirmation modal"),onDismiss:function e(){return f()},role:"dialog",size:"md"})}}else o(u,d)},r.handleOverwriteBoardOrder=function(){var e=r.props.dispatch,t=r.context.legacyClearAllModals,n="custom";e(Object(pe.b)("custom")),oe.a.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),t()},r.handleMergeBoards=function(e,t){var n=r.context.legacyClearAllModals,o=r.props,a=o.contextLog,i=o.dispatch,s=o.showBlockingActionToast,l=o.onBoardDelete;a(7172,{objectId:e.id,merge_flow:"dnd"}),i(Object(ue.i)(e.id,t.id)).then(function(){return s({actionType:"merge",board:t})}).catch(function(e){Z.a.showError(e.message||W.a._("Failed to merge boards","Error message when failed to merge boards"))}),l(e.id),n()},o=n,u(r,o)}return d(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.boards,r=t.isOwnProfile,o=t.privacy,a=t.traceLogger;"public"===o?a.sendEvent(new U.E):a.sendEvent(new U.J),a.sendEvent(new U.P),a.sendEvent(new U.N({viewportFilled:!1,gridData:n,el:R.a.findDOMNode(this)})),this.props.traceLogger.sendEvent(new U.O),r?a.sendEvent(new U.p({result:1})):a.sendEvent(new U.n({result:1}))},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){var n=function e(t){return t.map(function(e){return e.id}).join(",")};n(t.boards)!==n(this.props.boards)&&this.setState({boardIds:t.boards.map(function(e){return e.id}),dropAction:null,previewIndex:be,sourceIndex:be,targetIndex:be})},t.prototype.componentWillUnmount=function e(){le.b.publish("boardListUnmount","boardListUnmount",{}),this.cancelHoverTimeout()},t.prototype.render=function e(){var t=this,n=this.props,r=n.boardCardHeight,o=n.boardCardWidth,a=n.boardOrder,i=n.boards,s=n.connectDropTarget,l=n.hideCreateCard,c=n.isDragWithinBounds,u=n.isOwnProfile,d=n.isRetina,p=n.onBoardArchiveChange,m=n.onBoardDelete,f=n.onBoardPrivacyChange,h=n.onBoardUpdate,b=n.onBoardCreate,g=n.privacy,y=n.profileBoardView,E=n.isUserBlocked,v=this.state,_=v.boardIds,C=v.dropAction,x=v.targetIndex,S=this.context.locale,O=this.allowDragging,I=i.reduce(function(e,t){var n;return Object.assign({},e,(n={},n[t.id]=t,n))},{}),P=_.map(function(e){return I[e]}).filter(function(e){return!!e}),k=o+24,j="list"===y,R=w.createElement("div",null,w.createElement(N.a,Object.assign({},j?{}:{itemWidth:k},{maxColumns:j?0:12}),u&&!l&&w.createElement(T.b,{paddingX:3,paddingY:5},w.createElement(ne,{cardHeight:r,cardWidth:o,onBoardCreate:b,privacy:g})),P.map(function(e,n){var i=w.createElement(B.a,{boardCardHeight:r,boardCardWidth:o,board:e,boardOrder:a,isOwnProfile:u,isMergeTarget:"merge"===C&&n===x,isReordering:t.isDragging(),isRetina:d,onBoardArchiveChange:p,onBoardDelete:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return m(e.id)}),onBoardPrivacyChange:f,onBoardUpdate:h,slotIndex:n,viewingUserLocale:S,isUserBlocked:E}),s=O?w.createElement(me.b,{index:n,onDragBegin:t.handleBoardCardDragBegin,onDragHover:t.handleBoardCardDragHover,onDragEnd:t.handleBoardCardDragEnd,type:me.a.Board},i):i,l={__style:{opacity:t.isDragging()&&!c?.5:1}};return j?w.createElement(T.b,{justifyContent:"center",display:"flex",width:"100%",key:e.id},w.createElement(T.b,{maxWidth:800,width:"100%",paddingX:3},w.createElement(T.i,null),w.createElement(T.b,{dangerouslySetInlineStyle:l,key:e.id,paddingY:3,width:"100%"},s))):w.createElement(T.b,{dangerouslySetInlineStyle:l,key:e.id,maxWidth:k,overflow:"hidden",paddingX:3,paddingY:5},s)})));return w.createElement(T.b,null,O&&s?s(R):R,this.isDragging()&&w.createElement(Y.a,null))},he(t,[{key:"allowDragging",get:function e(){return this.props.allowReordering||this.props.isOwnProfile}}]),t}(w.Component);we.contextTypes={locale:C.a.string.isRequired,legacyRemoveModal:C.a.func,legacyShowInModal:C.a.func,legacyClearAllModals:C.a.func},we.defaultProps={boardCardWidth:300,boardCardHeight:200};var Ee=Object(I.compose)(Object(ae.a)(me.a.Board),se.a,J.a,Object(v.connect)(),ie.a,M.a)(we),ve=n("gTNS"),_e=n("WBZ1"),Ce=n.n(_e),xe=n("nX0T"),Se=n("+kCg"),Oe=n("kzic"),Te=25,Ie=1e3,Pe=5,ke=100,je={square:193,wide:300,list:"100%"},Re={square:193,wide:200,list:"auto"},Be=function e(t){var n=t.headerLabel,r=void 0===n?"":n;return w.createElement(T.h,null,w.createElement(T.b,{alignItems:"center",display:"flex",marginBottom:2,marginLeft:-4,marginRight:-4,paddingX:3},w.createElement(T.b,{column:9,display:"flex",justifyContent:"between",paddingX:4},w.createElement(T.I,{color:"gray",size:"sm"},W.a._("Name","Profile header - board name"))),w.createElement(T.b,{alignItems:"center",column:3,display:"flex",paddingX:4},w.createElement(T.I,{color:"gray",size:"sm"},r))))},Ne=function e(t){var n=t.description,r=t.icon,o=t.link,a=t.title;return w.createElement(T.h,null,w.createElement(T.b,{paddingY:6,paddingX:3},w.createElement(T.I,{bold:!0,size:"sm"},a," ",w.createElement(T.m,{accessibilityLabel:"",color:"darkGray",icon:r,inline:!0,size:12})),w.createElement(T.I,{inline:!0,size:"sm"},n),o||null))},Le=function(e){function t(n,r){p(this,t);var o=m(this,e.call(this,n,r));return Me.call(o),o.state=Object.assign({resourceShouldInvalidate:!1},o.getBoardsState(n)),o}return f(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.isOwnProfile,r=t.traceLogger;t.publicAndSecretBoardsLoaded&&(n?r.sendEvent(new U.p({result:1,trackImages:!1})):r.sendEvent(new U.n({result:1,trackImages:!1}))),window.addEventListener("scroll",this.handleScrollOrResize),window.addEventListener("resize",this.handleScrollOrResize)},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){var n=this;if(t.publicAndSecretBoardsLoaded)if(this.props.publicAndSecretBoardsLoaded)if((this.props.boards.data||[]).length!==(t.boards.data||[]).length||((this.props.secretBoards||{}).data||[]).length!==((t.secretBoards||{}).data||[]).length||this.props.archivedBoards&&this.props.archivedBoards.isLoaded&&(this.props.archivedBoards.data||[]).length!==(t.archivedBoards.data||[]).length)this.setState(this.getBoardsState(t),function(){window.scroll(0,0)});else{var r=this.props.boards.data&&this.props.boards.data.map(function(e){return e.id}),o=t.boards.data&&t.boards.data.map(function(e){return e.id}),a=this.props.secretBoards&&this.props.secretBoards.data&&this.props.secretBoards.data.map(function(e){return e.id}),i=t.secretBoards&&t.secretBoards.data&&t.secretBoards.data.map(function(e){return e.id});if(r&&r.length&&!G()(r,o)||!G()(a,i))this.setState(this.getBoardsState(t));else{var s=t.boards.data,l=t.secretBoards,c=(l=void 0===l?{}:l).data,u=[].concat(s||[],c||[]).map(function(e){return e.id}).filter(function(e){return n.boardExists(e,n.props.deletingBoardMap)&&!n.boardExists(e,t.deletingBoardMap)});u.length&&this.handleBoardsDelete(u)}}else this.setState(this.getBoardsState(t))},t.prototype.componentDidUpdate=function e(t,n){var r=this.props,o=r.boards,a=r.publicAndSecretBoardsLoaded,i=r.secretBoards;!t.publicAndSecretBoardsLoaded&&a&&(this.markResourcesFetchingTime(o.data||[],(i||{}).data||[]),Se.b.endTiming({upwtStopReason:1,forceEndtiming:!0})),this.state.numPublicBoardsShown===n.numPublicBoardsShown&&this.state.numPrivateBoardsShown===n.numPrivateBoardsShown&&this.state.numProtectedBoardsShown===n.numProtectedBoardsShown||this.showMoreBoardsIfNecessary()},t.prototype.componentWillUnmount=function e(){window.removeEventListener("scroll",this.handleScrollOrResize),window.removeEventListener("resize",this.handleScrollOrResize);var t=this.state.resourceShouldInvalidate,n=this.props,r=n.boards,o=n.secretBoards;t&&(r.refreshData(),o&&o.refreshData())},t.prototype.boardRepHeight=function e(){var t=this.props,n=t.boardCardHeight,r=t.isOwnProfile,o=t.profileBoardView;return r&&o?Re[o]:n},t.prototype.boardRepWidth=function e(){var t=this.props,n=t.boardCardWidth,r=t.isOwnProfile,o=t.profileBoardView;return r&&o?je[o]:n},t.prototype.renderBoardsList=function e(t,n){var r=this.props,o=r.boardOrder,a=r.isOverview,i=r.isOwnProfile,s=r.isRetina,l=r.isUserBlocked,c=r.profileBoardView,u=["privateBoards","protectedBoards"].includes(n)?"secret":"public",d=i&&c?c:"wide",p="list"===d,m="newest"===o||"oldest"===o?W.a._("Created on","Profile board list view heading label"):W.a._("Last saved to","Profile board list view heading label");return w.createElement(T.b,null,p&&w.createElement(Be,{headerLabel:m}),w.createElement(Ee,{allowReordering:i,boardCardWidth:this.boardRepWidth(),boardCardHeight:this.boardRepHeight(),boards:t,boardOrder:o,buyablePins:[],hasShopCard:!1,hideCreateCard:"protectedBoards"===n||"list"===d,isOverview:a,isOwnProfile:i,isRetina:s,isUserBlocked:l,merchantID:"",onBoardArchiveChange:this.handleBoardArchiveChange,onBoardCreate:this.handleBoardCreate,onBoardDelete:this.handleBoardDelete,onBoardPrivacyChange:this.handleBoardPrivacyChange,onBoardReorder:this.handleBoardReorder(n),onBoardUpdate:this.handleBoardUpdate,privacy:u,profileBoardView:d}))},t.prototype.renderBoardsWithRestrictions=function e(t,n,r,o){var a="privateBoards"===n?w.createElement(X.b,{className:"underlineLink",to:F.a.GEN.templateConst.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,useNewTab:!0},w.createElement(T.I,{bold:!0,inline:!0,size:"sm"},W.a._("Learn more"))):null;return w.createElement(T.b,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},overflow:"hidden"},w.createElement(Ne,{description:o,icon:"lock",title:r,link:a}),w.createElement(T.b,{marginBottom:6},this.renderBoardsList(t,n)))},t.prototype.renderBoards=function e(){var t=this.props,n=t.archivedBoards,r=t.firstName,o=t.isOwnProfile,a=t.profileBoardView,i=this.state,s=i.numPublicBoardsShown,l=i.numPrivateBoardsShown,c=i.numProtectedBoardsShown,u=i.publicBoards,d=void 0===u?[]:u,p=i.privateBoards,m=void 0===p?[]:p,f=i.protectedBoards,h=void 0===f?[]:f;if(!o&&!d.length)return w.createElement(ve.a,{text:Object(ce.b)(W.a._("{{ firstName }} hasn't created any boards yet"),{firstName:r})});var b=s===d.length,g=c===h.length,y=l===m.length,E=b&&g&&y,v="list"===a;return w.createElement(T.b,{marginBottom:6,overflow:"hidden"},w.createElement(T.b,{marginTop:v?6:0},this.renderBoardsList(d.slice(0,s),"publicBoards")),o&&b&&w.createElement(T.b,{marginTop:6},this.renderBoardsWithRestrictions(m.slice(0,l),"privateBoards",W.a._("Secret boards"),W.a._("Only you and people you invite can see these boards. "))),o&&b&&h.length>0&&w.createElement(T.b,{marginTop:6},this.renderBoardsWithRestrictions(h.slice(0,c),"protectedBoards",W.a._("Protected boards"),W.a._("Protected boards are not shown on your profile page publicly but anyone with the URL can view them."))),o&&E&&n.isLoaded&&(n.data||[]).length>0&&w.createElement(T.b,null,w.createElement(Ne,{description:W.a._("These are hidden from your profile.","subtitle for archived boards section on a profile"),icon:"remove",title:W.a._("Archived boards","title for archived boards section on a profile")}),v&&w.createElement(Be,{headerLabel:W.a._("Archived on","Profile board list view heading label")}),w.createElement(H,{boardCardWidth:this.boardRepWidth(),boardCardHeight:this.boardRepHeight(),archivedBoardsResource:n,isOwnProfile:o,onBoardArchiveChange:this.handleBoardArchiveChange,profileBoardView:a})))},t.prototype.render=function e(){var t=this,n=this.props,r=n.isOwnProfile,o=n.publicAndSecretBoardsLoaded,a=r?3106:3107;return w.createElement(xe.a,{view:4,viewParameter:a,component:209},w.createElement("div",{ref:function e(n){t._container=n}},o?this.renderBoards():w.createElement(T.b,{padding:6},w.createElement(T.E,{accessibilityLabel:W.a._("Boards","List of boards on the users profile page"),show:!0}))))},t}(w.Component),Me=function e(){var t=this;this.getBoardsState=function(e){var n=e.publicAndSecretBoardsLoaded,r=e.boards,o=e.secretBoards,a=e.deletingBoardMap,i=function e(n){return t.boardExists(n.id,a)},s=(n&&(r||{}).data||[]).filter(i),l=(n&&(o||{}).data||[]).filter(i),c=s.filter(function(e){return"protected"!==e.privacy}),u=l.filter(function(e){return"protected"!==e.privacy}),d=s.filter(function(e){return"protected"===e.privacy}),p=l.filter(function(e){return"protected"===e.privacy}),m=d.concat(p);return{publicBoards:c,privateBoards:u,protectedBoards:m,numPublicBoardsShown:Math.min(c.length,25),numPrivateBoardsShown:Math.min(u.length,25),numProtectedBoardsShown:Math.min(m.length,25)}},this.boardExists=function(e,t){return!(t[e]&&(t[e].success||t[e].deleting))},this.markResourcesFetchingTime=function(e,n){var r=[];if(e.concat(n).forEach(function(e){var t=e.images;t["170x"]&&t["170x"].forEach(function(e){r.push(e.url)})}),r.length>0){var o={resources:r};Se.b.mark("profileBoardsRendered",o,t._container)}},this._container=null,this.handleBoardCreate=function(e){t.setState({resourceShouldInvalidate:!0},function(){var n=t.props.router;n?n.push(e.url):Object(A.a)(e.url)})},this.handleBoardsDelete=function(e){var n=e.reduce(function(e,t){var n=e.privateBoards.filter(function(e){return e.id!==t});if(n.length!==e.privateBoards.length)return Object.assign({},e,{privateBoards:n,numPrivateBoardsShown:Math.min(e.numPrivateBoardsShown,n.length)});var r=e.protectedBoards.filter(function(e){return e.id!==t});if(r.length!==e.protectedBoards.length)return Object.assign({},e,{protectedBoards:r,numProtectedBoardsShown:Math.min(e.numProtectedBoardsShown,r.length)});var o=e.publicBoards.filter(function(e){return e.id!==t});return o.length!==e.publicBoards.length?Object.assign({},e,{publicBoards:o,numPublicBoardsShown:Math.min(e.numPublicBoardsShown,o.length)}):e},Object.assign({},t.state,{resourceShouldInvalidate:!0}));t.setState(n)},this.handleBoardDelete=function(e){return t.handleBoardsDelete([e])},this.handleBoardPrivacyChange=function(){var e=t.props,n=e.boards,r=e.secretBoards;n.refreshData(),r&&r.refreshData()},this.handleBoardUpdate=function(e,n){var r=t.state,o=r.publicBoards,a=r.privateBoards,i=r.protectedBoards,s=o.findIndex(function(t){return t.id===e}),l=a.findIndex(function(t){return t.id===e}),c=i.findIndex(function(t){return t.id===e});if(-1!==s){var u=[].concat(o),d=u[s],p=Object.assign({},d,n);u[s]=p,t.setState({publicBoards:u})}else if(-1!==l){var m=[].concat(a),f=m[l],h=Object.assign({},f,n);m[l]=h,t.setState({privateBoards:m})}else if(-1!==c){var b=[].concat(i),g=b[c],y=Object.assign({},g,n);b[c]=y,t.setState({protectedBoards:b})}},this.handleBoardArchiveChange=function(){t.handleBoardPrivacyChange(),t.props.archivedBoards.refreshData()},this.showMoreBoardsIfNecessary=function(){if(t.props.publicAndSecretBoardsLoaded&&t._container){var e=!1,n=document.documentElement,r=window.scrollY||n&&n.scrollTop;if(!(e="number"==typeof r&&r>=t._container.clientHeight-1e3)&&n){var o=r+window.innerHeight,a=t._container.clientHeight;e=Math.abs(a-o)<=5}if(e){var i=t.state,s=i.numPublicBoardsShown,l=i.numPrivateBoardsShown,c=i.numProtectedBoardsShown,u=i.publicBoards,d=i.privateBoards,p=i.protectedBoards;s<u.length?t.setState({numPublicBoardsShown:Math.min(s+25,u.length)}):l<d.length?t.setState({numPrivateBoardsShown:Math.min(l+25,d.length)}):c<p.length&&t.setState({numProtectedBoardsShown:Math.min(c+25,p.length)})}}},this.handleScrollOrResize=Ce()(function(){t.showMoreBoardsIfNecessary()},100),this.handleBoardReorder=function(e){return function(n,r){var o,a=t.state[e],i=function e(t){return t>=0&&t<a.length};if(r!==n&&i(r)&&i(n)){var s=Object(de.d)(a,n,r);t.setState((o={},o[e]=s,o));var l=s.map(function(e){return e.id});oe.a.create("BoardsReorderResource",{board_ids:l}).callUpdate({showError:!1}).then(function(){return t.setState({resourceShouldInvalidate:!0})})}}}},Ue=Object(I.compose)(Oe.withRouter,Object(v.connect)(function(e){return{deletingBoardMap:e.boards.deleting,profileBoardView:e.ui.views&&e.ui.views.profileBoardView}}),M.a)(Le);n.d(t,"PublicProfileBoards",function(){return Ae}),t.getBoardOrder=y;var De={name:"BoardsResource",key:"boards",options:function e(t){var n=t.boardOrder,r=t.limit,o=t.username;return Object(k.a)(o,!1,n,r)}},He={name:"BoardsResource",key:"secretBoards",options:function e(t){var n=t.username,r=t.boardOrder;return Object(k.a)(n,!0,r)}},Fe={name:"BoardArchiveResource",key:"archivedBoards"},Ae=Object(I.compose)(Object(x.c)(De),function(e){return function(t){return E.a.createElement(e,Object.assign({},t,{publicAndSecretBoardsLoaded:t.boards.isLoaded}))}})(Ue),We=Object(I.compose)(Object(x.c)(De),Object(x.c)(He),Object(x.c)(Fe),function(e){return function(t){return E.a.createElement(e,Object.assign({},t,{publicAndSecretBoardsLoaded:t.boards.isLoaded&&t.secretBoards.isLoaded}))}})(Ue),ze=function(e){function t(){return h(this,t),b(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function e(){var t=this.props,n=t.data,r=t.metadata,o=t.viewer,a=t.updatedBoardOrder;if(!n||!r||!r.data)return null;var i=n.blocked_by_me,s=n.first_name,l=n.has_shopping_showcase,c=n.merchant_id,u=n.username,d=this.context.userAgent,p=d.isMobile,m=d.isRetina,f=o.username===u,h={hasCustomOrder:n.has_custom_board_sorting_order,isOwnProfile:f,mostRecentBoardSortOrder:r.data.most_recent_board_sort_order,updatedBoardOrder:a},b={boardOrder:y(Object.assign({},h)),currentUser:o,firstName:s,hasShoppingShowcase:l,isMobile:p,isRetina:m,isOwnProfile:f,isUserBlocked:i,limit:500,merchantID:c,username:u},g=f?We:Ae;return E.a.createElement(T.b,null,E.a.createElement(g,b))},t}(w.Component);ze.contextTypes={userAgent:C.a.shape({isMobile:C.a.bool.isRequired,isRetina:C.a.bool.isRequired}).isRequired};var Ge=t.default=Object(I.compose)(Object(v.connect)(function(e){return{updatedBoardOrder:e.ui.views&&e.ui.views.updatedBoardOrder,viewer:e.viewer}}),Object(S.b)({name:"UserResource",options:function e(t){return{field_set_key:"profile",username:t.params.username}}}),Object(x.c)({name:"UserMetadataResource",key:"metadata",options:function e(t){return{user:{id:t.params.username}}}},{acceptPrefetch:!0}),Object(O.a)({name:"BoardsList",routeContextLog:function e(t,n){var r=void 0;return(t.user||{}).username===n.username&&(r=t.user.id),{object_id_str:r,view_type:4,view_parameter:49}}}))(ze)},sHc9:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.itemWidth,r=e.maxColumns,o=void 0===r?12:r;return a.a.createElement(i.b,{display:"flex",justifyContent:"center",wrap:!0},t,s(n,o))}var o=n("d6ZO"),a=n.n(o),i=n("gEaE"),s=function e(t,n){return Array.from(new Array(n)).map(function(e,n){return a.a.createElement(i.b,{key:n,width:t})})};t.a=r},ssUK:function(e,t,n){"use strict";function r(e){var t=e.classname,n=e.imgUrlBottom,r={backgroundImage:"url("+e.imgUrlTop+")",top:0},o={backgroundImage:"url("+n+")",top:189};return a.createElement("div",null,a.createElement("div",{className:u()("shopHoverImage",t,{hover:e.isHovering}),style:r}),a.createElement("div",{className:u()("shopHoverImage",t,{hover:e.isHovering}),style:o}))}function o(e){var t=e.isHovering,n=e.layout_params,o=e.pins;if(0===o.length)return null;var i=o[0].image_large_url,s=o.length>=5&&t,l={backgroundImage:"url("+i+")",height:h,width:s?b-2*g:b};return a.createElement("div",Object.assign({className:"ShopShowcaseSection"},e.hoverHandlers),a.createElement(f.t,{height:h,shape:"rounded",width:b},a.createElement("div",{className:"imageWash absolute flex items-center justify-center"},o.length>=5?a.createElement(r,{classname:"leftCollage",imgUrlBottom:o[2].image_large_url,imgUrlTop:o[1].image_large_url,isHovering:t}):null,a.createElement("div",{className:"shopCircle"},a.createElement(f.t,{height:y,shape:"circle",width:y},a.createElement("div",{className:"flex items-center justify-center shopCircleText white bg-blue"},a.createElement("p",null,n.action_text)))),o.length>=5?a.createElement(r,{classname:"righCollage",imgUrlBottom:o[4].image_large_url,imgUrlTop:o[3].image_large_url,isHovering:t}):null,a.createElement("div",{className:"shopCardImage",style:l}))))}var a=n("d6ZO"),i=n.n(a),s=n("qoxB"),l=n.n(s),c=n("GGB8"),u=n.n(c),d=n("9bGG"),p=n("IaRT"),m=n.n(p),f=n("gEaE"),h=377,b=768,g=226,y=80,w=m.a.shape({pins:m.a.shape({image_large_url:m.a.string}),hoverHandlers:m.a.objectOf(m.a.func).isRequired,isHovering:m.a.bool.isRequired,layout_params:m.a.shape({action_text:m.a.string.isRequired,subtitle:m.a.string.isRequired,title:m.a.string.isRequired}).isRequired,link_data:m.a.shape({id:m.a.string}),type:m.a.string});t.a=Object(d.a)(o)},tvce:function(e,t,n){"use strict";function r(e){var t={};return e.forEach(function(e){var n=i.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)}),JSON.stringify(t)}function o(){return r(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}function a(){return r(["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"])}t.a=o,t.b=a;var i=n("ieR2")},"u+dI":function(e,t){},v6Mz:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.isOwnProfile,r=e.slotIndex,a=n?3069:3070;return o.createElement(i.a,{componentType:209,loggingId:t.id,impressionType:"Board",slotIndex:r,viewType:4,viewParameter:a},o.createElement(s.b,e))}var o=n("d6ZO"),a=n.n(o),i=n("UsZy"),s=n("UDqR");t.a=r},vP1o:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("DUIN"),c=n("GFee"),u=n("BVzu"),d=n("S1T6"),p=n("aQMl"),m=n("QaAQ"),f=n.n(m),h=n("W/Cr"),b=n("h67S"),g=n("nX0T"),y=n("YZkw"),w=n("i0Ug"),E=n("gEaE"),v=n("MQ2h"),_=n.n(v),C=n("K1Hn"),x=n("suNN"),S=n("+B8E"),O=n("dI1q"),T=24,I=80,P=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.state={headerHeight:null},a.setHeaderHeight=function(e){a.setState({headerHeight:e})},a.errorModalShown=!1,a.selectTab=function(e){var t=a.props,n=t.tab,r=t.user,o=0===r.data.board_count,i=r.data.show_creator_profile;if([O.a.DECIDER].includes(n)&&i)return e&&r.data.pin_count<=2?O.a.PINS:O.a.OVERVIEW;if(n!==O.a.OVERVIEW||i){if(n===O.a.DECIDER&&!i)return o?O.a.TOPICS:O.a.BOARDS;n!==O.a.ACTIVITIES||e||r.data.show_discovered_feed||a.triggerRedirectToHome()}else a.triggerRedirectToHome();return n},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){this.trigger404Error()},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){t.clickedFollowingButton!==this.props.clickedFollowingButton&&t.clickedFollowingButton&&this.props.setPlacementExtraContext({clickedFollowingButton:!0})},t.prototype.componentDidUpdate=function e(){this.trigger404Error()},t.prototype.trigger404Error=function e(){var t=this.props,n=t.renderError,r=t.router,o=t.unsetError,a=t.user;"BoardResource"===f()(n,"extra_data.resource.name")&&!this.errorModalShown&&a.data&&!a.error?(this.errorModalShown=!0,u.a.showHtmlError(Object(x.b)(h.a._("But here are some of {{ fullName }}'s other boards!"),{fullName:a.data.full_name}).join(""),o(),h.a._("We couldn't find that page."))):a.error&&404===a.error.http_status&&r.replace("/?show_error=true")},t.prototype.triggerRedirectToHome=function e(){this.props.router.replace("/?show_error=true")},t.prototype.render=function e(){var t=this.props,n=t.children,r=t.onClickTab,o=t.requestContext,a=t.showPulsar,i=t.showSignupModal,l=t.user,u=t.username,m=t.viewer;if(!l||!l.isLoaded||!l.data)return null;var f=m.isAuth&&u===m.username,h=this.selectTab(f),y=f?3106:3107;if(l.data.show_creator_profile&&m.isAuth)return s.a.createElement(g.a,{view:4,viewParameter:y,objectId:l.data.id},s.a.createElement("div",{className:"UserProfilePage"},s.a.createElement(C.d,{placementId:19}),s.a.createElement(b.a,{tab:h,onClickTab:r,user:l.data},n),s.a.createElement(d.a,{placementId:19})));var w=o&&new S.c(o,"unauth_profile_redesign_v2").enabledWithNoActivation(),v=o&&new S.c(o,"seo_unauth_profile_redesign_v2").enabledWithNoActivation()&&o.isBot,_=w||v,x=this.state.headerHeight;_&&(x=120);var T={marginTop:f||m.isAuth?24:x||80};return s.a.createElement(g.a,{view:4,viewParameter:y,objectId:l.data.id},s.a.createElement(E.b,null,s.a.createElement(C.d,{placementId:19}),s.a.createElement("div",{className:"UserProfilePage",style:T},s.a.createElement(c.a,{name:"ProfileHeaderContainer"},s.a.createElement(b.a,{tab:h,onClickTab:r,user:l.data,requestContext:o,showPulsar:a,showSignupModal:i,setHeaderHeight:this.setHeaderHeight})),s.a.createElement(c.a,{name:"UserProfileContent"},s.a.createElement("div",{className:"UserProfileContent"},n)),u===m.username&&h===O.a.BOARDS&&s.a.createElement(p.a,{placementId:19}))))},t}(i.Component),k=function e(t){return{clickedFollowingButton:t.topics&&Object.keys(t.topics).map(function(e){return t.topics[e]}).filter(function(e){return e.showTooltip}).length>0}};t.a=Object(v.compose)(Object(l.connect)(k),w.a,Object(y.a)(19,function(e,t){return{clickedFollowingButton:e.clickedFollowingButton}}))(P)},vxP6:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.size;return i.createElement(u.b,{padding:1},i.createElement(u.t,{shape:"circle",width:n,height:n},t))}function o(e){var t=e.size;return i.createElement(r,{size:t},i.createElement(c.a,{size:t}))}function a(e){var t=e.image,n=e.srcSet,o=e.size;return i.createElement(r,{size:o},i.createElement(u.o,{alt:l.a._("Pincode Hero Image","accessibility label for the Pincode hero image"),color:t.dominant_color||"#8e8e8e",fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url,srcSet:n}))}n.d(t,"c",function(){return d}),t.a=o;var i=n("d6ZO"),s=n.n(i),l=n("W/Cr"),c=n("wOGx"),u=n("gEaE"),d=function e(t){return t.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")};t.b=a},wOGx:function(e,t,n){"use strict";function r(e,t){return'\n  <svg xmlns="http://www.w3.org/2000/svg" width="'+(e||222)+'" height="'+(e||222)+'" x="'+(t||0)+'" y="'+(t||0)+'" viewBox="'+u+'">\n    <path d="'+l+'" fill="'+c+'" fill-rule="evenodd" />\n  </svg>'}function o(){return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r().trim())}function a(e){var t=e.size;return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:u},i.createElement("path",{d:l,fill:c,fillRule:"evenodd"}))}t.b=o,t.a=a;var i=n("d6ZO"),s=n.n(i),l="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",c="#BD081C",u="0 0 222 222"},zM1h:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("jsUH"),i=n.n(a),s=n("Pc8e"),l=n("DYU3"),c=n("MQ2h"),u=n.n(c),d=function e(t){return function(e){return Object(c.compose)(l.a,Object(a.DropTarget)(t,{},function(e,t){return{connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}}))(e)}};t.a=d}});